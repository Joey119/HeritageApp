<div class="basic-container" *ngIf="heritage">

  <mat-toolbar>
    <span>Tourism Evaluation: {{ heritage.name }} Value: {{ heritage.evaluationValue | number : '1.2-2' }}</span>
    <span class="spacer"></span>
    <button mat-button class="form-save" (click)="evaluateheritage()">Calculate and Save</button>
    <button type="button" mat-button class="form-save" [routerLink]="['/heritagenav', heritage.id]">Back</button>
  </mat-toolbar>

  <p-table [value]="evaluations" [scrollable]="true" selectionMode="single" (onRowSelect)="onRowSelect($event)"
    [paginator]="true" [rows]="20">
    <ng-template pTemplate="caption">
      Heritage Evaluations
    </ng-template>
    <ng-template pTemplate="colgroup" let-columns>
      <colgroup>
        <col style="width:125px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
        <col style="width:85px">
      </colgroup>
    </ng-template>
    <ng-template pTemplate="header">

      <tr>
        <th rowspan="2">利益相关者身份</th>
        <th rowspan="2">非遗旅游价值</th>
        <th rowspan="2">认同感系数</th>
        <th rowspan="2">认知情况系数</th>
        <th rowspan="2">项目自身价值系数</th>
        <th rowspan="2">项目自身基本情况系数</th>
        <th rowspan="2">项目资源开发条件与现状系数</th>
        <th colspan="3">认同感</th>
        <th colspan="4">认知情况</th>
        <th colspan="8">项目自身价值</th>
        <th colspan="6">项目自身基本情况</th>
        <th colspan="5">项目资源开发条件与现状</th>
      </tr>
      <tr>
        <th rowspan="1">重要性</th>
        <th rowspan="1">民族自豪感</th>
        <th rowspan="1">政府保护的必要性</th>
        <th rowspan="1">资源特征</th>
        <th rowspan="1">技艺涉及范围</th>
        <th rowspan="1">技艺传承方式</th>
        <th rowspan="1">技艺传承难度</th>
        <th rowspan="1">艺术价值</th>
        <th rowspan="1">文化价值</th>
        <th rowspan="1">经济价值</th>
        <th rowspan="1">历史价值</th>
        <th rowspan="1">教育价值</th>
        <th rowspan="1">社会价值</th>
        <th rowspan="1">科学价值</th>
        <th rowspan="1">文化生态环境价值</th>
        <th rowspan="1">品质情况</th>
        <th rowspan="1">珍稀性</th>
        <th rowspan="1">原生态程度</th>
        <th rowspan="1">知名度</th>
        <th rowspan="1">个性</th>
        <th rowspan="1">时间跨度</th>
        <th rowspan="1">区域经济水平</th>
        <th rowspan="1">旅游市场情况</th>
        <th rowspan="1">资源开发基础</th>
        <th rowspan="1">资源开发现状</th>
        <th rowspan="1">企业介入可能性</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData>
      <tr [pSelectableRow]="rowData">
        <td>{{rowData.evaluatorTypeId | evaluatortype}}</td>
        <td>{{rowData.evaluationValue | number : '1.2-2'}}</td>
        <td>{{rowData.agreementFactor}}</td>
        <td>{{rowData.cognitionFactor}}</td>
        <td>{{rowData.projectValueFactor}}</td>
        <td>{{rowData.projectBasicInfoFactor}}</td>
        <td>{{rowData.projectConditionStatusFactor}}</td>
        <td>{{rowData.importanceValue | evaluationoption}}</td>
        <td>{{rowData.nationalPrideValue | evaluationoption}}</td>
        <td>{{rowData.govProtectionValue | evaluationoption}}</td>
        <td>{{rowData.resourceCharacteristicsValue | evaluationoption}}</td>
        <td>{{rowData.skillScopeValue | evaluationoption}}</td>
        <td>{{rowData.skillInheritanceMethodValue | evaluationoption}}</td>
        <td>{{rowData.skillInheritanceDifficultyValue | evaluationoption}}</td>
        <td>{{rowData.artValue | evaluationoption}}</td>
        <td>{{rowData.cultureValue | evaluationoption}}</td>
        <td>{{rowData.economyValue | evaluationoption}}</td>
        <td>{{rowData.historyValue | evaluationoption}}</td>
        <td>{{rowData.educationValue | evaluationoption}}</td>
        <td>{{rowData.societyValue | evaluationoption}}</td>
        <td>{{rowData.scienceValue | evaluationoption}}</td>
        <td>{{rowData.ecologicalEnvironmentValue | evaluationoption}}</td>
        <td>{{rowData.qualityValue | evaluationoption}}</td>
        <td>{{rowData.rarenessValue | evaluationoption}}</td>
        <td>{{rowData.ecologyValue | evaluationoption}}</td>
        <td>{{rowData.popularValue | evaluationoption}}</td>
        <td>{{rowData.personalityValue | evaluationoption}}</td>
        <td>{{rowData.timeSpanValue | evaluationoption}}</td>
        <td>{{rowData.nationalEcomonicValue | evaluationoption}}</td>
        <td>{{rowData.marketStatusValue | evaluationoption}}</td>
        <td>{{rowData.basicResourceDevelopmentValue | evaluationoption}}</td>
        <td>{{rowData.basicResourceValue | evaluationoption}}</td>
        <td>{{rowData.introductionProbabilityValue | evaluationoption}}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="summary" let-rowData>
      <div style="text-align:left">
        <button type="button" pButton icon="fa fa-plus" (click)="showDialogToAdd()" label="Add"></button>
      </div>
    </ng-template>

    <!--
      <ng-template pTemplate="footer">
          <tr>
              <td colspan="3">Totals</td>
              <td>$506,202</td>
              <td>$531,020</td>
          </tr>
      </ng-template>
      -->
  </p-table>

  <p-dialog header="Heritage Evaluation" appendTo="body" [(visible)]="displayDialog" [responsive]="true" showEffect="fade"
    [modal]="true" [width]="600">
    <p-confirmDialog  appendTo="body"></p-confirmDialog>
    <div class="ui-g ui-fluid" *ngIf="evaluation">

      <p-fieldset legend="旅游评估">
        <div class="ui-g-7">
          <label for="importance">利益相关者身份</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalTypes" [(ngModel)]="evaluation.evaluatorTypeId" placeholder="Select an option"></p-dropdown>
        </div>

        <div class="ui-g-7">
          <label for="vin">认同感系数</label>
        </div>
        <div class="ui-g-3">
          <input pInputText id="agreementFactor" [(ngModel)]="evaluation.agreementFactor" />
        </div>

        <div class="ui-g-7">
          <label for="vin">认知情况系数</label>
        </div>
        <div class="ui-g-3">
          <input pInputText id="cognitionFactor" [(ngModel)]="evaluation.cognitionFactor" />
        </div>

        <div class="ui-g-7">
          <label for="vin">项目自身价值系数</label>
        </div>
        <div class="ui-g-3">
          <input pInputText id="projectValueFactor" [(ngModel)]="evaluation.projectValueFactor" />
        </div>

        <div class="ui-g-7">
          <label for="vin">项目自身基本情况系数</label>
        </div>
        <div class="ui-g-3">
          <input pInputText id="projectBasicInfoFactor" [(ngModel)]="evaluation.projectBasicInfoFactor" />
        </div>

        <div class="ui-g-7">
          <label for="vin">项目资源开发条件与现状系数</label>
        </div>
        <div class="ui-g-3">
          <input pInputText id="projectConditionStatusFactor" [(ngModel)]="evaluation.projectConditionStatusFactor" />
        </div>
      </p-fieldset>

      <p-fieldset legend="认同感">
        <div class="ui-g-7">
          <label for="importance">重要性</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.importanceValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">民族自豪感</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.nationalPrideValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">政府保护的必要性</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.govProtectionValue" placeholder="Select an option"></p-dropdown>
        </div>
      </p-fieldset>

      <p-fieldset legend="认知情况">
        <div class="ui-g-7">
          <label for="importance">资源特征</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.resourceCharacteristicsValue"
            placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">技艺涉及范围</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.skillScopeValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">技艺传承方式</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.skillInheritanceMethodValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">技艺传承难度</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.skillInheritanceDifficultyValue"
            placeholder="Select an option"></p-dropdown>
        </div>
      </p-fieldset>

      <p-fieldset legend="项目自身价值">
        <div class="ui-g-7">
          <label for="importance">艺术价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.artValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">文化价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.cultureValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">经济价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.economyValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">历史价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.historyValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="importance">教育价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.educationValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">社会价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.societyValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">科学价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.scienceValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">文化生态环境价值</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.ecologicalEnvironmentValue" placeholder="Select an option"></p-dropdown>
        </div>
      </p-fieldset>

      <p-fieldset legend="项目自身基本情况">
        <div class="ui-g-7">
          <label for="importance">品质情况</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.qualityValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">珍稀性</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.rarenessValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">原生态程度</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.ecologyValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">知名度</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.popularValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">个性</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.personalityValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">时间跨度</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.timeSpanValue" placeholder="Select an option"></p-dropdown>
        </div>
      </p-fieldset>

      <p-fieldset legend="项目资源开发条件与现状">
        <div class="ui-g-7">
          <label for="importance">区域经济水平</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.nationalEcomonicValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="b">旅游市场情况</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.marketStatusValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">资源开发基础</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.basicResourceDevelopmentValue"
            placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">资源开发现状</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.basicResourceValue" placeholder="Select an option"></p-dropdown>
        </div>
        <div class="ui-g-7">
          <label for="c">企业介入可能性</label>
        </div>
        <div class="ui-g-3">
          <p-dropdown [options]="availableEvalOptions" [(ngModel)]="evaluation.introductionProbabilityValue"
            placeholder="Select an option"></p-dropdown>
        </div>
      </p-fieldset>

    </div>
    <p-footer>
      <div class="ui-dialog-buttonpane ui-helper-clearfix">
        <button type="button" pButton icon="fa fa-close" (click)="delete()" label="Delete"></button>
        <button type="button" pButton icon="fa fa-check" (click)="save()" label="Save"></button>
      </div>
    </p-footer>
  </p-dialog>


</div>