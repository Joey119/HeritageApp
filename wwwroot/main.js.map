{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_dialogs/activation-mode-add/activation-mode.add.dialog.component.html","webpack:///./src/app/_dialogs/activation-mode-add/activation-mode.add.dialog.component.scss","webpack:///./src/app/_dialogs/activation-mode-add/activation-mode.add.dialog.component.ts","webpack:///./src/app/_dialogs/activation-mode-delete/activation-mode.delete.dialog.component.html","webpack:///./src/app/_dialogs/activation-mode-delete/activation-mode.delete.dialog.component.scss","webpack:///./src/app/_dialogs/activation-mode-delete/activation-mode.delete.dialog.component.ts","webpack:///./src/app/_dialogs/activation-mode-edit/activation-mode.edit.dialog.component.html","webpack:///./src/app/_dialogs/activation-mode-edit/activation-mode.edit.dialog.component.scss","webpack:///./src/app/_dialogs/activation-mode-edit/activation-mode.edit.dialog.component.ts","webpack:///./src/app/_dialogs/add/add.dialog.component.html","webpack:///./src/app/_dialogs/add/add.dialog.component.scss","webpack:///./src/app/_dialogs/add/add.dialog.component.ts","webpack:///./src/app/_dialogs/delete/delete.dialog.component.html","webpack:///./src/app/_dialogs/delete/delete.dialog.component.scss","webpack:///./src/app/_dialogs/delete/delete.dialog.component.ts","webpack:///./src/app/_dialogs/edit/edit.dialog.component.html","webpack:///./src/app/_dialogs/edit/edit.dialog.component.scss","webpack:///./src/app/_dialogs/edit/edit.dialog.component.ts","webpack:///./src/app/_dialogs/heritage-delete/heritage-delete.dialog.component.html","webpack:///./src/app/_dialogs/heritage-delete/heritage-delete.dialog.component.scss","webpack:///./src/app/_dialogs/heritage-delete/heritage-delete.dialog.component.ts","webpack:///./src/app/_dialogs/index.ts","webpack:///./src/app/_directives/alert.component.html","webpack:///./src/app/_directives/alert.component.ts","webpack:///./src/app/_directives/index.ts","webpack:///./src/app/_guards/auth.guard.ts","webpack:///./src/app/_guards/index.ts","webpack:///./src/app/_helpers/error.interceptor.ts","webpack:///./src/app/_helpers/index.ts","webpack:///./src/app/_helpers/jwt.interceptor.ts","webpack:///./src/app/_layout/app-header/app-header.component.html","webpack:///./src/app/_layout/app-header/app-header.component.scss","webpack:///./src/app/_layout/app-header/app-header.component.ts","webpack:///./src/app/_layout/app-layout/app-layout.component.html","webpack:///./src/app/_layout/app-layout/app-layout.component.scss","webpack:///./src/app/_layout/app-layout/app-layout.component.ts","webpack:///./src/app/_layout/index.ts","webpack:///./src/app/_layout/site-footer/site-footer.component.html","webpack:///./src/app/_layout/site-footer/site-footer.component.scss","webpack:///./src/app/_layout/site-footer/site-footer.component.ts","webpack:///./src/app/_layout/site-header/site-header.component.html","webpack:///./src/app/_layout/site-header/site-header.component.scss","webpack:///./src/app/_layout/site-header/site-header.component.ts","webpack:///./src/app/_layout/site-layout/site-layout.component.html","webpack:///./src/app/_layout/site-layout/site-layout.component.scss","webpack:///./src/app/_layout/site-layout/site-layout.component.ts","webpack:///./src/app/_pipes/EvaluationOptionPipe.ts","webpack:///./src/app/_pipes/EvaluatorTypePipe.ts","webpack:///./src/app/_pipes/index.ts","webpack:///./src/app/_services/activationmode.service.ts","webpack:///./src/app/_services/alert.service.ts","webpack:///./src/app/_services/authentication.service.ts","webpack:///./src/app/_services/comment.service.ts","webpack:///./src/app/_services/emitter.service.ts","webpack:///./src/app/_services/evaluationoption.service.ts","webpack:///./src/app/_services/evaluationparameter.service.ts","webpack:///./src/app/_services/evaluatortype.service.ts","webpack:///./src/app/_services/file.service.ts","webpack:///./src/app/_services/heritage.service.ts","webpack:///./src/app/_services/heritageevaluation.service.ts","webpack:///./src/app/_services/heritagegameanalysis.service.ts","webpack:///./src/app/_services/index.ts","webpack:///./src/app/_services/user.service.ts","webpack:///./src/app/_shared/global.ts","webpack:///./src/app/_shared/index.ts","webpack:///./src/app/about-us/about-us.component.html","webpack:///./src/app/about-us/about-us.component.scss","webpack:///./src/app/about-us/about-us.component.ts","webpack:///./src/app/about-us/about-us.route.ts","webpack:///./src/app/activation-mode-list/activation-mode-list.component.html","webpack:///./src/app/activation-mode-list/activation-mode-list.component.scss","webpack:///./src/app/activation-mode-list/activation-mode-list.component.ts","webpack:///./src/app/activation-mode-list/activation-mode-list.route.ts","webpack:///./src/app/app.comment.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.material.module.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.primeng.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/comment/comment-box.component.html","webpack:///./src/app/comment/comment-box.component.ts","webpack:///./src/app/comment/comment-form.component.html","webpack:///./src/app/comment/comment-form.component.scss","webpack:///./src/app/comment/comment-form.component.ts","webpack:///./src/app/comment/comment-list.component.html","webpack:///./src/app/comment/comment-list.component.ts","webpack:///./src/app/comment/comment.component.html","webpack:///./src/app/comment/comment.component.route.ts","webpack:///./src/app/comment/comment.component.scss","webpack:///./src/app/comment/comment.component.ts","webpack:///./src/app/file-manager/file-manager.component.html","webpack:///./src/app/file-manager/file-manager.component.scss","webpack:///./src/app/file-manager/file-manager.component.ts","webpack:///./src/app/heritage-activation/heritage-activation.component.html","webpack:///./src/app/heritage-activation/heritage-activation.component.scss","webpack:///./src/app/heritage-activation/heritage-activation.component.ts","webpack:///./src/app/heritage-activation/heritage-activation.route.ts","webpack:///./src/app/heritage-analysis/heritage-analysis.component.html","webpack:///./src/app/heritage-analysis/heritage-analysis.component.scss","webpack:///./src/app/heritage-analysis/heritage-analysis.component.ts","webpack:///./src/app/heritage-analysis/heritage-analysis.route.ts","webpack:///./src/app/heritage-detail/heritage-detail.component.html","webpack:///./src/app/heritage-detail/heritage-detail.component.scss","webpack:///./src/app/heritage-detail/heritage-detail.component.ts","webpack:///./src/app/heritage-detail/heritage-detail.route.ts","webpack:///./src/app/heritage-detail/index.ts","webpack:///./src/app/heritage-evaluation/heritage-evaluation.component.html","webpack:///./src/app/heritage-evaluation/heritage-evaluation.component.scss","webpack:///./src/app/heritage-evaluation/heritage-evaluation.component.ts","webpack:///./src/app/heritage-evaluation/heritage-evaluation.route.ts","webpack:///./src/app/heritage-evaluation/index.ts","webpack:///./src/app/heritage-list/heritage-list.component.html","webpack:///./src/app/heritage-list/heritage-list.component.scss","webpack:///./src/app/heritage-list/heritage-list.component.ts","webpack:///./src/app/heritage-list/heritage-list.route.ts","webpack:///./src/app/heritage-list/index.ts","webpack:///./src/app/heritage-nav/heritage-nav.component.html","webpack:///./src/app/heritage-nav/heritage-nav.component.scss","webpack:///./src/app/heritage-nav/heritage-nav.component.ts","webpack:///./src/app/heritage-nav/heritage-nav.route.ts","webpack:///./src/app/login/index.ts","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.scss","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/register/index.ts","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.scss","webpack:///./src/app/register/register.component.ts","webpack:///./src/app/user-list/user-list.component.html","webpack:///./src/app/user-list/user-list.component.scss","webpack:///./src/app/user-list/user-list.component.ts","webpack:///./src/app/welcome/index.ts","webpack:///./src/app/welcome/welcome.component.html","webpack:///./src/app/welcome/welcome.component.scss","webpack:///./src/app/welcome/welcome.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>新建活化模式</h3>\\r\\n  \\r\\n    <form class=\\\"mat-dialog-content\\\" (ngSubmit)=\\\"submit\\\" #formControl=\\\"ngForm\\\">\\r\\n   \\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"名称\\\" [(ngModel)]=\\\"data.activationModeName\\\" name=\\\"actModeName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"上界\\\" [(ngModel)]=\\\"data.upperBound\\\" name=\\\"upperBound\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"下界\\\" [(ngModel)]=\\\"data.lowerBound\\\" name=\\\"lowerBound\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <textarea matInput #input class=\\\"form-control\\\" placeholder=\\\"描述\\\" [(ngModel)]=\\\"data.activationModeDescription\\\" name=\\\"actModeDescription\\\" required matTextareaAutosize matAutosizeMinRows=5 matAutosizeMaxRows=25></textarea>\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n  \\r\\n      <div mat-dialog-actions>\\r\\n        <button mat-button [type]=\\\"submit\\\" [disabled]=\\\"!formControl.valid\\\" [mat-dialog-close]=\\\"1\\\" (click)=\\\"confirmAdd()\\\">保存</button>\\r\\n        <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 450px; }\\n\\n.container > * {\\n  width: 100%; }\\n\\n.form {\\n  display: flex;\\n  padding-top: 6px; }\\n\\n.mat-form-field {\\n  font-size: 16px;\\n  flex-grow: 1; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { ActivationModeService, UserService } from '../../_services';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IActivationMode } from '../../_models';\r\nimport { Global } from '../../_shared';\r\n\r\n@Component({\r\n  selector: 'activation-mode-add.dialog',\r\n  templateUrl: '../activation-mode-add/activation-mode.add.dialog.component.html',\r\n  styleUrls: ['../activation-mode-add/activation-mode.add.dialog.component.scss']\r\n})\r\n\r\nexport class ActivationModeAddDialogComponent {\r\n\r\n  newActMode: IActivationMode;\r\n\r\n  constructor(public dialogRef: MatDialogRef<ActivationModeAddDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: IActivationMode,\r\n              public actModeService: ActivationModeService,\r\n              private toastr: ToastrService,\r\n              private userService: UserService) { }\r\n\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required') ? 'Required field' :\r\n      this.formControl.hasError('email') ? 'Not a valid email' :\r\n        '';\r\n  }\r\n\r\n  submit() {\r\n  // emppty stuff\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  public confirmAdd(): void {\r\n\r\n    if (!this.userService.canEdit())\r\n    {\r\n      this.toastr.error(\"您没有添加及修改活化模式的权限。\",\"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    var userId = this.userService.currentUserId();\r\n    this.data.createdUserId = userId;\r\n    this.data.modifiedUserId = userId;\r\n    this.actModeService.addActMode(Global.BASE_ACTIVATION_MODE_ENDPOINT, this.data)\r\n    .subscribe(\r\n      data => {\r\n          this.newActMode = data;\r\n          this.toastr.success(\"活化模式添加成功。\", \"操作成功\");\r\n        },\r\n      error => {\r\n          this.toastr.error(\"活化模式添加失败。\", \"操作失败\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>确认删除</h3>\\r\\n    <div mat-dialog-content>\\r\\n      <p></p>\\r\\n      您确认要从系统中删除活化模式： {{data.activationModeName}} ？\\r\\n      <p></p>\\r\\n    </div>\\r\\n  \\r\\n    <div mat-dialog-actions>\\r\\n      <button mat-button [mat-dialog-close]=\\\"1\\\" (click)=\\\"confirmDelete()\\\">删除</button>\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n    </div>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.container > * {\\n  width: 100%; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ActivationModeService, UserService } from '../../_services';\r\nimport { Global } from '../../_shared';\r\n\r\n\r\n@Component({\r\n  selector: 'activation-mode-delete.dialog',\r\n  templateUrl: '../activation-mode-delete/activation-mode.delete.dialog.component.html',\r\n  styleUrls: ['../activation-mode-delete/activation-mode.delete.dialog.component.scss']\r\n})\r\nexport class ActivationModeDeleteDialogComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<ActivationModeDeleteDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: any, \r\n              public actModeService: ActivationModeService,\r\n              private toastr: ToastrService,\r\n              private userService: UserService) { }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  confirmDelete(): void {\r\n\r\n    if (!this.userService.canEdit())\r\n    {\r\n      this.toastr.error(\"您没有删除活化模式的权限。\",\"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    this.actModeService.deleteActMode(Global.BASE_ACTIVATION_MODE_ENDPOINT, this.data.id)\r\n    .subscribe(\r\n      data => {\r\n          this.toastr.success(\"活化模式删除成功。\", \"操作成功\");\r\n        },\r\n\r\n      error => {\r\n          this.toastr.error(\"活化模式删除失败。\", \"操作失败\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>活化模式: {{data.activationModeName}}</h3>\\r\\n  \\r\\n    <form class=\\\"mat-dialog-content\\\" (ngSubmit)=\\\"submit\\\" #formControl=\\\"ngForm\\\">\\r\\n  \\r\\n      <!--Contains mat-hint for characters count and has maxLengt set-->\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"名称\\\" [(ngModel)]=\\\"data.activationModeName\\\" name=\\\"actModeName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"上界\\\" [(ngModel)]=\\\"data.upperBound\\\" name=\\\"upperBound\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"下界\\\" [(ngModel)]=\\\"data.lowerBound\\\" name=\\\"lowerBound\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <textarea matInput #input class=\\\"form-control\\\" placeholder=\\\"描述\\\" [(ngModel)]=\\\"data.activationModeDescription\\\" name=\\\"actModeDescription\\\" required matTextareaAutosize matAutosizeMinRows=5 matAutosizeMaxRows=25></textarea>\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div mat-dialog-actions>\\r\\n        <button mat-button [type]=\\\"submit\\\" [disabled]=\\\"!formControl.valid\\\" [mat-dialog-close]=\\\"1\\\" (click)=\\\"stopEdit()\\\">保存</button>\\r\\n        <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 450px; }\\n\\n.container > * {\\n  width: 100%; }\\n\\n.form {\\n  display: flex;\\n  padding-top: 6px; }\\n\\n.mat-form-field {\\n  font-size: 16px;\\n  flex-grow: 1; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ActivationModeService, UserService } from '../../_services';\r\nimport { IActivationMode } from '../../_models'\r\nimport { Global } from '../../_shared';\r\n\r\n\r\n@Component({\r\n  selector: 'app-baza.dialog',\r\n  templateUrl: '../activation-mode-edit/activation-mode.edit.dialog.component.html',\r\n  styleUrls: ['../activation-mode-edit/activation-mode.edit.dialog.component.scss']\r\n})\r\nexport class ActivationModeEditDialogComponent {\r\n\r\n  actMode: IActivationMode;\r\n\r\n  constructor(public dialogRef: MatDialogRef<ActivationModeEditDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: IActivationMode, \r\n              public actModeService: ActivationModeService,\r\n              private toastr: ToastrService,\r\n              private userService: UserService) { }\r\n\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required') ? 'Required field' :\r\n      this.formControl.hasError('email') ? 'Not a valid email' :\r\n        '';\r\n  }\r\n\r\n  submit() {\r\n    // emppty stuff\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  stopEdit(): void {\r\n\r\n    if (!this.userService.canEdit())\r\n    {\r\n      this.toastr.error(\"您没有添加及修改活化模式的权限。\",\"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    var userId = this.userService.currentUserId();\r\n    this.data.modifiedUserId = userId;\r\n    if (this.data.id < 1)\r\n      return;\r\n    this.actModeService.updateActMode(Global.BASE_ACTIVATION_MODE_ENDPOINT + this.data.id, this.data)\r\n    .subscribe(\r\n      data => {\r\n          this.actMode = data;\r\n          this.toastr.success(\"活化模式修改成功。\", \"操作成功\");\r\n        },\r\n      error => {\r\n          this.toastr.error(\"活化模式修改失败。\", \"操作失败\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>新建用户</h3>\\r\\n  \\r\\n    <form class=\\\"mat-dialog-content\\\" (ngSubmit)=\\\"submit\\\" #formControl=\\\"ngForm\\\">\\r\\n   \\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"用户名\\\" [(ngModel)]=\\\"data.userName\\\" name=\\\"userName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"名\\\" [(ngModel)]=\\\"data.firstName\\\" name=\\\"firstName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"姓\\\" [(ngModel)]=\\\"data.lastName\\\" name=\\\"lastName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n  \\r\\n      <!--Contains mat-hint for characters count and has maxLengt set-->\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input type=\\\"password\\\" matInput #inputstate class=\\\"form-control\\\" placeholder=\\\"密码\\\" [(ngModel)]=\\\"data.password\\\" name=\\\"password\\\" maxlength=\\\"10\\\" />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n  \\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isReadOnly\\\" name=\\\"isReadOnly\\\">只读</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.canComment\\\" name=\\\"canComment\\\">评论</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isContributer\\\" name=\\\"isContributer\\\">编辑</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isAdmin\\\" name=\\\"isAdmin\\\">管理</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n  \\r\\n      <div mat-dialog-actions>\\r\\n        <button mat-button [type]=\\\"submit\\\" [disabled]=\\\"!formControl.valid\\\" [mat-dialog-close]=\\\"1\\\" (click)=\\\"confirmAdd()\\\">Save</button>\\r\\n        <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">Cancel</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 450px; }\\n\\n.container > * {\\n  width: 100%; }\\n\\n.form {\\n  display: flex;\\n  padding-top: 6px; }\\n\\n.mat-form-field {\\n  font-size: 16px;\\n  flex-grow: 1; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { UserService } from '../../_services';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IUser } from '../../_models';\r\nimport { Global } from '../../_shared';\r\n\r\n@Component({\r\n  selector: 'app-add.dialog',\r\n  templateUrl: '../add/add.dialog.component.html',\r\n  styleUrls: ['../add/add.dialog.component.scss']\r\n})\r\n\r\nexport class AddDialogComponent {\r\n\r\n  newUser: IUser;\r\n\r\n  constructor(public dialogRef: MatDialogRef<AddDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: IUser,\r\n              public userService: UserService,\r\n              private toastr: ToastrService) { }\r\n\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required') ? 'Required field' :\r\n      this.formControl.hasError('email') ? 'Not a valid email' :\r\n        '';\r\n  }\r\n\r\n  submit() {\r\n  // emppty stuff\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  public confirmAdd(): void {\r\n\r\n    if (!this.userService.isAdmin())\r\n    {\r\n      this.toastr.error(\"您没有添加及修改用户信息的权限。\",\"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    this.userService.addUser(Global.BASE_USER_ENDPOINT + 'add', this.data)\r\n    .subscribe(\r\n      data => {\r\n          this.newUser = data;\r\n          this.toastr.success(\"用户添加成功。\", \"操作成功\");\r\n        },\r\n      error => {\r\n          this.toastr.error(\"用户添加失败。\", \"操作失败\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>确认删除</h3>\\r\\n    <div mat-dialog-content>\\r\\n      <p></p>\\r\\n      您确认要从系统中删除用户 {{data.userName}} ？\\r\\n      <p></p>\\r\\n    </div>\\r\\n  \\r\\n    <div mat-dialog-actions>\\r\\n      <button mat-button [mat-dialog-close]=\\\"1\\\" (click)=\\\"confirmDelete()\\\">删除</button>\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n    </div>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.container > * {\\n  width: 100%; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserService } from '../../_services';\r\nimport { Global } from '../../_shared';\r\n\r\n\r\n@Component({\r\n  selector: 'app-delete.dialog',\r\n  templateUrl: '../delete/delete.dialog.component.html',\r\n  styleUrls: ['../delete/delete.dialog.component.scss']\r\n})\r\nexport class DeleteDialogComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<DeleteDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: any, \r\n              public userService: UserService,\r\n              private toastr: ToastrService) { }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  confirmDelete(): void {\r\n\r\n    if (!this.userService.isAdmin())\r\n    {\r\n      this.toastr.error(\"您没有删除用户的权限。\",\"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    this.userService.deleteUser(Global.BASE_USER_ENDPOINT, this.data.id)\r\n    .subscribe(\r\n      data => {\r\n          this.toastr.success(\"用户删除成功。\", \"操作成功\");\r\n        },\r\n\r\n      error => {\r\n          this.toastr.error(\"用户删除失败。\", \"操作失败\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>用户: {{data.userName}}</h3>\\r\\n  \\r\\n    <form class=\\\"mat-dialog-content\\\" (ngSubmit)=\\\"submit\\\" #formControl=\\\"ngForm\\\">\\r\\n  \\r\\n      <!--Contains mat-hint for characters count and has maxLengt set-->\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"名\\\" [(ngModel)]=\\\"data.firstName\\\" name=\\\"firstName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput #input class=\\\"form-control\\\" placeholder=\\\"姓\\\" [(ngModel)]=\\\"data.lastName\\\" name=\\\"lastName\\\" required />\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n      \\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input type=\\\"password\\\" matInput #inputstate class=\\\"form-control\\\" placeholder=\\\"密码\\\" [(ngModel)]=\\\"data.password\\\" name=\\\"password\\\" maxlength=\\\"10\\\" >\\r\\n          <mat-error *ngIf=\\\"formControl.invalid\\\">{{getErrorMessage()}}</mat-error>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n  \\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isReadOnly\\\" name=\\\"isReadOnly\\\">只读</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.canComment\\\" name=\\\"canComment\\\">评论</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isContributer\\\" name=\\\"isContributer\\\">编辑</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form\\\">\\r\\n        <mat-form-field color=\\\"accent\\\">\\r\\n          <input matInput style=\\\"display: none\\\">\\r\\n          <mat-checkbox [(ngModel)]=\\\"data.isAdmin\\\" name=\\\"isAdmin\\\">管理</mat-checkbox>\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n\\r\\n      <div mat-dialog-actions>\\r\\n        <button mat-button [type]=\\\"submit\\\" [disabled]=\\\"!formControl.valid\\\" [mat-dialog-close]=\\\"1\\\" (click)=\\\"stopEdit()\\\">保存</button>\\r\\n        <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 450px; }\\n\\n.container > * {\\n  width: 100%; }\\n\\n.form {\\n  display: flex;\\n  padding-top: 6px; }\\n\\n.mat-form-field {\\n  font-size: 16px;\\n  flex-grow: 1; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserService } from '../../_services';\r\nimport { IUser } from '../../_models'\r\nimport { Global } from '../../_shared';\r\n\r\n\r\n@Component({\r\n  selector: 'app-baza.dialog',\r\n  templateUrl: '../edit/edit.dialog.component.html',\r\n  styleUrls: ['../edit/edit.dialog.component.scss']\r\n})\r\nexport class EditDialogComponent {\r\n\r\n  user: IUser;\r\n\r\n  constructor(public dialogRef: MatDialogRef<EditDialogComponent>,\r\n              @Inject(MAT_DIALOG_DATA) public data: any, \r\n              public userService: UserService,\r\n              private toastr: ToastrService) { }\r\n\r\n  formControl = new FormControl('', [\r\n    Validators.required\r\n    // Validators.email,\r\n  ]);\r\n\r\n  getErrorMessage() {\r\n    return this.formControl.hasError('required') ? 'Required field' :\r\n      this.formControl.hasError('email') ? 'Not a valid email' :\r\n        '';\r\n  }\r\n\r\n  submit() {\r\n    // emppty stuff\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  stopEdit(): void {\r\n\r\n    if (!this.userService.isAdmin())\r\n    {\r\n      this.toastr.error(\"您没有添加及修改用户信息的权限。\",\"权限验证失败\")\r\n      return;\r\n    }\r\n    \r\n    if (this.data.id < 1)\r\n      return;\r\n    this.userService.updateUser(Global.BASE_USER_ENDPOINT + this.data.id, this.data)\r\n    .subscribe(\r\n      data => {\r\n          this.user = data;\r\n          this.toastr.success(\"用户信息修改成功。\", \"操作成功\");\r\n        },\r\n      error => {\r\n          this.toastr.error(\"用户信息修改失败。\", \"操作失败\")\r\n      }\r\n    );\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <h3 mat-dialog-title>确认删除</h3>\\r\\n    <div mat-dialog-content>\\r\\n      <p></p>\\r\\n      您确认要从系统中删除非遗 {{data.name}} ?\\r\\n      <p></p>\\r\\n    </div>\\r\\n  \\r\\n    <div mat-dialog-actions>\\r\\n      <button mat-button [mat-dialog-close]=\\\"1\\\" (click)=\\\"confirmDelete()\\\">删除</button>\\r\\n      <button mat-button (click)=\\\"onNoClick()\\\" tabindex=\\\"-1\\\">取消</button>\\r\\n    </div>\\r\\n  </div>\\r\\n  \"","module.exports = \".container {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.container > * {\\n  width: 100%; }\\n\"","import { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\r\nimport { Component, Inject } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HeritageService, UserService } from '../../_services';\r\nimport { Global } from '../../_shared';\r\n\r\n\r\n@Component({\r\n  selector: 'heritage-delete.dialog',\r\n  templateUrl: '../heritage-delete/heritage-delete.dialog.component.html',\r\n  styleUrls: ['../heritage-delete/heritage-delete.dialog.component.scss']\r\n})\r\nexport class HeritageDeleteDialogComponent {\r\n\r\n  constructor(public dialogRef: MatDialogRef<HeritageDeleteDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    public heritageService: HeritageService,\r\n    private toastr: ToastrService,\r\n    private userService: UserService) { }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  confirmDelete(): void {\r\n\r\n    if (!this.userService.canEdit()) {\r\n      this.toastr.error(\"您没有删除非物质文化遗产的权限。\", \"用户权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    this.heritageService.deleteHeritage(Global.BASE_HERITAGE_ENDPOINT, this.data.id)\r\n      .subscribe(\r\n        data => {\r\n          this.toastr.success(\"非物质文化遗产删除成功。\", \"操作成功\");\r\n        },\r\n\r\n        error => {\r\n            this.toastr.error(\"非物质文化遗产删除失败。\", \"操作失败\");\r\n        }\r\n      );\r\n  }\r\n}","export * from './add/add.dialog.component';\r\nexport * from './edit/edit.dialog.component';\r\nexport * from './delete/delete.dialog.component';\r\nexport * from './heritage-delete/heritage-delete.dialog.component';\r\nexport * from './activation-mode-add/activation-mode.add.dialog.component';\r\nexport * from './activation-mode-edit/activation-mode.edit.dialog.component';\r\nexport * from './activation-mode-delete/activation-mode.delete.dialog.component';\r\n","module.exports = \"<div *ngIf=\\\"message\\\" [ngClass]=\\\"{ 'alert': message, 'alert-success': message.type === 'success', 'alert-danger': message.type === 'error' }\\\">{{message.text}}</div>\\r\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AlertService } from '../_services';\r\n\r\n@Component({\r\n    selector: 'alert',\r\n    templateUrl: 'alert.component.html'\r\n})\r\n\r\nexport class AlertComponent implements OnInit, OnDestroy {\r\n    private subscription: Subscription;\r\n    message: any;\r\n\r\n    constructor(private alertService: AlertService) { }\r\n\r\n    ngOnInit() {\r\n        this.subscription = this.alertService.getMessage().subscribe(message => { \r\n            this.message = message; \r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n}","export * from './alert.component';","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n    constructor(private router: Router) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        if (localStorage.getItem('currentUser')) {\r\n            // logged in so return true\r\n            return true;\r\n        }\r\n\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url }});\r\n        return false;\r\n    }\r\n}","export * from './auth.guard';","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthenticationService } from '../_services/authentication.service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) {}\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                this.authenticationService.logout();\r\n                location.reload(true);\r\n            }\r\n            \r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","export * from './error.interceptor';\r\nexport * from './jwt.interceptor';","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // add authorization header with jwt token if available\r\n        let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (currentUser && currentUser.token) {\r\n            request = request.clone({\r\n                setHeaders: { \r\n                    Authorization: `Bearer ${currentUser.token}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","module.exports = \"<div class=\\\"navbar navbar-inverse bg-inverse\\\" title=\\\"This Header is rendered by /app/_layout/app-header/app-header.component.html\\\">\\r\\n    <div class=\\\"container d-flex justify-content-between\\\">\\r\\n      <a href=\\\"#\\\" class=\\\"navbar-brand\\\">App Page</a>\\r\\n      <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarHeader\\\" aria-controls=\\\"navbarHeader\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\r\\n        <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n      </button>\\r\\n      \\r\\n    </div>\\r\\n  </div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './app-header.component.html',\r\n  styleUrls: ['./app-header.component.scss']\r\n})\r\nexport class AppHeaderComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","module.exports = \"<app-header></app-header>\\r\\n<router-outlet></router-outlet>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-app-layout',\r\n  templateUrl: './app-layout.component.html',\r\n  styleUrls: ['./app-layout.component.scss']\r\n})\r\nexport class AppLayoutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","export * from './app-header/app-header.component';\r\nexport * from './app-layout/app-layout.component';\r\nexport * from './site-header/site-header.component';\r\nexport * from './site-footer/site-footer.component';\r\nexport * from './site-layout/site-layout.component';","module.exports = \"<div class=\\\"container\\\">\\r\\n        <footer>\\r\\n          <p>&copy; 北京联合大学 2018.</p>\\r\\n        </footer>\\r\\n      </div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'site-footer',\r\n  templateUrl: './site-footer.component.html',\r\n  styleUrls: ['./site-footer.component.scss']\r\n})\r\nexport class SiteFooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","module.exports = \"<mat-sidenav-container>\\r\\n  <mat-sidenav  #sidenav mode=\\\"side\\\"\\r\\n        [fixedInViewport]=\\\"options.value.fixed\\\" [fixedTopGap]=\\\"options.value.top\\\"\\r\\n        [fixedBottomGap]=\\\"options.value.bottom\\\">\\r\\n    <mat-nav-list>\\r\\n      <a mat-list-item\\r\\n         *ngIf=\\\"!auth.isAuthenticated()\\\"\\r\\n         routerLink=\\\"/login\\\">\\r\\n        <mat-icon class=\\\"icon\\\">input</mat-icon>\\r\\n        <span class=\\\"label\\\">登录</span>\\r\\n      </a>\\r\\n      <a mat-list-item         \\r\\n         routerLink=\\\"/\\\">\\r\\n        <mat-icon class=\\\"icon\\\">home</mat-icon>\\r\\n        <span class=\\\"label\\\">主页</span>\\r\\n      </a>\\r\\n      <a mat-list-item\\r\\n         *ngIf=\\\"auth.isAuthenticated()\\\"\\r\\n         routerLink=\\\"/heritagelist\\\">\\r\\n        <mat-icon class=\\\"icon\\\">view_list</mat-icon>\\r\\n        <span class=\\\"label\\\">非遗列表</span>\\r\\n      </a>\\r\\n      <a mat-list-item\\r\\n         *ngIf=\\\"canEdit()\\\"\\r\\n         routerLink=\\\"/activationmodelist\\\">\\r\\n        <mat-icon class=\\\"icon\\\">view_list</mat-icon>\\r\\n        <span class=\\\"label\\\">活化模式列表</span>\\r\\n      </a>\\r\\n      <a mat-list-item\\r\\n         *ngIf=\\\"isAdmin()\\\"\\r\\n         routerLink=\\\"/users\\\">\\r\\n        <mat-icon class=\\\"icon\\\">account_box</mat-icon>\\r\\n        <span class=\\\"label\\\">用户管理</span>\\r\\n      </a>\\r\\n      <a mat-list-item         \\r\\n         routerLink=\\\"/aboutus\\\">\\r\\n        <mat-icon class=\\\"icon\\\">info</mat-icon>\\r\\n        <span class=\\\"label\\\">关于我们</span>\\r\\n      </a>\\r\\n      <a  mat-list-item\\r\\n          *ngIf=\\\"auth.isAuthenticated()\\\"\\r\\n          (click)=\\\"auth.logout()\\\" type=\\\"button\\\">\\r\\n        <mat-icon class=\\\"icon\\\">input</mat-icon>\\r\\n        <span class=\\\"label\\\">退出</span>\\r\\n      </a>\\r\\n    </mat-nav-list>\\r\\n  </mat-sidenav>\\r\\n  <mat-sidenav-content [formGroup]=\\\"options\\\">\\r\\n    <mat-toolbar color=\\\"primary\\\">\\r\\n      <div fxHide.gt-xs=\\\"false\\\">\\r\\n        <button mat-icon-button (click)=\\\"sidenav.toggle()\\\">\\r\\n          <mat-icon>menu</mat-icon>\\r\\n        </button>\\r\\n      </div>\\r\\n      <div>\\r\\n        <a routerLink=\\\"/\\\">\\r\\n          非遗博弈旅游软件 1.0\\r\\n        </a>\\r\\n      </div>\\r\\n      <div fxFlex fxLayout fxLayoutAlign=\\\"flex-end\\\"  fxHide.xs>\\r\\n        <ul fxLayout fxLayoutGap=\\\"20px\\\" class=\\\"navigation-items\\\">\\r\\n          <li>\\r\\n            <a\\r\\n              *ngIf=\\\"!auth.isAuthenticated()\\\"\\r\\n              routerLink=\\\"/login\\\">\\r\\n              <mat-icon class=\\\"icon\\\">input</mat-icon>\\r\\n              <span  class=\\\"label\\\">登录</span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <li>\\r\\n            <a              \\r\\n              routerLink=\\\"/\\\">\\r\\n              <mat-icon class=\\\"icon\\\">home</mat-icon>\\r\\n              <span class=\\\"label\\\">主页</span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <li>\\r\\n            <a\\r\\n              *ngIf=\\\"auth.isAuthenticated()\\\"\\r\\n              routerLink=\\\"/heritagelist\\\">\\r\\n              <mat-icon class=\\\"icon\\\">view_list</mat-icon>\\r\\n              <span class=\\\"label\\\">非遗列表</span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <li>\\r\\n              <a\\r\\n                *ngIf=\\\"canEdit()\\\"\\r\\n                routerLink=\\\"/activationmodelist\\\">\\r\\n                <mat-icon class=\\\"icon\\\">view_list</mat-icon>\\r\\n                <span class=\\\"label\\\">活化模式列表</span>\\r\\n              </a>\\r\\n            </li>\\r\\n          <li>\\r\\n            <a\\r\\n              *ngIf=\\\"isAdmin()\\\"\\r\\n              routerLink=\\\"/users\\\">\\r\\n              <mat-icon class=\\\"icon\\\">account_box</mat-icon>\\r\\n              <span class=\\\"label\\\">用户管理</span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <li>\\r\\n            <a              \\r\\n              routerLink=\\\"/aboutus\\\">\\r\\n              <mat-icon class=\\\"icon\\\">info</mat-icon>\\r\\n              <span class=\\\"label\\\">关于我们</span>\\r\\n            </a>\\r\\n          </li>\\r\\n          <li>\\r\\n            <a\\r\\n              *ngIf=\\\"auth.isAuthenticated()\\\"\\r\\n              (click)=\\\"auth.logout()\\\">\\r\\n              <mat-icon class=\\\"icon\\\">input</mat-icon>\\r\\n              <span class=\\\"label\\\">退出</span>\\r\\n            </a>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </mat-toolbar>\\r\\n\\r\\n  </mat-sidenav-content>\\r\\n</mat-sidenav-container>\\r\\n\"","module.exports = \"mat-sidenav-container, mat-sidenav-content, mat-sidenav {\\n  height: 100%; }\\n\\nmat-sidenav {\\n  width: 250px; }\\n\\na {\\n  text-decoration: none;\\n  color: white; }\\n\\na:hover,\\na:active {\\n  color: lightgray; }\\n\\n.navigation-items {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n  cursor: pointer; }\\n\\n.icon {\\n  display: inline-block;\\n  height: 30px;\\n  margin: auto;\\n  padding-right: 10px;\\n  text-align: center;\\n  vertical-align: middle;\\n  width: 15%; }\\n\\n.label {\\n  display: inline-block;\\n  line-height: 30px;\\n  text-align: center;\\n  margin: 0;\\n  width: 85%; }\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { AuthenticationService, UserService } from '../../_services';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'site-header',\r\n  templateUrl: './site-header.component.html',\r\n  styleUrls: ['./site-header.component.scss']\r\n})\r\nexport class SiteHeaderComponent implements OnInit {\r\n  title = 'HerritageApp';\r\n  options: FormGroup;\r\n\r\n  constructor(public auth: AuthenticationService,\r\n    public usr: UserService,\r\n    fb: FormBuilder) {\r\n    auth.handleAuthentication();\r\n    this.options = fb.group({\r\n      bottom: 0,\r\n      fixed: true,\r\n      top: 0\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  isAdmin() {\r\n    if (this.auth.isAuthenticated() && this.usr.isAdmin()) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  canEdit() {\r\n    if (this.auth.isAuthenticated() && this.usr.canEdit()) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isReadOnly() {\r\n    if (this.auth.isAuthenticated() && this.usr.isReadOnly()) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}","module.exports = \"<site-header></site-header>\\r\\n<router-outlet></router-outlet>\\r\\n<site-footer></site-footer>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-site-layout',\r\n  templateUrl: './site-layout.component.html',\r\n  styleUrls: ['./site-layout.component.scss']\r\n})\r\nexport class SiteLayoutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'evaluationoption' })\r\nexport class EvaluationOptionPipe implements PipeTransform {\r\n\r\n  transform(id: number): string {\r\n    var evaluationOptions = [\r\n        { id: 1, option: '不同意' },\r\n        { id: 2, option: '不太同意' },\r\n        { id: 3, option: '介于中间' },\r\n        { id: 4, option: '比较同意' },\r\n        { id: 5, option: '非常同意' }\r\n    ]\r\n    return evaluationOptions.filter(x => x.id == id)[0].option;\r\n  }\r\n}\r\n\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n\r\n@Pipe({ name: 'evaluatortype' })\r\nexport class EvaluatorTypePipe implements PipeTransform {\r\n  \r\n  transform(id: number): string {\r\n    var evaluatorTypes = [\r\n      { id: 1, type: '传承人' },\r\n      { id: 2, type: '企业' },\r\n      { id: 3, type: '专家' },\r\n      { id: 4, type: '政府' },\r\n      { id: 5, type: '消费者' }\r\n    ]\r\n    return evaluatorTypes.filter(x => x.id == id)[0].type;\r\n  }\r\n}\r\n\r\n","export * from './EvaluationOptionPipe';\r\nexport * from './EvaluatorTypePipe';\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, BehaviorSubject, empty } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { IActivationMode } from '../_models';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n@Injectable()\r\nexport class ActivationModeService {\r\n\r\n    dataChange: BehaviorSubject<IActivationMode[]> = new BehaviorSubject<IActivationMode[]>([]);\r\n    dialogData: any;\r\n    activationMode: IActivationMode;\r\n    activationModes: IActivationMode[];\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    get data(): IActivationMode[] {\r\n        return this.dataChange.value;\r\n    }\r\n\r\n    getDialogData() {\r\n        return this.dialogData;\r\n    }\r\n\r\n    getAllActModes(url: string): void {\r\n        this.http.get<IActivationMode[]>(url, httpOptions).subscribe(data => {\r\n            this.dataChange.next(data);\r\n        },\r\n            (err: HttpErrorResponse) => {\r\n                console.log(err.name + ' ' + err.message);\r\n            });\r\n    }\r\n\r\n    getActModeById(url: string): Observable<IActivationMode> {\r\n        return this.http.get<IActivationMode>(url)\r\n            .pipe(\r\n                map(actMode => {\r\n                    this.activationMode = actMode;\r\n                    return this.activationMode;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    getHeritageActModeById(url: string): Observable<IActivationMode[]> {\r\n        return this.http.get<IActivationMode[]>(url)\r\n            .pipe(\r\n                map(actModes => {\r\n                    this.activationModes = actModes;\r\n                    return this.activationModes;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    addActMode(url: string, actMode: IActivationMode): Observable<IActivationMode> {\r\n        return this.http.post<IActivationMode>(url, actMode)\r\n            .pipe(\r\n                map(actMode => {\r\n                    this.activationMode = actMode;\r\n                    return this.activationMode;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n\r\n    }\r\n\r\n    updateActMode(url: string, actMode: IActivationMode): Observable<IActivationMode> {\r\n        return this.http.put<IActivationMode>(url, actMode)\r\n            .pipe(\r\n                map(actMode => {\r\n                    this.activationMode = actMode;\r\n                    return this.activationMode;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n\r\n    }\r\n\r\n    deleteActMode(url: string, id: number): Observable<Object> {\r\n        return this.http.delete(url + id)\r\n            .pipe(\r\n                map(data => {\r\n                    return data;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.');\r\n    }\r\n\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationStart } from '@angular/router';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class AlertService {\r\n    private subject = new Subject<any>();\r\n    private keepAfterNavigationChange = false;\r\n\r\n    constructor(private router: Router) {\r\n        // clear alert message on route change\r\n        router.events.subscribe(event => {\r\n            if (event instanceof NavigationStart) {\r\n                if (this.keepAfterNavigationChange) {\r\n                    // only keep for a single location change\r\n                    this.keepAfterNavigationChange = false;\r\n                } else {\r\n                    // clear alert\r\n                    this.subject.next();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    success(message: string, keepAfterNavigationChange = false) {\r\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\r\n        this.subject.next({ type: 'success', text: message });\r\n    }\r\n\r\n    error(message: string, keepAfterNavigationChange = false) {\r\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\r\n        this.subject.next({ type: 'error', text: message });\r\n    }\r\n\r\n    getMessage(): Observable<any> {\r\n        return this.subject.asObservable();\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport {Router} from '@angular/router';\r\nimport { empty } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class AuthenticationService {\r\n    constructor(private http: HttpClient,\r\n        public router: Router) { }\r\n\r\n    public login(url: string, username: string, password: string) {\r\n        return this.http.post<any>(url, { username: username, password: password })\r\n            .pipe(map(user => {\r\n                // login successful if there's a jwt token in the response\r\n                if (user && user.token) {\r\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                    localStorage.setItem('currentUser', JSON.stringify(user));\r\n                }\r\n\r\n                return user;\r\n            }));\r\n    }\r\n\r\n    public logout() {\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.router.navigate(['/login']);\r\n    }\r\n\r\n    public isAuthenticated(): boolean {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public handleAuthentication(): void {\r\n        if ((this.router.url == '/') || this.isAuthenticated())\r\n        {\r\n            this.router.navigate(['/welcome']);\r\n        }\r\n        else\r\n        {\r\n            this.router.navigate(['/login']);\r\n            console.log(\"Please log in.\")\r\n        }\r\n    }\r\n}","/* * * ./app/comments/components/comment.service.ts * * */\r\n// Imports\r\nimport { Injectable } from '@angular/core';\r\nimport { Response, Headers, RequestOptions } from '@angular/http';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { IComment } from '../_models';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\n\r\n// Import RxJs required methods\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n@Injectable()\r\nexport class CommentService {\r\n     // Resolve HTTP using the constructor\r\n     constructor (private http: HttpClient) {}\r\n     private heritageComment: IComment[];\r\n     private comment: IComment;\r\n     \r\n     // Fetch all existing comments\r\n     getComments(url: string) : Observable<IComment[]>{\r\n         // ...using get request\r\n         return this.http.get<IComment[]>(url)\r\n         .pipe(\r\n            map(comment => {\r\n                this.heritageComment = comment;\r\n                return this.heritageComment;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n     }\r\n\r\n     // Add a new comment\r\n    addComment (url: string, body: Object): Observable<IComment> {\r\n        return this.http.post<IComment>(url, body) // ...using post request\r\n        .pipe(\r\n            map(comment => {\r\n                this.comment = comment;\r\n                return this.comment;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }   \r\n\r\n    // Update a comment\r\n    updateComment (url: string, body: Object): Observable<IComment> {\r\n        return this.http.put<IComment>(url, body) // ...using put request\r\n        .pipe(\r\n            map(comment => {\r\n                this.comment = comment;\r\n                return this.comment;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }   \r\n\r\n    updateVote (url: string, body: Object): Observable<IComment> {\r\n        return this.http.put<IComment>(url, body) // ...using put request\r\n        .pipe(\r\n            map(comment => {\r\n                this.comment = comment;\r\n                return this.comment;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    } \r\n\r\n    // Delete a comment\r\n    removeComment (url: string): Observable<Object> {\r\n        return this.http.delete(url) // ...using put request\r\n        .pipe(\r\n            map(res => {\r\n                return res;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }\r\n    \r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n          // A client-side or network error occurred. Handle it accordingly.\r\n          console.error('An error occurred:', error.error.message);\r\n        } else {\r\n          // The backend returned an unsuccessful response code.\r\n          // The response body may contain clues as to what went wrong,\r\n          console.error(\r\n            `Backend returned code ${error.status}, ` +\r\n            `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.' || 'Server error');\r\n    }\r\n}\r\n","/* * * ./app/emitter.service.ts * * */\r\n// https://gist.github.com/sasxa\r\n// Imports\r\nimport {Injectable, EventEmitter} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class EmitterService {\r\n    // Event store\r\n    private static _emitters: { [ID: string]: EventEmitter<any> } = {};\r\n    // Set a new event in the store with a given ID\r\n    // as key\r\n    static get(ID: string): EventEmitter<any> {\r\n        if (!this._emitters[ID]) \r\n            this._emitters[ID] = new EventEmitter();\r\n        return this._emitters[ID];\r\n    }\r\n}","/* * * ./app/comments/components/comment.service.ts * * */\r\n// Imports\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { IEvaluationOption } from '../_models';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\n\r\n// Import RxJs required methods\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n@Injectable()\r\nexport class EvaluationOptionService {\r\n    // Resolve HTTP using the constructor\r\n    constructor(private http: HttpClient) { }\r\n    private evaluationOption: IEvaluationOption[];\r\n\r\n    getEvaluationOptions(url: string): Observable<IEvaluationOption[]> {\r\n        // ...using get request\r\n        return this.http.get<IEvaluationOption[]>(url)\r\n            .pipe(\r\n                map(evaluationOption => {\r\n                    this.evaluationOption = evaluationOption;\r\n                    return this.evaluationOption;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.' || 'Server error');\r\n    }\r\n}\r\n","/* * * ./app/comments/components/comment.service.ts * * */\r\n// Imports\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { IEvaluationParameter } from '../_models';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\n\r\n// Import RxJs required methods\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n@Injectable()\r\nexport class EvaluationParameterService {\r\n    // Resolve HTTP using the constructor\r\n    constructor(private http: HttpClient) { }\r\n    private evaluationParameter: IEvaluationParameter;\r\n\r\n    getEvaluationParameter(url: string): Observable<IEvaluationParameter> {\r\n        // ...using get request\r\n        return this.http.get<IEvaluationParameter>(url)\r\n            .pipe(\r\n                map(evaluationParameter => {\r\n                    this.evaluationParameter = evaluationParameter;\r\n                    return this.evaluationParameter;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    updateEvaluationParameter(url: string, evaluationParameter: IEvaluationParameter): Observable<IEvaluationParameter> {\r\n        return this.http.put<IEvaluationParameter>(url, evaluationParameter) // ...using put request\r\n            .pipe(\r\n                map(resultEvaluationParam => {\r\n                    this.evaluationParameter = resultEvaluationParam;\r\n                    return this.evaluationParameter;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.' || 'Server error');\r\n    }\r\n}\r\n","/* * * ./app/comments/components/comment.service.ts * * */\r\n// Imports\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { IEvaluatorType } from '../_models';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { throwError } from 'rxjs';\r\n\r\n// Import RxJs required methods\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\n@Injectable()\r\nexport class EvaluatorTypeService {\r\n    // Resolve HTTP using the constructor\r\n    constructor(private http: HttpClient) { }\r\n    private evaluatorType: IEvaluatorType[];\r\n\r\n    getEvaluatorTypes(url: string): Observable<IEvaluatorType[]> {\r\n        // ...using get request\r\n        return this.http.get<IEvaluatorType[]>(url)\r\n            .pipe(\r\n                map(evaluatorType => {\r\n                    this.evaluatorType = evaluatorType;\r\n                    return this.evaluatorType;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.' || 'Server error');\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Response } from '@angular/http';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { throwError } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport 'rxjs/add/operator/catch';\r\nimport { ISystemFile } from '../_models';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n\r\n@Injectable()\r\nexport class FilesService {\r\n    files: ISystemFile[];\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getFiles(url: string): Observable<ISystemFile[]> {\r\n        return this.http.get<ISystemFile[]>(url)\r\n        .pipe(\r\n            map(files => {\r\n                this.files = files;\r\n                return this.files;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }\r\n\r\n    deleteFile(url: string): Observable<Object> {       \r\n        return this.http.delete(url) // ...using put request\r\n        .pipe(\r\n            map(res => {\r\n                return res;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }\r\n\r\n    public downloadFile(url: string): Observable<Blob>\r\n    {\r\n        return this.http\r\n        .get(url, {responseType: \"blob\"\r\n          })\r\n        //this.getAuthHeader(false, true))\r\n        .pipe(\r\n            map(res => {\r\n                return res;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n          // A client-side or network error occurred. Handle it accordingly.\r\n          console.error('An error occurred:', error.error.message);\r\n        } else {\r\n          // The backend returned an unsuccessful response code.\r\n          // The response body may contain clues as to what went wrong,\r\n          console.error(\r\n            `Backend returned code ${error.status}, ` +\r\n            `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.' || 'Server error');\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { IHeritage } from '../_models';\r\nimport { catchError, map } from 'rxjs/operators';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n\r\n@Injectable()\r\nexport class HeritageService {\r\n\r\n    dataChange: BehaviorSubject<IHeritage[]> = new BehaviorSubject<IHeritage[]>([]);\r\n    heritage: IHeritage;\r\n\r\n    constructor(private http: HttpClient) { }\r\n    \r\n    get data(): IHeritage[] {\r\n        return this.dataChange.value;\r\n    }\r\n\r\n    /*\r\n    getAllHeritage(url: string): Observable<IHeritage[]> {\r\n        return this.http.get<IHeritage[]>(url)\r\n        .pipe(\r\n            catchError(this.handleError)\r\n        );\r\n    }\r\n    */\r\n\r\n    getAllHeritage(url: string): void {\r\n        this.http.get<IHeritage[]>(url).subscribe(data => {\r\n            this.dataChange.next(data);\r\n        },\r\n        (error: HttpErrorResponse) => {\r\n            console.log(error.name + ' ' + error.message);\r\n        });\r\n    }\r\n\r\n    getHeritage(url: string): Observable<IHeritage> {\r\n        return this.http.get<IHeritage>(url)\r\n        .pipe(\r\n            map(heritage => {\r\n                this.heritage = heritage;\r\n                return this.heritage;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n    }\r\n\r\n    addHeritage(url: string, heritage: IHeritage): Observable<IHeritage> {\r\n        return this.http.post<IHeritage>(url, heritage)\r\n        .pipe(\r\n            map(heritage => {\r\n                this.heritage = heritage;\r\n                return this.heritage;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        /*\r\n        this.http.post<IHeritage>(url, heritage, httpOptions).subscribe(data => {\r\n            this.heritage = data;\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n\r\n    updateHeritage(url: string, heritage: IHeritage): Observable<IHeritage> {\r\n        return this.http.put<IHeritage>(url, heritage) // ...using put request\r\n        .pipe(\r\n            map(heritage => {\r\n                this.heritage = heritage;\r\n                return this.heritage;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        \r\n        /*\r\n        this.http.put<IHeritage>(url, heritage, httpOptions).subscribe(data => {\r\n            this.heritage = data;\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n\r\n    deleteHeritage(url: string, id: number): Observable<any> {\r\n        return this.http.delete(url + id)\r\n        .pipe(\r\n            map(data => {\r\n                return data;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        /*\r\n        this.http.delete(url + id, httpOptions).subscribe(data => {\r\n            console.log('Heritage was successfully deleted');\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n\r\n        // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n          // A client-side or network error occurred. Handle it accordingly.\r\n          console.error('An error occurred:', error.error.message);\r\n        } else {\r\n          // The backend returned an unsuccessful response code.\r\n          // The response body may contain clues as to what went wrong,\r\n          console.error(\r\n            `Backend returned code ${error.status}, ` +\r\n            `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.');\r\n    }\r\n\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\r\nimport { environment } from '../../environments/environment';\r\nimport { IHeritageEvaluation, IHeritageGameAnalysis, IHeritage } from '../_models';\r\nimport { catchError, map } from 'rxjs/operators';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n\r\n@Injectable()\r\nexport class HeritageEvaluationService {\r\n\r\n    heritageEvaluations: IHeritageEvaluation[];\r\n    heritageEvaluation: IHeritageEvaluation;\r\n    heritage: IHeritage;\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getHeritageEvaluations(url: string): Observable<IHeritageEvaluation[]> {\r\n        return this.http.get<IHeritageEvaluation[]>(url)\r\n            .pipe(\r\n                map(evaluations => {\r\n                    this.heritageEvaluations = evaluations;\r\n                    return this.heritageEvaluations;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    evaluateHeritage(url: string): Observable<IHeritage> {\r\n        return this.http.get<IHeritage>(url)\r\n            .pipe(\r\n                map(heritage => {\r\n                    this.heritage = heritage;\r\n                    return this.heritage;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    addHeritageEvaluation(url: string, evaluation: IHeritageEvaluation): Observable<IHeritageEvaluation> {\r\n        return this.http.post<IHeritageEvaluation>(url, evaluation)\r\n            .pipe(\r\n                map(resultEvaluation => {\r\n                    this.heritageEvaluation = resultEvaluation;\r\n                    return this.heritageEvaluation;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    updateHeritageEvaluation(url: string, evaluation: IHeritageEvaluation): Observable<IHeritageEvaluation> {\r\n        return this.http.put<IHeritageEvaluation>(url, evaluation) // ...using put request\r\n            .pipe(\r\n                map(resultEvaluation => {\r\n                    this.heritageEvaluation = resultEvaluation;\r\n                    return this.heritageEvaluation;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    deleteHeritageEvaluation(url: string, id: number): Observable<any> {\r\n        return this.http.delete(url + id)\r\n            .pipe(\r\n                map(data => {\r\n                    return data;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.');\r\n    }\r\n\r\n\r\n}\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, BehaviorSubject } from 'rxjs';\r\nimport 'rxjs/add/observable/of'\r\nimport { environment } from '../../environments/environment';\r\nimport { IHeritageGameAnalysis, IAnalysisRoute } from '../_models';\r\nimport { catchError, map } from 'rxjs/operators';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n\r\n@Injectable()\r\nexport class HeritageGameAnalysisService {\r\n\r\n    heritageGameAnalysis: IHeritageGameAnalysis;\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getHeritageGameAnalysis(url: string): Observable<IHeritageGameAnalysis> {\r\n        return this.http.get<IHeritageGameAnalysis>(url)\r\n            .pipe(\r\n                map(gameAnalysis => {\r\n                    this.heritageGameAnalysis = gameAnalysis;\r\n                    return this.heritageGameAnalysis;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    getHeritageAnalysisBestRoute(url: string): Observable<IAnalysisRoute> {\r\n        return this.http.get<IAnalysisRoute>(url)\r\n            .pipe(\r\n                map(gameAnalysisBestRoute => {\r\n                    return gameAnalysisBestRoute;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    addHeritageGameAnalysis(url: string, gameAnalysis: IHeritageGameAnalysis): Observable<IHeritageGameAnalysis> {\r\n        return this.http.post<IHeritageGameAnalysis>(url, gameAnalysis)\r\n            .pipe(\r\n                map(resultGameAnalysis => {\r\n                    this.heritageGameAnalysis = resultGameAnalysis;\r\n                    return this.heritageGameAnalysis;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    updateHeritageGameAnalysis(url: string, gameAnalysis: IHeritageGameAnalysis): Observable<IHeritageGameAnalysis> {\r\n        return this.http.put<IHeritageGameAnalysis>(url, gameAnalysis) // ...using put request\r\n            .pipe(\r\n                map(resultGameAnalysis => {\r\n                    this.heritageGameAnalysis = resultGameAnalysis;\r\n                    return this.heritageGameAnalysis;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    deleteHeritageGameAnalysis(url: string, id: number): Observable<any> {\r\n        return this.http.delete(url + id)\r\n            .pipe(\r\n                map(data => {\r\n                    return data;\r\n                }),\r\n\r\n                catchError(this.handleError)\r\n            )\r\n    }\r\n\r\n    // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n            // A client-side or network error occurred. Handle it accordingly.\r\n            console.error('An error occurred:', error.error.message);\r\n        } else {\r\n            // The backend returned an unsuccessful response code.\r\n            // The response body may contain clues as to what went wrong,\r\n            console.error(\r\n                `Backend returned code ${error.status}, ` +\r\n                `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.');\r\n    }\r\n\r\n\r\n}\r\n\r\n","export * from './alert.service';\r\nexport * from './authentication.service';\r\nexport * from './user.service';\r\nexport * from './heritage.service';\r\nexport * from './file.service';\r\nexport * from './emitter.service';\r\nexport * from './comment.service';\r\nexport * from './activationmode.service';\r\nexport * from './evaluationoption.service';\r\nexport * from './evaluatortype.service';\r\nexport * from './heritageevaluation.service';\r\nexport * from './heritagegameanalysis.service';\r\nexport * from './evaluationparameter.service';","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Observable, throwError, BehaviorSubject, empty } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { IUser } from '../_models';\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders({\r\n        'Content-Type': 'application/json'\r\n    })\r\n};\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n    dataChange: BehaviorSubject<IUser[]> = new BehaviorSubject<IUser[]>([]);\r\n    dialogData: any;\r\n    user: IUser;\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    get data(): IUser[] {\r\n        return this.dataChange.value;\r\n    }\r\n\r\n    getDialogData() {\r\n        return this.dialogData;\r\n    }\r\n\r\n    getAllUsers(url: string): void {\r\n        this.http.get<IUser[]>(url, httpOptions).subscribe(data => {\r\n            this.dataChange.next(data);\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n    }\r\n\r\n    getUserById(url: string, id: number): void {\r\n        this.http.get<IUser>(url, httpOptions).subscribe(data => {\r\n            this.dialogData = data;\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });        \r\n    }\r\n\r\n    addUser(url: string, user: IUser): Observable<IUser> {\r\n        return this.http.post<IUser>(url, user)\r\n        .pipe(\r\n            map(user => {\r\n                this.user = user;\r\n                return this.user;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        /*\r\n        this.http.post(url, user, httpOptions).subscribe(data => {\r\n            this.dialogData = data;\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n\r\n    register(url: string, user: IUser): Observable<IUser> {\r\n        return this.http.post<IUser>(url, user, httpOptions)\r\n        .pipe(\r\n            map(user => {\r\n                this.user = user;\r\n                return this.user;\r\n            }),\r\n            \r\n            catchError(this.handleError)\r\n        )           \r\n    }\r\n\r\n    updateUser(url: string, user: IUser): Observable<IUser> {\r\n        return this.http.put<IUser>(url, user)\r\n        .pipe(\r\n            map( user => {\r\n                this.user = user;\r\n                return this.user;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        /*\r\n        this.http.put(url, user, httpOptions).subscribe(data => {\r\n            this.dialogData = data;\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n\r\n    deleteUser(url: string, id: number): Observable<Object> {\r\n        return this.http.delete(url + id)\r\n        .pipe(\r\n            map( data => {\r\n                return data;\r\n            }),\r\n\r\n            catchError(this.handleError)\r\n        )\r\n        /*\r\n        this.http.delete(url + id, httpOptions).subscribe(data => {\r\n            console.log('User was successfully deleted');\r\n        },\r\n        (err: HttpErrorResponse) => {\r\n            console.log (err.name + ' ' + err.message);\r\n        });\r\n        */\r\n    }\r\n    \r\n    public currentUserId(): number {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.id;\r\n        }\r\n        else\r\n        {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    public currentUserName(): string {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.userName;\r\n        }\r\n        else\r\n        {\r\n            return 'Unknown';\r\n        }\r\n    }\r\n\r\n    public isReadOnly(): boolean {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.isReadOnly;\r\n        }\r\n        else\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public canComment(): boolean {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.canComment || user.isContributer;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public canEdit(): boolean {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.isContributer;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public isAdmin(): boolean {\r\n        var user = JSON.parse(localStorage.getItem('currentUser'));\r\n        if (user != null && user != empty)\r\n        {\r\n            return user.isAdmin;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n        // custom handler\r\n    private handleError(error: HttpErrorResponse) {\r\n        if (error.error instanceof ErrorEvent) {\r\n          // A client-side or network error occurred. Handle it accordingly.\r\n          console.error('An error occurred:', error.error.message);\r\n        } else {\r\n          // The backend returned an unsuccessful response code.\r\n          // The response body may contain clues as to what went wrong,\r\n          console.error(\r\n            `Backend returned code ${error.status}, ` +\r\n            `body was: ${error.error}`);\r\n        }\r\n        // return an observable with a user-facing error message\r\n        return throwError('Something bad happened; please try again later.');\r\n    }\r\n    \r\n\r\n}","export class Global {\r\n    public static BASE_USER_ENDPOINT = 'api/User/';\r\n    public static BASE_HERITAGE_ENDPOINT = 'api/Heritage/';\r\n    public static BASE_FILE_ENDPOINT = 'api/File/';\r\n    public static BASE_HERITAGE_COMMENT_ENDPOINT = 'api/HeritageComment/';\r\n    public static BASE_ACTIVATION_MODE_ENDPOINT = 'api/ActivationMode/';\r\n    public static BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT = 'api/HeritageGameAnalysis/';\r\n    public static BASE_HERITAGE_EVALUATION_ENDPOINT = 'api/HeritageEvaluation/';\r\n    public static BASE_EVALUATION_OPTION_ENDPOINT = 'api/EvaluationOption/';\r\n    public static BASE_EVALUATOR_TYPE_ENDPOINT = 'api/EvaluatorType/';\r\n    public static BASE_EVALUATION_PARAMETER_ENDPOINT = 'api/EvaluationParameter/'\r\n}\r\n","export * from './global';","module.exports = \"<div class=\\\"basic-container\\\">\\n  <mat-card class=\\\"about-card\\\">\\n    <mat-card-header>\\n      <mat-card-title>关于非遗系统</mat-card-title>\\n      <mat-card-subtitle>传统技艺非遗旅游评估系统</mat-card-subtitle>\\n    </mat-card-header>\\n    <img mat-card-image src=\\\"../../assets/images/buu_logo.jpg\\\" alt=\\\"BUU Logo\\\" style=\\\"width:300px\\\">\\n    <mat-card-content>\\n      <p>\\n        传统技艺非遗旅游评估系统是一个非遗数据收集、分析、评估系统，通过科学规范的数据收集、归纳、整理、分类、严谨的元数据描述、采用现代大数据存储技术，\\n        增量式的构建传统技艺非遗资源存储管理系统，在此基础上进行传统技艺非遗旅游价值评估、博弈及活化研究，旨在构建传统技艺的旅游价值评估系统，解决我国传\\n        统技艺旅游活化的系统评判问题，在价值评估的基础上推导出传统技艺的旅游活化模式及不同利益相关者利益博弈关系，推进我国传统技艺的可持续发展，为我国传\\n        统技艺的活化提供系统的指导。\\n        <br>\\n        <br>\\n        <br>\\n        联系方式：\\n        <br>\\n        <br>\\n        地址：\\n        <br>\\n        <br>\\n        电话：\\n        <br>\\n        <br>\\n        邮件：\\n        <br>\\n      </p>\\n    </mat-card-content>\\n    <mat-card-actions>\\n      <button mat-button routerLink=\\\"/\\\">返回</button>\\n    </mat-card-actions>\\n  </mat-card>\\n</div>\"","module.exports = \".basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-about-us',\n  templateUrl: './about-us.component.html',\n  styleUrls: ['./about-us.component.scss']\n})\nexport class AboutUsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { AboutUsComponent } from './about-us.component';\r\n\r\n// Route Configuration\r\nexport const aboutUsRoutes: Routes = [\r\n    { path: 'aboutus', component: AboutUsComponent }\r\n];","module.exports = \"<div class=\\\"tblcontainer mat-elevation-z8\\\">\\n\\n  <div class=\\\"form\\\">\\n    <mat-form-field floatPlaceholder=\\\"never\\\" color=\\\"accent\\\">\\n      <input matInput #filter placeholder=\\\"Filter activation mode\\\">\\n    </mat-form-field>\\n  </div>\\n\\n  <mat-table #table [dataSource]=\\\"dataSource\\\" matSort class=\\\"mat-cell\\\">\\n\\n    <!--- Note that these columns can be defined in any order.\\n          The actual rendered columns are set as a property on the row definition\\\" -->\\n\\n    <!-- ID Column -->\\n    <ng-container matColumnDef=\\\"id\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>编号</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\" >{{row.id}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"activationModeName\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>名称</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.activationModeName}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"upperBound\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>上界</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.upperBound}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"lowerBound\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>下界</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.lowerBound}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"activationModeDescription\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>描述</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.activationModeDescription}}</mat-cell>\\n    </ng-container>\\n    \\n    <!-- actions -->\\n    <ng-container matColumnDef=\\\"actions\\\">\\n      <mat-header-cell *matHeaderCellDef>\\n        <button mat-icon-button color=\\\"primary\\\" (click)=\\\"addNew()\\\">\\n          <mat-icon aria-label=\\\"Example icon-button with a heart icon\\\">add</mat-icon>\\n        </button>\\n        <button mat-icon-button (click)=\\\"refresh()\\\">\\n          <mat-icon>refresh</mat-icon>\\n        </button>\\n      </mat-header-cell>\\n\\n      <mat-cell *matCellDef=\\\"let row;\\\">\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"startEdit(row.id, row.activationModeName, row.upperBound, row.lowerBound, row.activationModeDescription)\\\">\\n          <mat-icon aria-label=\\\"Edit\\\">edit</mat-icon>\\n        </button>\\n\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"deleteItem(row.id, row.activationModeName, row.upperBound, row.lowerBound, row.activationModeDescription)\\\">\\n          <mat-icon aria-label=\\\"Delete\\\">delete</mat-icon>\\n        </button>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n  </mat-table>\\n\\n\\n  <div class=\\\"no-results\\\" [style.display]=\\\"dataSource.renderedData.length == 0 ? '' : 'none'\\\">\\n    No results\\n  </div>\\n\\n  <mat-paginator #paginator\\n                 [length]=\\\"dataSource.filteredData.length\\\"\\n                 [pageIndex]=\\\"0\\\"\\n                 [pageSize]=\\\"10\\\"\\n                 [pageSizeOptions]=\\\"[5, 10, 25, 100]\\\">\\n  </mat-paginator>\\n</div>\\n\"","module.exports = \".spinner {\\n  top: 45%;\\n  left: 47%;\\n  position: fixed; }\\n\\n.contactlist-container, #paginator {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 300px;\\n  max-width: 1200px;\\n  max-height: 700px;\\n  overflow: auto;\\n  margin: 0 auto; }\\n\\n/* Toolbar */\\n\\n.spacer {\\n  flex: 1 1 auto; }\\n\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog, MatPaginator, MatSort, MatTableDataSource } from '@angular/material';\nimport { HttpClient } from '@angular/common/http';\nimport { DataSource } from '@angular/cdk/collections';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { ActivationModeAddDialogComponent, ActivationModeDeleteDialogComponent, ActivationModeEditDialogComponent } from '../_dialogs';\nimport { ActivationModeService } from '../_services';\nimport { Global } from '../_shared';\nimport { IActivationMode } from '../_models';\n\n@Component({\n  selector: 'app-activation-mode-list',\n  templateUrl: './activation-mode-list.component.html',\n  styleUrls: ['./activation-mode-list.component.scss']\n})\nexport class ActivationModeListComponent implements OnInit {\n\n  loadingState: boolean;\n  displayedColumns = ['id', 'activationModeName', 'upperBound', 'lowerBound', 'actions'];\n  actModeService: ActivationModeService | null;\n  dataSource: ActModeDataSource | null;\n  index: number;\n  id: number;\n\n  constructor(public httpClient: HttpClient,\n    public dialog: MatDialog,\n    public _actModeService: ActivationModeService\n  ) { }\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild('filter') filter: ElementRef;\n\n  ngOnInit() {\n    this.loadingState = true;\n    this.loadData();\n  }\n\n  refresh() {\n    this.loadingState = true;\n    this.loadData();\n  }\n  addNew(activationMode: IActivationMode) {\n    const dialogRef = this.dialog.open(ActivationModeAddDialogComponent, {\n      data: { actMode: activationMode }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        // After dialog is closed we're doing frontend updates\n        // For add we're just pushing a new row inside DataService\n        this.actModeService.dataChange.value.push(dialogRef.componentInstance.newActMode);\n        this.refreshTable();\n      }\n    });\n  }\n\n  startEdit(id: number, activationModeName: string, upperBound: number, lowerBound: number, activationModeDescription: string) {\n    this.id = id;\n    // index row is used just for debugging proposes and can be removed\n    console.log(this.id);\n    const dialogRef = this.dialog.open(ActivationModeEditDialogComponent, {\n      data: { id: id, activationModeName: activationModeName, upperBound: upperBound, lowerBound: lowerBound, activationModeDescription: activationModeDescription }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        // When using an edit things are little different, firstly we find record inside DataService by id\n        const foundIndex = this.actModeService.dataChange.value.findIndex(x => x.id === this.id);\n        // Then you update that record using data from dialogData (values you enetered)\n        this.actModeService.dataChange.value[foundIndex] = dialogRef.componentInstance.actMode;\n        // And lastly refresh table\n        this.refreshTable();\n      }\n    });\n  }\n\n  deleteItem(id: number, actModeName: string, upperBound: number, lowerBound: number, activationModeDescription: string) {\n    this.id = id;\n    const dialogRef = this.dialog.open(ActivationModeDeleteDialogComponent, {\n      data: { id: id, activationModeName: actModeName, upperBound: upperBound, lowerBound: lowerBound, activationModeDescription: activationModeDescription }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        const foundIndex = this.actModeService.dataChange.value.findIndex(x => x.id === this.id);\n        // for delete we use splice in order to remove single object from DataService\n        this.actModeService.dataChange.value.splice(foundIndex, 1);\n        this.refreshTable();\n      }\n    });\n  }\n\n  // If you don't need a filter or a pagination this can be simplified, you just use code from else block\n  private refreshTable() {\n    // if there's a paginator active we're using it for refresh\n    if (this.dataSource._paginator.hasNextPage()) {\n      this.dataSource._paginator.nextPage();\n      this.dataSource._paginator.previousPage();\n      // in case we're on last page this if will tick\n    } else if (this.dataSource._paginator.hasPreviousPage()) {\n      this.dataSource._paginator.previousPage();\n      this.dataSource._paginator.nextPage();\n      // in all other cases including active filter we do it like this\n    } else {\n      this.dataSource.filter = '';\n      this.dataSource.filter = this.filter.nativeElement.value;\n    }\n  }\n\n  public loadData() {\n    this.loadingState = false;\n    this.actModeService = new ActivationModeService(this.httpClient);\n    this.dataSource = new ActModeDataSource(this.actModeService, this.paginator, this.sort);\n    Observable.fromEvent(this.filter.nativeElement, 'keyup')\n      .debounceTime(150)\n      .distinctUntilChanged()\n      .subscribe(() => {\n        if (!this.dataSource) {\n          return;\n        }\n        this.dataSource.filter = this.filter.nativeElement.value;\n      });\n  }\n\n}\n\n\nexport class ActModeDataSource extends DataSource<IActivationMode> {\n  _filterChange = new BehaviorSubject('');\n\n  get filter(): string {\n    return this._filterChange.value;\n  }\n\n  set filter(filter: string) {\n    this._filterChange.next(filter);\n  }\n\n  filteredData: IActivationMode[] = [];\n  renderedData: IActivationMode[] = [];\n\n  constructor(\n    public _actModeDataService: ActivationModeService,\n    public _paginator: MatPaginator,\n    public _sort: MatSort) {\n    super();\n    // Reset to the first page when the user changes the filter.\n    this._filterChange.subscribe(() => this._paginator.pageIndex = 0);\n  }\n\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\n  connect(): Observable<IActivationMode[]> {\n    // Listen for any changes in the base data, sorting, filtering, or pagination\n    const displayDataChanges = [\n      this._actModeDataService.dataChange,\n      this._sort.sortChange,\n      this._filterChange,\n      this._paginator.page\n    ];\n\n    this._actModeDataService.getAllActModes(Global.BASE_ACTIVATION_MODE_ENDPOINT + 'getAllActMode');\n\n    return Observable.merge(...displayDataChanges).map(() => {\n      // Filter data\n      this.filteredData = this._actModeDataService.data.slice().filter((actMode: IActivationMode) => {\n        const searchStr = (actMode.id + actMode.activationModeName).toLowerCase();\n        return searchStr.indexOf(this.filter.toLowerCase()) !== -1;\n      });\n\n      // Sort filtered data\n      const sortedData = this.sortData(this.filteredData.slice());\n\n      // Grab the page's slice of the filtered sorted data.\n      const startIndex = this._paginator.pageIndex * this._paginator.pageSize;\n      this.renderedData = sortedData.splice(startIndex, this._paginator.pageSize);\n      return this.renderedData;\n    });\n  }\n  disconnect() {\n  }\n\n\n\n  /** Returns a sorted copy of the database data. */\n  sortData(data: IActivationMode[]): IActivationMode[] {\n    if (!this._sort.active || this._sort.direction === '') {\n      return data;\n    }\n\n    return data.sort((a, b) => {\n      let propertyA: number | string = '';\n      let propertyB: number | string = '';\n\n      switch (this._sort.active) {\n        case 'id': [propertyA, propertyB] = [a.id, b.id]; break;\n        case 'userName': [propertyA, propertyB] = [a.activationModeName, b.activationModeName]; break;\n      }\n\n      const valueA = isNaN(+propertyA) ? propertyA : +propertyA;\n      const valueB = isNaN(+propertyB) ? propertyB : +propertyB;\n\n      return (valueA < valueB ? -1 : 1) * (this._sort.direction === 'asc' ? 1 : -1);\n    });\n  }\n}","import { Routes } from '@angular/router';\r\nimport { ActivationModeListComponent } from './activation-mode-list.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const activationModeListRoutes: Routes = [\r\n    { path: 'activationmodelist', component: ActivationModeListComponent, canActivate: [AuthGuard]}\r\n  ];","import { NgModule }       from '@angular/core';\r\nimport { BrowserModule }  from '@angular/platform-browser';\r\nimport { FormsModule }    from '@angular/forms';\r\nimport { HttpModule, JsonpModule } from '@angular/http';\r\nimport { AppMaterialModule } from './app.material.module';\r\nimport { CommentBoxComponent } from './comment/comment-box.component';\r\nimport { CommentListComponent } from './comment/comment-list.component';\r\nimport { CommentFormComponent } from './comment/comment-form.component';\r\nimport { CommentComponent } from './comment/comment.component';\r\n\r\n\r\nimport { CommentService } from './_services';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule,\r\n    JsonpModule,\r\n    AppMaterialModule\r\n    \r\n  ],\r\n  declarations: [\r\n    CommentBoxComponent,\r\n    CommentFormComponent,\r\n    CommentListComponent,\r\n    CommentComponent\r\n  ],\r\n\r\n  providers: [\r\n      CommentService\r\n  ],\r\n\r\n  exports:[\r\n    CommentBoxComponent,\r\n    CommentFormComponent,\r\n    CommentListComponent,\r\n    CommentComponent\r\n  ]\r\n  \r\n})\r\nexport class CommentModule {\r\n}\r\n\r\n","module.exports = \"<router-outlet></router-outlet>\\n\\n\\n\\n\\n\\n\\n\\n\\n\"","module.exports = \"\"","import { Component } from '@angular/core';\nimport { MatIconRegistry } from \"@angular/material/icon\";\nimport { DomSanitizer } from \"@angular/platform-browser\";\nimport { AuthenticationService } from './_services';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'HerritageApp';\n\n  constructor(public auth: AuthenticationService,\n    private matIconRegistry: MatIconRegistry,\n    private domSanitizer: DomSanitizer\n    ) {\n    auth.handleAuthentication();\n    this.matIconRegistry.addSvgIcon(\n      \"buu_icon\",\n      this.domSanitizer.bypassSecurityTrustResourceUrl(\"../assets/icons/buu.svg\")\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\r\n\r\nimport { \r\n  MatAutocompleteModule,\r\n  MatButtonModule,\r\n  MatButtonToggleModule,\r\n  MatCardModule,\r\n  MatCheckboxModule,\r\n  MatChipsModule,\r\n  MatDatepickerModule,\r\n  MatDialogModule,\r\n  MatExpansionModule,\r\n  MatGridListModule,\r\n  MatIconModule,\r\n  MatInputModule,\r\n  MatListModule,\r\n  MatMenuModule,\r\n  MatNativeDateModule,\r\n  MatPaginatorModule,\r\n  MatProgressBarModule,\r\n  MatProgressSpinnerModule,\r\n  MatRadioModule,\r\n  MatRippleModule,\r\n  MatSelectModule,\r\n  MatSidenavModule,\r\n  MatSliderModule,\r\n  MatSlideToggleModule,\r\n  MatSnackBarModule,\r\n  MatSortModule,\r\n  MatTableModule,\r\n  MatTabsModule,\r\n  MatToolbarModule,\r\n  MatTooltipModule,\r\n  MatStepperModule,\r\n} from '@angular/material';\r\n\r\n@NgModule({\r\n  imports: [ \r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatStepperModule,\r\n  ],\r\n  exports: [\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatStepperModule,\r\n  ]    \r\n})\r\n\r\nexport class AppMaterialModule {}","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ToastrModule } from 'ngx-toastr'; \nimport { AppComponent } from './app.component';\nimport { HeritageDetailComponent } from './heritage-detail';\nimport { HeritageListComponent } from './heritage-list';\nimport { WelcomeComponent } from './welcome';\nimport { routing } from './app.routing';\nimport { LoginComponent } from './login';\nimport { RegisterComponent } from './register';\nimport { AlertComponent } from './_directives';\nimport { AlertService, AuthenticationService, UserService, HeritageService, FilesService, ActivationModeService, EvaluationOptionService, EvaluatorTypeService, HeritageEvaluationService, HeritageGameAnalysisService, EvaluationParameterService } from './_services';\nimport { AuthGuard } from './_guards';\nimport { ErrorInterceptor, JwtInterceptor } from './_helpers';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AddDialogComponent, EditDialogComponent, DeleteDialogComponent, HeritageDeleteDialogComponent, ActivationModeAddDialogComponent, ActivationModeDeleteDialogComponent, ActivationModeEditDialogComponent } from './_dialogs';\nimport { AppMaterialModule } from './app.material.module';\nimport { AppPrimeNGModule } from './app.primeng.module';\nimport { CommentModule } from './app.comment.module';\nimport { UserListComponent } from './user-list/user-list.component';\nimport { FileManagerComponent } from './file-manager/file-manager.component';\nimport { AppHeaderComponent, AppLayoutComponent, SiteHeaderComponent, SiteFooterComponent, SiteLayoutComponent } from './_layout';\nimport { HeritageEvaluationComponent } from './heritage-evaluation/heritage-evaluation.component';\nimport { HeritageNavComponent } from './heritage-nav/heritage-nav.component';\nimport { HeritageActivationComponent } from './heritage-activation/heritage-activation.component';\nimport { HeritageAnalysisComponent } from './heritage-analysis/heritage-analysis.component';\nimport { TreeModule, DialogModule, RadioButtonModule, FieldsetModule, ConfirmDialogModule } from 'primeng/primeng';\nimport {DropdownModule} from 'primeng/dropdown';\nimport { ConfirmationService } from 'primeng/api'\nimport { ActivationModeListComponent } from './activation-mode-list/activation-mode-list.component';\nimport { EvaluationOptionPipe, EvaluatorTypePipe } from './_pipes';\nimport { AboutUsComponent } from './about-us/about-us.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeritageDetailComponent,\n    HeritageListComponent,\n    WelcomeComponent,\n    LoginComponent,\n    RegisterComponent,\n    AlertComponent,\n    AddDialogComponent,\n    EditDialogComponent,\n    DeleteDialogComponent,\n    HeritageDeleteDialogComponent,\n    ActivationModeAddDialogComponent,\n    ActivationModeEditDialogComponent,\n    ActivationModeDeleteDialogComponent,\n    UserListComponent,\n    FileManagerComponent,\n    AppHeaderComponent,\n    AppLayoutComponent,\n    SiteHeaderComponent,\n    SiteFooterComponent,\n    SiteLayoutComponent,\n    HeritageEvaluationComponent,\n    HeritageNavComponent,\n    HeritageActivationComponent,\n    HeritageAnalysisComponent,\n    ActivationModeListComponent,\n    EvaluationOptionPipe,\n    EvaluatorTypePipe,\n    AboutUsComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    FormsModule,\n    FlexLayoutModule,\n    AppMaterialModule,\n    AppPrimeNGModule,\n    CommentModule,\n    routing,\n    TreeModule,\n    DropdownModule,\n    DialogModule,\n    RadioButtonModule,\n    ConfirmDialogModule,\n    FieldsetModule,\n    ToastrModule.forRoot({ \n      timeOut: 3000,\n      positionClass: 'toast-bottom-right',\n      preventDuplicates: true,\n    })\n  ],\n  entryComponents: [\n    AddDialogComponent,\n    EditDialogComponent,\n    DeleteDialogComponent,\n    HeritageDeleteDialogComponent,\n    ActivationModeAddDialogComponent,\n    ActivationModeEditDialogComponent,\n    ActivationModeDeleteDialogComponent\n  ],\n  providers: [\n    AlertService,\n    AuthenticationService,\n    UserService,\n    AuthGuard,\n    FilesService,\n    HeritageService,\n    ActivationModeService,\n    EvaluationOptionService,\n    EvaluatorTypeService,\n    HeritageEvaluationService,\n    HeritageGameAnalysisService,\n    ConfirmationService,\n    EvaluationParameterService,\n    { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\n\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from '@angular/core';\r\n\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { TableModule } from 'primeng/table';\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [FileUploadModule,\r\n    TableModule\r\n    ],\r\n\r\n  exports: [FileUploadModule,\r\n    TableModule\r\n    ]\r\n\r\n})\r\n\r\nexport class AppPrimeNGModule {}","import { ModuleWithProviders } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { WelcomeComponent } from './welcome';\r\nimport { heritageDetailRoutes } from './heritage-detail';\r\nimport { heritageListRoutes } from './heritage-list';\r\nimport { heritageCommentRoutes } from './comment/comment.component.route';\r\nimport { heritageEvaluationRoutes } from './heritage-evaluation';\r\nimport { LoginComponent } from './login';\r\nimport { RegisterComponent } from './register';\r\nimport { AuthGuard } from './_guards';\r\nimport { UserListComponent } from './user-list/user-list.component';\r\nimport { SiteLayoutComponent } from './_layout';\r\nimport { heritageActivationRoutes } from './heritage-activation/heritage-activation.route';\r\nimport { heritageAnalysisRoutes } from './heritage-analysis/heritage-analysis.route';\r\nimport { heritageNavRoutes } from './heritage-nav/heritage-nav.route';\r\nimport { activationModeListRoutes } from './activation-mode-list/activation-mode-list.route';\r\nimport { aboutUsRoutes } from './about-us/about-us.route';\r\n\r\n\r\nconst appRoutes: Routes = [\r\n      {\r\n        path: '',\r\n        component: SiteLayoutComponent,\r\n        children: [\r\n            { path: '', component: WelcomeComponent, pathMatch: 'full'},\r\n            { path: 'login', component: LoginComponent },\r\n            { path: 'register', component: RegisterComponent },\r\n            { path: 'users', component: UserListComponent, canActivate: [AuthGuard] },\r\n      \r\n            ...heritageDetailRoutes,\r\n            ...heritageListRoutes,\r\n            ...heritageCommentRoutes,\r\n            ...heritageEvaluationRoutes,\r\n            ...heritageActivationRoutes,\r\n            ...heritageAnalysisRoutes,\r\n            ...heritageNavRoutes,\r\n            ...activationModeListRoutes,\r\n            ...aboutUsRoutes\r\n        ]\r\n      },\r\n      \r\n      // otherwise redirect to home\r\n      { path: '**', redirectTo: '' },\r\n  ];\r\n  \r\n  export const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes, { useHash: true });","module.exports = \"<div class=\\\"panel panel-default\\\" *ngIf=\\\"comment\\\">\\r\\n    <mat-card>\\r\\n    <div class=\\\"panel-heading\\\">{{comment.commentUserName}}</div>\\r\\n    <div class=\\\"panel-body\\\">\\r\\n        {{comment.commentText}}\\r\\n    </div>\\r\\n    <div class=\\\"panel-footer\\\">        \\r\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"editComment()\\\">\\r\\n            <mat-icon aria-label=\\\"Edit\\\">edit</mat-icon>\\r\\n        </button>\\r\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"deleteComment()\\\">\\r\\n            <mat-icon aria-label=\\\"Delete\\\">delete</mat-icon>\\r\\n        </button>\\r\\n        <button mat-icon-button color=\\\"accent\\\">\\r\\n            <mat-icon aria-label=\\\"Good\\\" (click)=\\\"thumbUp()\\\">thumb_up</mat-icon>\\r\\n            {{ comment.upVoteCount }}\\r\\n        </button>\\r\\n        <button mat-icon-button color=\\\"accent\\\">\\r\\n            <mat-icon aria-label=\\\"Bad\\\" (click)=\\\"thumbDown()\\\">thumb_down</mat-icon>\\r\\n            {{ comment.downVoteCount }}\\r\\n        </button>\\r\\n    </div>\\r\\n    </mat-card>\\r\\n</div>\"","/* * * ./app/comments/components/comment-box.component.ts * * */\r\n// Imports\r\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { IComment } from '../_models';\r\nimport { EmitterService, CommentService, UserService } from '../_services';\r\nimport { Global } from '../_shared';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n\r\n// Component decorator\r\n@Component({\r\n    selector: 'comment-box',\r\n    templateUrl: './comment-box.component.html'\r\n    // No providers here because they are passed down from the parent component\r\n})\r\n// Component class\r\nexport class CommentBoxComponent {\r\n    // Constructor\r\n    constructor(\r\n        private commentService: CommentService,\r\n        private userService: UserService,\r\n        private toastr: ToastrService) { }\r\n    // Define input properties\r\n    @Input() comment: IComment;\r\n    @Input() listId: string;\r\n    @Input() editId: string;\r\n\r\n    editComment() {\r\n        // Emit edit event\r\n        EmitterService.get(this.editId).emit(this.comment);\r\n    }\r\n\r\n    deleteComment() {\r\n        if (!this.userService.canComment()) {\r\n            this.toastr.error(\"您没有删除评论的权限。\", \"权限验证失败\");\r\n            return;\r\n        }\r\n        // Call removeComment() from CommentService to delete comment\r\n        this.commentService.removeComment(Global.BASE_HERITAGE_COMMENT_ENDPOINT + this.comment.id).subscribe(\r\n            comments => {\r\n                // Emit list event\r\n                EmitterService.get(this.listId).emit(comments);\r\n            },\r\n            err => {\r\n                // Log errors if any\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    thumbUp() {\r\n        this.comment.upVoteCount += 1;\r\n        this.commentService.updateVote(Global.BASE_HERITAGE_COMMENT_ENDPOINT + this.comment.id, this.comment).subscribe(\r\n            res => { console.log(res); }\r\n        );\r\n    }\r\n\r\n    thumbDown() {\r\n        this.comment.downVoteCount += 1;\r\n        this.commentService.updateVote(Global.BASE_HERITAGE_COMMENT_ENDPOINT + this.comment.id, this.comment).subscribe(\r\n            res => { console.log(res); }\r\n        );\r\n    }\r\n\r\n}\r\n","module.exports = \"<form (ngSubmit)=\\\"submitComment()\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n\\r\\n        <mat-card class=\\\"comment-form\\\"> \\r\\n            <mat-card-header>\\r\\n                <mat-icon>account_circle</mat-icon>\\r\\n            </mat-card-header>           \\r\\n            <mat-card-content>\\r\\n                <mat-form-field class=\\\"comment-field\\\">\\r\\n                    <input matInput placeholder=\\\"User Name\\\" [readonly]='true'> {{model.commentUserName}}\\r\\n                </mat-form-field>\\r\\n                <br>\\r\\n                <mat-form-field class=\\\"comment-field\\\">\\r\\n                    <textarea matInput placeholder=\\\"Leave a comment\\\" [(ngModel)]=\\\"model.commentText\\\" name=\\\"commentText\\\"></textarea>\\r\\n                </mat-form-field>\\r\\n            </mat-card-content>\\r\\n            <mat-card-actions>\\r\\n                <button mat-raised-button *ngIf=\\\"!editing\\\" type=\\\"submit\\\">添加</button>\\r\\n                <button mat-raised-button *ngIf=\\\"editing\\\" type=\\\"submit\\\">编辑</button>\\r\\n            </mat-card-actions>\\r\\n        </mat-card>\\r\\n       \\r\\n    </div>\\r\\n</form>\"","module.exports = \".comment-form {\\n  width: 100%; }\\n\\n.comment-field {\\n  min-width: 150px;\\n  max-width: 500px;\\n  width: 100%; }\\n\"","/* * * ./app/comments/components/comment-form.component.ts * * */\r\n// Imports\r\nimport { Component, EventEmitter, Input, OnChanges } from '@angular/core';\r\nimport { NgForm }    from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { Global } from '../_shared';\r\nimport { CommentBoxComponent } from './comment-box.component'\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CommentService, EmitterService, UserService } from '../_services';\r\nimport { IComment } from '../_models';\r\n\r\n// Component decorator\r\n@Component({\r\n    selector: 'comment-form',\r\n    templateUrl: './comment-form.component.html',\r\n    styleUrls: ['./comment-form.component.scss']\r\n})\r\n// Component class\r\nexport class CommentFormComponent implements OnChanges { \r\n\r\n    // Local properties    \r\n    private editing: boolean = false;\r\n    private model: IComment = { id: 0, heritageId: 0, commentUserId: 0, commentUserName: '', commentText: '', commentDate: undefined, upVoteCount: 0, downVoteCount: 0 };;\r\n\r\n    // Constructor with injected service\r\n    constructor(\r\n        private commentService: CommentService,\r\n        private userService: UserService,\r\n        private toastr: ToastrService\r\n        ){\r\n            this.model.commentUserId = this.userService.currentUserId();\r\n            this.model.commentUserName = this.userService.currentUserName();\r\n        }\r\n       \r\n    // Input properties\r\n    @Input() editId: string;\r\n    @Input() listId: string;\r\n    @Input() heritageId: number;     \r\n\r\n    submitComment(){\r\n        if (!this.userService.canComment())\r\n        {\r\n            this.toastr.error(\"您没有添加或修改评论的权限。\",\"权限验证失败\");\r\n            return;\r\n        }\r\n\r\n        // Variable to hold a reference of addComment/updateComment\r\n        let commentOperation:Observable<IComment>;\r\n\r\n        this.model.heritageId = this.heritageId;\r\n        \r\n        if(!this.editing){\r\n            // Create a new comment\r\n            commentOperation = this.commentService.addComment(Global.BASE_HERITAGE_COMMENT_ENDPOINT, this.model)\r\n        } else {\r\n            // Update an existing comment\r\n             commentOperation = this.commentService.updateComment(Global.BASE_HERITAGE_COMMENT_ENDPOINT + this.model.id, this.model)\r\n        }\r\n\r\n        // Subscribe to observable\r\n        commentOperation.subscribe(\r\n            comments => {\r\n                // Emit list event\r\n                EmitterService.get(this.listId).emit(comments);\r\n                // Empty model\r\n                this.model = { id: 0, heritageId: this.heritageId, commentUserId: this.model.commentUserId, commentUserName: this.model.commentUserName, commentText: '', commentDate: undefined, upVoteCount: 0, downVoteCount: 0 };\r\n                // Switch editing status\r\n                if(this.editing) this.editing = !this.editing;\r\n                }, \r\n                err => {\r\n                // Log errors if any\r\n                console.log(err);\r\n                });\r\n    }\r\n\r\n    ngOnChanges() {\r\n        // Listen to the 'edit'emitted event so as populate the model\r\n        // with the event payload\r\n        EmitterService.get(this.editId).subscribe((comment:IComment) => {\r\n            this.model = comment\r\n            this.editing = true;\r\n        });\r\n    }\r\n }\r\n","module.exports = \"<comment-box [editId]=\\\"editId\\\" [listId]=\\\"listId\\\" *ngFor=\\\"let comment of comments\\\" [comment]=\\\"comment\\\"></comment-box>\"","/* * * ./app/comments/components/comment-list.component.ts * * */\r\n// Imports\r\nimport { Component, OnInit, Input, OnChanges } from '@angular/core';\r\nimport { IComment } from '../_models/comment';\r\nimport { CommentService, EmitterService } from '../_services';\r\nimport { Global } from '../_shared';\r\n\r\n// Component decorator\r\n@Component({\r\n    selector: 'comment-list',\r\n    templateUrl: './comment-list.component.html'\r\n})\r\n// Component class\r\nexport class CommentListComponent implements OnInit, OnChanges{\r\n    // Constructor with injected service\r\n    constructor(\r\n        private commentService: CommentService\r\n        ){}\r\n    // Local properties\r\n    comments: IComment[];\r\n    // Input properties\r\n    @Input() listId: string;\r\n    @Input() editId: string;\r\n    @Input() heritageId: number;\r\n\r\n    loadComments(){\r\n        // Get all comments\r\n         this.commentService.getComments(Global.BASE_HERITAGE_COMMENT_ENDPOINT + 'getHeritageComment/' + this.heritageId)\r\n            .subscribe(\r\n                comments => this.comments = comments, //Bind to view\r\n            err => {\r\n                    // Log errors if any\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    ngOnInit(){\r\n            // Load comments\r\n            this.loadComments()\r\n    }\r\n    \r\n\r\n    ngOnChanges(changes:any) {\r\n        // Listen to the 'list'emitted event so as populate the model\r\n        // with the event payload\r\n        EmitterService.get(this.listId).subscribe((comments:IComment[]) => {this.loadComments()});\r\n    }\r\n    \r\n }\r\n","module.exports = \"<div class=\\\"comment-container\\\" *ngIf=\\\"heritage\\\">\\n  <mat-toolbar>\\n    <span>User Comments: {{ heritage.name }} </span>\\n    <span class=\\\"spacer\\\"></span>\\n    <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" (click)=\\\"back()\\\">返回</button>\\n  </mat-toolbar>\\n  <mat-card>\\n    <img mat-card-image class=\\\"comment-image\\\" src=\\\"..\\\\..\\\\assets\\\\images\\\\No_Image_Available.jpg\\\" alt=\\\"Photo not available\\\">\\n    <mat-card-content>\\n      <p>\\n        {{ heritage.story }}\\n      </p>\\n    </mat-card-content>\\n  </mat-card>\\n  <comment-form [listId]=\\\"listId\\\" [editId]=\\\"editId\\\" [heritageId]=\\\"heritage.id\\\"></comment-form>\\n  <comment-list [listId]=\\\"listId\\\" [editId]=\\\"editId\\\" [heritageId]=\\\"heritage.id\\\"></comment-list>\\n  <mat-divider></mat-divider>\\n</div>\"","import { Routes } from '@angular/router';\r\nimport { CommentComponent } from './comment.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageCommentRoutes: Routes = [\r\n    { path: 'heritagedecomment/:id', component: CommentComponent, canActivate: [AuthGuard] }\r\n  ];","module.exports = \".comment-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\\n.comment-image {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  /*this makes de image in src fit to the size of specified below*/\\n  width: 50%;\\n  /* Here you can use wherever you want to specify the width and also the height of the <img>*/\\n  height: 50%;\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n.spacer {\\n  flex: 1 1 auto; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { IHeritage } from '../_models';\nimport { HeritageService } from '../_services';\nimport { Global } from '../_shared';\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.component.html',\n  styleUrls: ['./comment.component.scss']\n})\nexport class CommentComponent implements OnInit {\n\n  // Event tracking properties\n  private listId = 'COMMENT_COMPONENT_LIST';\n  private editId = 'COMMENT_COMPONENT_EDIT';\n\n  private heritage: IHeritage;\n  private param: any;\n\n\n  constructor(private route: ActivatedRoute,\n              private router: Router,\n              private heritageService: HeritageService) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.param = params['id'];\n      // check if ID exists in route & call update or add methods accordingly\n      if (this.param && this.param != null && this.param != undefined) {\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\n          result => {\n            this.heritage = result;\n          }\n        )\n      }\n    });\n  }\n\n  back() {\n    this.router.navigateByUrl('/heritagelist');\n  }\n\n}\n","module.exports = \"<span style=\\\"background-color: #FFFF00\\\">{{errorMessage}}</span>\\n\\n<p>Upload File</p>\\n\\n<p-fileUpload name=\\\"myfile[]\\\" \\n              url=\\\"api/File/upload\\\" \\n              (onUpload)=\\\"onUpload($event)\\\"\\n              (onBeforeSend)=\\\"onBeforeSend($event)\\\">\\n              \\n</p-fileUpload>\\n\\n<p>上传文件列表</p>\\n\\n<p-table [columns] = \\\"cols\\\" [value]=\\\"fileList\\\" [autoLayout]=\\\"true\\\">\\n    <ng-template pTemplate=\\\"header\\\" let-columns>\\n        <tr>\\n            <th *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{'display': col.display}\\\">\\n                {{col.header}}\\n            </th>\\n            <th style=\\\"width:4em\\\"></th>\\n            <th style=\\\"width:4em\\\"></th>\\n        </tr>\\n    </ng-template>\\n    <ng-template pTemplate=\\\"body\\\" let-rowData let-columns=\\\"columns\\\">\\n        <tr>\\n            <td *ngFor=\\\"let col of columns\\\" [ngStyle]=\\\"{'display': col.display}\\\">\\n                {{rowData[col.field]}}\\n            </td>\\n            <td>\\n                <button type=\\\"button\\\" pButton icon=\\\"fa fa-download\\\" (click)=\\\"downloadFile(rowData.id, rowData.fileName)\\\"></button>\\n            </td> \\n            <td>\\n                <button type=\\\"button\\\" pButton icon=\\\"fa fa-trash-o\\\" (click)=\\\"deleteFile(rowData.id)\\\"></button>\\n            </td>   \\n        </tr>\\n    </ng-template>  \\n</p-table>\\n\\n\\n\"","module.exports = \"\"","import { Component, OnInit, Input } from '@angular/core';\nimport {saveAs as importedSaveAs} from \"file-saver\";\nimport { ISystemFile } from '../_models';\nimport { FilesService, UserService } from '../_services';\nimport { Global } from '../_shared';\n\n@Component({\n  selector: 'app-file-manager',\n  templateUrl: './file-manager.component.html',\n  styleUrls: ['./file-manager.component.scss']\n})\nexport class FileManagerComponent implements OnInit {\n\n  errorMessage: string;\n  fileList: ISystemFile[] = [];\n  cols: any[];\n\n  private _heritageID: number;\n\n  @Input() \n  set heritageID(id: number){\n    this._heritageID = id;\n  }\n  get heritageID(): number {\n    return this._heritageID;\n  }\n\n  constructor(private _FilesService: FilesService,\n              private _UserService: UserService) { }\n\n  ngOnInit() {\n    this.cols = [\n      { field: 'id', header: 'ID', display: 'none'},\n      { field: 'heritageId', header: 'Heritage ID', display: 'none'},\n      { field: 'fileName', header: 'File Name', display: 'table-cell'},\n      { field: 'filePath', header: 'File Path', display: 'table-cell'},\n      { field: 'uploadUserName', header: 'User Name', display: 'table-cell'}\n    ];\n    this.getFiles();\n  }\n\n  public getFiles() {\n    this.errorMessage = \"\";\n    //Clear Filelist\n    this.fileList = [];\n    // Call the service\n    this._FilesService.getFiles(Global.BASE_FILE_ENDPOINT + 'getHeritageFile/' + this.heritageID)\n        .subscribe((files) => {\n            this.fileList = files;\n        },\n        error => this.errorMessage = <any>error);\n  }\n\n  public onUpload(event) {\n    this.getFiles();\n  }\n\n  onBeforeSend(event) {\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    if (currentUser && currentUser.token) {\n      event.xhr.setRequestHeader(\"Authorization\", `Bearer ${currentUser.token}`);\n    }\n    event.formData.append('heritageId', this.heritageID);\n    event.formData.append('uploadUserId', this._UserService.currentUserId());\n }\n\n  public deleteFile(id: number) {\n    // Call the service\n    this._FilesService.deleteFile(Global.BASE_FILE_ENDPOINT + id)\n        .subscribe((response) => {\n            // Refresh file list\n            this.getFiles();\n        },\n        error => this.errorMessage = <any>error);\n  }\n\n  downloadFile(id: number, filename: string)\n  {\n    this._FilesService.downloadFile(Global.BASE_FILE_ENDPOINT + 'downloadFile/' + id).subscribe(\n      blob => {\n        importedSaveAs(blob, filename);\n      }\n    )\n  }\n\n\n}\n","module.exports = \"<div class=\\\"basic-container\\\" *ngIf=\\\"heritage\\\">\\n\\n  <mat-toolbar>\\n    <span>非遗旅游价值评估: {{ heritage.name }} </span>\\n    <span class=\\\"spacer\\\"></span>\\n    <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" [routerLink]=\\\"['/heritagenav', heritage.id]\\\">返回</button>\\n  </mat-toolbar>\\n\\n  <div class=\\\"actMode-container\\\" *ngIf=\\\"!actModes\\\">\\n    <p>当前旅游价值没有匹配的活化模式！</p>\\n  </div>\\n\\n  <div class=\\\"actMode-container\\\" *ngFor=\\\"let actMode of actModes\\\">\\n    <mat-card>\\n      <mat-card-header>\\n        <div mat-card-avatar class=\\\"activation-card\\\"></div>\\n        <mat-card-title>{{ actMode.activationModeName}}</mat-card-title>\\n      </mat-card-header>\\n      <mat-card-content>\\n        <p>\\n          {{ actMode.activationModeDescription }}\\n        </p>\\n      </mat-card-content>\\n    </mat-card>\\n  </div>\\n\\n</div>\"","module.exports = \".spacer {\\n  flex: 1 1 auto; }\\n\\n.basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { IHeritage, IActivationMode } from '../_models';\nimport { HeritageService, ActivationModeService } from '../_services';\nimport { Global } from '../_shared';\n\n@Component({\n  selector: 'app-heritage-activation',\n  templateUrl: './heritage-activation.component.html',\n  styleUrls: ['./heritage-activation.component.scss']\n})\nexport class HeritageActivationComponent implements OnInit {\n\n  heritage: IHeritage;\n  actModes: IActivationMode[];\n  param: any;\n\n  constructor(private route: ActivatedRoute,\n    private heritageService: HeritageService,\n    private actModeService: ActivationModeService) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.param = params['id'];\n      // check if ID exists in route & call update or add methods accordingly\n      if (this.param && this.param != null && this.param != undefined) {\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\n          result => {\n            this.heritage = result;\n            this.actModeService.getHeritageActModeById(Global.BASE_ACTIVATION_MODE_ENDPOINT + 'getHeritageActivationModes/' + this.heritage.id).subscribe(\n              data => {\n                this.actModes = data;\n              }\n            )\n          }\n        )\n      }\n    });\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HeritageActivationComponent } from './heritage-activation.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageActivationRoutes: Routes = [\r\n    { path: 'heritageeactivation/:id', component: HeritageActivationComponent, canActivate: [AuthGuard] }\r\n  ];","module.exports = \"<div class=\\\"basic-container\\\" *ngIf=\\\"heritage\\\">\\n\\n  <div *ngIf=\\\"heritageGameAnalysis\\\">\\n\\n    <form class=\\\"analysis-form\\\" (ngSubmit)=\\\"onSubmit()\\\" #heritageGameAnalysisForm=\\\"ngForm\\\" name=\\\"heritageGameAnalysis\\\">\\n\\n      <mat-toolbar>\\n        <span>非遗利益相关者博弈: {{ heritage.name }} </span>\\n        <span class=\\\"spacer\\\"></span>\\n        <button mat-button class=\\\"form-save\\\">博弈并保存</button>\\n        <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" [routerLink]=\\\"['/heritagenav', heritage.id]\\\">返回</button>\\n      </mat-toolbar>\\n\\n      <mat-grid-list cols=\\\"10\\\" rowHeight=\\\"50px\\\">\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"1\\\">\\n          参数\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          参数值\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          路径i的取值\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"1\\\">\\n          对参数值的分析\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          Ci\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"CiA\\\" [(ngModel)]=\\\"heritageGameAnalysis.ciA\\\" name=\\\"ciA\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n            与传承人单一开发相比，传承人选择合作开发时，由于可能实现规模化生产而降低产品开发成本。即一般应有：ciA>ciB\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"CiB\\\" [(ngModel)]=\\\"heritageGameAnalysis.ciB\\\" name=\\\"ciB\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i > 8\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"1\\\">\\n          Ii\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Ii\\\" [(ngModel)]=\\\"heritageGameAnalysis.ii\\\" name=\\\"ii\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=9,10,…16\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"1\\\">\\n          当传承人对非遗产品的评估价值较高时，与企业合作开发时可能会要求企业支付知识产权使用费。\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          Pi\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"PiA\\\" [(ngModel)]=\\\"heritageGameAnalysis.piA\\\" name=\\\"piA\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n            与传承人单一开发相比，传承人选择合作开发时，由于有其他利益相关者的参与和支持，营销力度更大，宣传范围更广，因而更有可能采取高价策略，以高价售出非遗产品。即一般应有：piA < piB </mat-grid-tile>\\n              <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n              <mat-form-field>\\n                <input class=\\\"parameter-field\\\" matInput placeholder=\\\"PiB\\\" [(ngModel)]=\\\"heritageGameAnalysis.piB\\\" name=\\\"piB\\\">\\n              </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i > 8\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          Vi5\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi5A\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi5A\\\" name=\\\"vi5A\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,5,6,9,10,13,14,17,18,21,22\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n          当非遗产品开发获政府支持时，消费者出于对政府及其价值判断的信赖，对该非遗产品的价值认可度通常会更高。即一般应有：vi5A > vi5B\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi5B\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi5B\\\" name=\\\"vi5B\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=3,4,7,8,11,12,15,16,19,20,23,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          Vi4\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi4A\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi4A\\\" name=\\\"vi4A\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,3,4,9,10,11,12,17,18,19,20\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n          当非遗产品开发能吸引专家参与时，政府出于对专家的专业水平的信任，对该非遗产品的价值认可度通常会更高。即一般应有：vi4A > vi4B\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi4B\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi4B\\\" name=\\\"vi4B\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=5,6,7,8,13,14,15,16,21,22,23,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          Vi3\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi3A\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi3A\\\" name=\\\"vi3A\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n            与传承人单一开发相比，当传承人选择合作开发模式时，专家更倾向于认为该非遗产品更有开发价值。即一般应有：vi3A < vi3B </mat-grid-tile> <mat-grid-tile [colspan]=\\\"2\\\"\\n              [rowspan]=\\\"1\\\">\\n              <mat-form-field>\\n                <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi3B\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi3B\\\" name=\\\"vi3B\\\">\\n              </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i>8\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"1\\\">\\n          Vi1\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"Vi1\\\" [(ngModel)]=\\\"heritageGameAnalysis.vi1\\\" name=\\\"vi1\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,…,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"1\\\">\\n          所有利益相关者中，传承人对非遗产品的情况最为了解，掌握的信息最为完全，因而其对非遗产品的价值判断一般也保持稳定\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          ai4\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"ai4\\\" [(ngModel)]=\\\"heritageGameAnalysis.ai4\\\" name=\\\"ai4\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,5,6,9,10,13,14,17,18,21,22\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n          政府选择支持非遗产品开发时，政府分担开发成本的比例为ai4；不支持时，该比例为0\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"0\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=3,4,7,8,11,12,15,16,19,20,23,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          ai3\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"ai3\\\" [(ngModel)]=\\\"heritageGameAnalysis.ai3\\\" name=\\\"ai3\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,3,4,9,10,11,12,17,18,19,20\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n          专家选择参与非遗产品开发时，专家分担开发成本的比例为ai3；不参与时，该比例为0\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"0\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=5,6,7,8,13,14,15,16,21,22,23,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          ai2\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"ai2\\\" [(ngModel)]=\\\"heritageGameAnalysis.ai2\\\" name=\\\"ai2\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=9,10,…,16\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n          企业选择对非遗产品开发进行投资时，企业分担开发成本的比例为ai2；不投资时，该比例为0\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"0\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,…,8,17,18,…24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"1\\\">\\n          ai1\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"1-(ai2+ai3+ai4)\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i=1,2,…,24\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"1\\\">\\n          其他利益相关者分担成本后的产品开发成本均由传承人来承担\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          bij (j!=1)\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"0\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n            在传承人单一开发模式下，其他利益相关者不能获得对产品销售收入的分成，即bij=0；在合作开发模式下，其他利益相关者对销售收入的分成比例与其成本分担比例基本一致，即bij=aij\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"aij\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i > 8\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"1\\\" [rowspan]=\\\"2\\\">\\n          bi1\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"1\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]=\\\"4\\\" [rowspan]=\\\"2\\\">\\n            在传承人单一开发模式下，传承人可获得非遗产品的全部销售收入，即bi1=1；在合作开发模式下，传承人对销售收入的分成比例与其成本分担比例基本一致，即bi1=ai1\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"2\\\" [rowspan]=\\\"1\\\">\\n          <mat-form-field>\\n            <input class=\\\"parameter-field\\\" matInput placeholder=\\\"ai1\\\" [readonly]=\\\"true\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile [colspan]=\\\"3\\\" [rowspan]=\\\"1\\\">\\n          i > 8\\n        </mat-grid-tile>\\n      </mat-grid-list>\\n    </form>\\n    <mat-card class=\\\"analysis-tree\\\">\\n      <mat-card-header>\\n        <mat-card-title>利益相关者博弈最优路径分析 </mat-card-title>\\n        <br>\\n        <p>结果: {{ bestRoute }}</p>\\n      </mat-card-header>\\n      <mat-card-actions>\\n        <button mat-raised-button (click)=\\\"analyse()\\\" >分析</button>\\n      </mat-card-actions>\\n      <mat-card-content>\\n        <h3>Game Playing Analysis</h3>\\n        <p-tree [value]=\\\"decisionTree\\\" layout=\\\"horizontal\\\" selectionMode=\\\"single\\\"></p-tree>\\n      </mat-card-content>\\n    </mat-card>\\n\\n  </div>\\n</div>\"","module.exports = \".spacer {\\n  flex: 1 1 auto; }\\n\\n.parameter-field {\\n  min-width: 40px;\\n  max-width: 80px; }\\n\\nmat-grid-tile {\\n  border: solid 1px; }\\n\\n.basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Tree } from 'primeng/tree';\nimport { TreeNode } from 'primeng/api';\nimport { ToastrService } from 'ngx-toastr';\nimport { IHeritage, IHeritageGameAnalysis } from '../_models';\nimport { HeritageService, UserService, HeritageGameAnalysisService } from '../_services';\nimport { Global } from '../_shared';\n\n@Component({\n  selector: 'app-heritage-analysis',\n  templateUrl: './heritage-analysis.component.html',\n  styleUrls: ['./heritage-analysis.component.scss']\n})\nexport class HeritageAnalysisComponent implements OnInit {\n\n  heritage: IHeritage;\n  heritageGameAnalysis: IHeritageGameAnalysis;\n  param: any;\n  bestRoute: string;\n\n\n  @ViewChild('expandingTree')\n  expandingTree: Tree;\n  decisionTree: TreeNode[];\n\n\n  constructor(private route: ActivatedRoute,\n    private heritageService: HeritageService,\n    private heritageGameAnalysisService: HeritageGameAnalysisService,\n    private userService: UserService,\n    private toastr: ToastrService) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.param = params['id'];\n      // check if ID exists in route & call update or add methods accordingly\n      if (this.param && this.param != null && this.param != undefined) {\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\n          result => {\n            this.heritage = result;\n\n            if (this.heritage.heritageGameAnalysisId && this.heritage.heritageGameAnalysisId != null && this.heritage.heritageGameAnalysisId != undefined) {\n              this.heritageGameAnalysisService.getHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + this.heritage.heritageGameAnalysisId).subscribe(\n                data => {\n                  this.heritageGameAnalysis = data;\n                  this.loadTree();\n                }\n              )\n            }\n            else {\n              this.heritageGameAnalysis = {\n                id: 0,\n                heritageId: this.heritage.id,\n                ciA: undefined,\n                ciB: undefined,\n                ii: undefined,\n                piA: undefined,\n                piB: undefined,\n                vi5A: undefined,\n                vi5B: undefined,\n                vi4A: undefined,\n                vi4B: undefined,\n                vi3A: undefined,\n                vi3B: undefined,\n                vi1: undefined,\n                ai4: undefined,\n                ai3: undefined,\n                ai2: undefined,\n                aij: undefined,\n                ai1: undefined,\n\n                route1: '',\n                route2: '',\n                route3: '',\n                route4: '',\n                route5: '',\n                route6: '',\n                route7: '',\n                route8: '',\n                route9: '',\n                route10: '',\n                route11: '',\n                route12: '',\n                route13: '',\n                route14: '',\n                route15: '',\n                route16: '',\n                route17: '',\n                route18: '',\n                route19: '',\n                route20: '',\n                route21: '',\n                route22: '',\n                route23: '',\n                route24: '',\n                createdUserId: 0,\n                createdUserName: '',\n                createdOn: undefined,\n                modifiedUserId: 0,\n                modifiedUserName: '',\n                modifiedOn: undefined\n              }\n              this.loadTree();\n            }\n          }\n        )\n      }\n    });\n\n  }\n\n  onSubmit() {\n\n    if (!this.userService.canEdit())\n    {\n      this.toastr.error(\"您没有添加或修改非物质文化遗产的权限。\",\"权限验证失败\")\n      return;\n    }\n\n    var userId = this.userService.currentUserId();\n    if (this.heritageGameAnalysis.id != 0) {\n      this.heritageGameAnalysis.modifiedUserId = userId;\n      this.heritageGameAnalysisService.updateHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + this.heritageGameAnalysis.id, this.heritageGameAnalysis)\n        .subscribe(\n          data => {\n            this.heritageGameAnalysis = data;\n            this.loadTree();\n            this.showSuccess();\n          },\n          error => {\n            this.showError();\n          }\n        );\n    }\n    else {\n      this.heritageGameAnalysis.createdUserId = userId;\n      this.heritageGameAnalysis.modifiedUserId = userId;\n      this.heritageGameAnalysisService.addHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT, this.heritageGameAnalysis)\n        .subscribe(\n          data => {\n            this.heritageGameAnalysis = data;\n            this.heritage.heritageGameAnalysisId = this.heritageGameAnalysis.id;\n            this.heritageService.updateHeritage(Global.BASE_HERITAGE_ENDPOINT + this.heritage.id, this.heritage)\n              .subscribe(\n                result => {\n                  this.heritage = result;\n                  this.loadTree();\n                  this.showSuccess();\n                }\n              )\n          },\n          error => {\n            this.showError();\n          }\n        );\n    }\n\n  }\n\n  analyse() {\n\n    if (this.heritage.heritageGameAnalysisId && this.heritage.heritageGameAnalysisId != null && this.heritage.heritageGameAnalysisId != undefined) {\n      this.heritageGameAnalysisService.getHeritageAnalysisBestRoute(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + 'getHeritageAnalysisBestRoute/' + this.heritage.heritageGameAnalysisId).subscribe(\n        res => {\n          this.bestRoute = \"最优路径为: \" + \"R\" + res.id + \": { \" + res.routeValue + \" }\";          \n        }\n      );\n    }\n    else {\n      this.toastr.error('请先进行利益相关者博弈计算。', '分析失败');\n    }\n  }\n\n  showSuccess() {\n    this.toastr.success('利益相关者博弈计算及保存成功。', '操作成功');\n  }\n\n  showError() {\n    this.toastr.error('利益相关者博弈计算及保存失败。', '操作失败');\n  }\n\n  loadTree() {\n    this.decisionTree = [\n      {\n        \"label\": \"传承人\",\n        \"children\": [\n          {\n            \"label\": \"专家\",\n            \"children\": [{\n              \"label\": \"政府\",\n              \"children\": [{\n                \"label\": \"消费者\",\n                \"children\": [{\n                  \"label\": \"R1 { \" + this.heritageGameAnalysis.route1 + \" }\"\n                },\n                {\n                  \"label\": \"R2 { \" + this.heritageGameAnalysis.route2 + \" }\"\n                }]\n              },\n              {\n                \"label\": \"消费者\",\n                \"children\": [{\n                  \"label\": \"R3 { \" + this.heritageGameAnalysis.route3 + \" }\"\n                },\n                {\n                  \"label\": \"R4 { \" + this.heritageGameAnalysis.route4 + \" }\"\n                }]\n              }]\n            },\n            {\n              \"label\": \"政府\",\n              \"children\": [{\n                \"label\": \"消费者\",\n                \"children\": [{\n                  \"label\": \"R5 { \" + this.heritageGameAnalysis.route5 + \" }\"\n                },\n                {\n                  \"label\": \"R6 { \" + this.heritageGameAnalysis.route6 + \" }\"\n                }]\n              },\n              {\n                \"label\": \"消费者\",\n                \"children\": [{\n                  \"label\": \"R7 { \" + this.heritageGameAnalysis.route7 + \" }\"\n                },\n                {\n                  \"label\": \"R8 { \" + this.heritageGameAnalysis.route8 + \" }\"\n                }]\n              }]\n            }]\n          },\n          {\n            \"label\": \"企业\",\n            \"children\": [{\n              \"label\": \"专家\",\n              \"children\": [{\n                \"label\": \"政府\",\n                \"children\": [{\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R9 { \" + this.heritageGameAnalysis.route9 + \" }\"\n                  },\n                  {\n                    \"label\": \"R10 { \" + this.heritageGameAnalysis.route10 + \" }\"\n                  }]\n                },\n                {\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R11 { \" + this.heritageGameAnalysis.route11 + \" }\"\n                  },\n                  {\n                    \"label\": \"R12 { \" + this.heritageGameAnalysis.route12 + \" }\"\n                  }]\n                }]\n              },\n              {\n                \"label\": \"政府\",\n                \"data\": \"Home Folder\",\n                \"children\": [{\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R13 { \" + this.heritageGameAnalysis.route13 + \" }\"\n                  },\n                  {\n                    \"label\": \"R14 { \" + this.heritageGameAnalysis.route14 + \" }\"\n                  }]\n                },\n                {\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R15 { \" + this.heritageGameAnalysis.route15 + \" }\"\n                  },\n                  {\n                    \"label\": \"R16 { \" + this.heritageGameAnalysis.route16 + \" }\"\n                  }]\n                }]\n              }]\n            },\n            {\n              \"label\": \"专家\",\n              \"data\": \"De Niro Movies\",\n              \"children\": [{\n                \"label\": \"政府\",\n                \"children\": [{\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R17 { \" + this.heritageGameAnalysis.route17 + \" }\"\n                  },\n                  {\n                    \"label\": \"R18 { \" + this.heritageGameAnalysis.route18 + \" }\"\n                  }]\n                },\n                {\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R19 { \" + this.heritageGameAnalysis.route19 + \" }\"\n                  },\n                  {\n                    \"label\": \"R20 { \" + this.heritageGameAnalysis.route20 + \" }\"\n                  }]\n                }]\n              },\n              {\n                \"label\": \"政府\",\n                \"data\": \"Home Folder\",\n                \"children\": [{\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R21 { \" + this.heritageGameAnalysis.route21 + \" }\"\n                  },\n                  {\n                    \"label\": \"R22 { \" + this.heritageGameAnalysis.route22 + \" }\"\n                  }]\n                },\n                {\n                  \"label\": \"消费者\",\n                  \"children\": [{\n                    \"label\": \"R23 { \" + this.heritageGameAnalysis.route23 + \" }\"\n                  },\n                  {\n                    \"label\": \"R24 { \" + this.heritageGameAnalysis.route24 + \" }\"\n                  }]\n                }]\n              }]\n            }]\n          }\n\n        ]\n      }\n\n    ]\n\n    this.decisionTree.forEach(node => {\n      this.expandRecursive(node, true);\n    });\n  }\n\n  private expandRecursive(node: TreeNode, isExpand: boolean) {\n    node.expanded = isExpand;\n    if (node.children) {\n      node.children.forEach(childNode => {\n        this.expandRecursive(childNode, isExpand);\n      });\n    }\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HeritageAnalysisComponent } from './heritage-analysis.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageAnalysisRoutes: Routes = [\r\n    { path: 'heritageanalysis/:id', component: HeritageAnalysisComponent, canActivate: [AuthGuard] }\r\n  ];","module.exports = \"<div class=\\\"basic-container\\\" *ngIf=\\\"heritage\\\">\\n\\n  <form (ngSubmit)=\\\"heritageForm.form.valid && onSubmit()\\\" #heritageForm=\\\"ngForm\\\" name=\\\"form\\\">\\n\\n    <mat-toolbar>\\n      <span>非遗信息录入 {{ heritage.name }} </span>\\n      <span class=\\\"spacer\\\"></span>\\n      <button mat-button class=\\\"form-save\\\">保存</button>\\n      <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" routerLink=\\\"/heritagelist\\\">返回</button>\\n    </mat-toolbar>\\n\\n    <mat-accordion class=\\\"example-headers-align\\\">\\n      <mat-expansion-panel [expanded]=\\\"step === 0\\\" (opened)=\\\"setStep(0)\\\" hideToggle>\\n        <mat-expansion-panel-header>\\n          <mat-panel-title>\\n            基本信息\\n          </mat-panel-title>\\n          <mat-panel-description>\\n            请在这里输入基本信息\\n            <mat-icon>account_balance</mat-icon>\\n          </mat-panel-description>\\n        </mat-expansion-panel-header>\\n\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput #name placeholder=\\\"名称\\\" [(ngModel)]=\\\"heritage.name\\\" name=\\\"name\\\" required />\\n          <mat-hint align=\\\"end\\\">\\n            {{name.value.length}} / 50\\n          </mat-hint>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"申报地区或单位\\\" [(ngModel)]=\\\"heritage.registrationDistrict\\\" name=\\\"registrationDistrict\\\"\\n            required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"申报年份\\\" [(ngModel)]=\\\"heritage.registrationYear\\\" name=\\\"registrationYear\\\" required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"所属省份\\\" [(ngModel)]=\\\"heritage.province\\\" name=\\\"province\\\" required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"项目类型\\\" [(ngModel)]=\\\"heritage.typeofProject\\\" name=\\\"projectType\\\" required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"批次\\\" [(ngModel)]=\\\"heritage.batchNo\\\" name=\\\"batchNo\\\" required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"传承人\\\" [(ngModel)]=\\\"heritage.inheritors\\\" name=\\\"inheritors\\\" required />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"项目简介\\\" [(ngModel)]=\\\"heritage.projectOverview\\\" name=\\\"projectOverview\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"历史沿革\\\" [(ngModel)]=\\\"heritage.history\\\" name=\\\"history\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"现状\\\" [(ngModel)]=\\\"heritage.currentStatus\\\" name=\\\"currentStatus\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"价值\\\" [(ngModel)]=\\\"heritage.presentValue\\\" name=\\\"presentValue\\\" />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"濒危情况\\\" [(ngModel)]=\\\"heritage.endangeredStatus\\\" name=\\\"endangeredStatus\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"代表作品\\\" [(ngModel)]=\\\"heritage.masterpiece\\\" name=\\\"masterpiece\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n\\n        <mat-action-row>\\n          <button mat-button color=\\\"primary\\\" (click)=\\\"nextStep()\\\">下一页</button>\\n        </mat-action-row>\\n      </mat-expansion-panel>\\n\\n      <mat-expansion-panel [expanded]=\\\"step === 1\\\" (opened)=\\\"setStep(1)\\\" hideToggle>\\n        <mat-expansion-panel-header>\\n          <mat-panel-title>\\n            旅游相关信息\\n          </mat-panel-title>\\n          <mat-panel-description>\\n            请在这里提供旅游相关信息\\n            <mat-icon>map</mat-icon>\\n          </mat-panel-description>\\n        </mat-expansion-panel-header>\\n\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"旅游开放现状\\\" [(ngModel)]=\\\"heritage.tourismStatus\\\" name=\\\"tourismStatus\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"旅游市场特点\\\" [(ngModel)]=\\\"heritage.tourismMarketCharacteristics\\\" name=\\\"tourismMarketCharacteristics\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"配套旅游产品\\\" [(ngModel)]=\\\"heritage.tourismProduct\\\" name=\\\"tourismProduct\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"旅游价格\\\" [(ngModel)]=\\\"heritage.tourismPrice\\\" name=\\\"tourismPrice\\\" />\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <textarea matInput placeholder=\\\"旅游开发模式\\\" [(ngModel)]=\\\"heritage.tourismDevelopmentModel\\\" name=\\\"tourismDevelopmentModel\\\"></textarea>\\n        </mat-form-field>\\n        <br>\\n        <mat-form-field class=\\\"form-field\\\">\\n          <input matInput placeholder=\\\"旅游效益\\\" [(ngModel)]=\\\"heritage.tourismBenefit\\\" name=\\\"tourismBenefit\\\" />\\n        </mat-form-field>\\n        <br>\\n\\n        <mat-action-row>\\n          <button mat-button color=\\\"warn\\\" (click)=\\\"prevStep()\\\">上一页</button>\\n          <button mat-button color=\\\"primary\\\" (click)=\\\"nextStep()\\\">下一页</button>\\n        </mat-action-row>\\n      </mat-expansion-panel>\\n\\n      <mat-expansion-panel [expanded]=\\\"step === 2\\\" (opened)=\\\"setStep(2)\\\" hideToggle>\\n        <mat-expansion-panel-header>\\n          <mat-panel-title>\\n            其他信息\\n          </mat-panel-title>\\n          <mat-panel-description>\\n            请在这里提供其他相关信息\\n            <mat-icon>add_photo_alternate</mat-icon>\\n          </mat-panel-description>\\n        </mat-expansion-panel-header>\\n\\n        <mat-card class=\\\"fileupload\\\">\\n          <mat-card-header>\\n            <mat-card-title>文件上传 </mat-card-title>\\n            <mat-card-subtitle>请在这里上传相关文件</mat-card-subtitle>\\n          </mat-card-header>\\n          <mat-card-content>\\n            <mat-form-field class=\\\"form-field\\\">\\n              <textarea matInput placeholder=\\\"Story\\\" [(ngModel)]=\\\"heritage.story\\\" name=\\\"story\\\"></textarea>\\n            </mat-form-field>\\n            <br>\\n            <app-file-manager [heritageID]=\\\"heritage.id\\\">File manager loading...</app-file-manager>\\n          </mat-card-content>\\n        </mat-card>\\n\\n        <mat-action-row>\\n          <button mat-button color=\\\"warn\\\" (click)=\\\"prevStep()\\\">上一页</button>\\n          <button mat-button color=\\\"primary\\\" (click)=\\\"nextStep()\\\">下一页</button>\\n        </mat-action-row>\\n      </mat-expansion-panel>\\n\\n    </mat-accordion>\\n\\n  </form>\\n</div>\"","module.exports = \".basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\\n.form-field {\\n  min-width: 150px;\\n  max-width: 500px;\\n  width: 100%; }\\n\\n.spacer {\\n  flex: 1 1 auto; }\\n\\n.example-headers-align .mat-expansion-panel-header-title,\\n.example-headers-align .mat-expansion-panel-header-description {\\n  flex-basis: 0; }\\n\\n.example-headers-align .mat-expansion-panel-header-description {\\n  justify-content: space-between;\\n  align-items: center; }\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { ToastrService } from 'ngx-toastr';\nimport { IHeritage } from '../_models';\nimport { HeritageService, UserService } from '../_services';\nimport { Global } from '../_shared';\n\n\n@Component({\n  selector: 'app-heritage-detail',\n  templateUrl: './heritage-detail.component.html',\n  styleUrls: ['./heritage-detail.component.scss']\n})\nexport class HeritageDetailComponent implements OnInit {\n\n  heritage: IHeritage;\n  param: any;\n\n  step = 0;\n\n  setStep(index: number) {\n    this.step = index;\n  }\n\n  nextStep() {\n    this.step++;\n  }\n\n  prevStep() {\n    this.step--;\n  }\n\n\n\n  constructor(\n    private route: ActivatedRoute,\n    private heritageService: HeritageService,\n    private userService: UserService,\n    private toastr: ToastrService\n  ) { }\n\n  ngOnInit() {\n    /*\n    var id = this.route.snapshot.params[\"id\"];\n    if (id < 1)\n      return;\n    */\n\n    // Check for route params\n    this.route.params.subscribe(params => {\n      this.param = params['id'];\n      // check if ID exists in route & call update or add methods accordingly\n      if (this.param && this.param != null && this.param != undefined) {\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\n          result => {\n            this.heritage = result;\n          }\n        )\n      }\n      else {\n        this.heritage = {\n          id: 0,\n          name: '',\n          registrationDistrict: '',\n          registrationYear: '',\n          province: '',\n          typeofProject: '',\n          batchNo: '',\n          inheritors: '',\n          projectOverview: '',\n          history: '',\n          currentStatus: '',\n          presentValue: 0,\n          endangeredStatus: '',\n          masterpiece: '',\n          tourismStatus: '',\n          tourismMarketCharacteristics: '',\n          tourismProduct: '',\n          tourismPrice: 0,\n          tourismDevelopmentModel: '',\n          tourismBenefit: 0,\n          story: '',\n          evaluationValue: 0,\n          activationModeId: undefined,\n          heritageGameAnalysisId: undefined,\n          createdUserId: 0,\n          createdUserName: '',\n          createdOn: undefined,\n          modifiedUserId: 0,\n          modifiedUserName: '',\n          modifiedOn: undefined\n        }\n      }\n    });\n\n\n\n  }\n\n  onSubmit() {\n\n    if (!this.userService.canEdit())\n    {\n      this.toastr.error(\"您没有添加或修改非物质文化遗产的权限。\",\"权限验证失败\");\n      return;\n    }\n\n    var userId = this.userService.currentUserId();\n    if (this.heritage.id != 0) {\n      this.heritage.modifiedUserId = userId;\n      this.heritageService.updateHeritage(Global.BASE_HERITAGE_ENDPOINT + this.heritage.id, this.heritage)\n        .subscribe(\n          data => {\n            this.heritage = data;\n            this.showSuccess();\n          },\n          error => {\n            this.showError();\n          }\n        );\n    }\n    else {\n      this.heritage.createdUserId = userId;\n      this.heritage.modifiedUserId = userId;\n      this.heritageService.addHeritage(Global.BASE_HERITAGE_ENDPOINT, this.heritage)\n        .subscribe(\n          data => {\n            this.heritage = data;\n            this.showSuccess();\n          },\n          error => {\n            this.showError();\n          }\n        );\n    }\n\n  }\n\n  showSuccess() {\n    this.toastr.success('非物质文化遗产保存成功。', '操作成功');\n  }\n\n  showError() {\n    this.toastr.error('非物质文化遗产保存失败。', '操作失败');\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HeritageDetailComponent } from './heritage-detail.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageDetailRoutes: Routes = [\r\n    { path: 'heritagedetail', component: HeritageDetailComponent, canActivate: [AuthGuard] },\r\n    { path: 'heritagedetail/:id', component: HeritageDetailComponent, canActivate: [AuthGuard] }\r\n  ];","export * from './heritage-detail.component';\r\nexport * from './heritage-detail.route';","module.exports = \"<div class=\\\"basic-container\\\" *ngIf=\\\"heritage\\\">\\n\\n  <mat-toolbar>\\n    <span>旅游价值评估系统: {{ heritage.name }} 的旅游价值为: {{ heritage.evaluationValue | number : '1.2-2' }}</span>\\n    <span class=\\\"spacer\\\"></span>\\n    <button mat-button class=\\\"form-save\\\" (click)=\\\"showParameters()\\\">系数设置</button>\\n    <button mat-button class=\\\"form-save\\\" (click)=\\\"evaluateheritage()\\\">计算并保存</button>\\n    <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" [routerLink]=\\\"['/heritagenav', heritage.id]\\\">返回</button>\\n  </mat-toolbar>\\n\\n  <p-table [value]=\\\"evaluations\\\" [scrollable]=\\\"true\\\" selectionMode=\\\"single\\\" (onRowSelect)=\\\"onRowSelect($event)\\\"\\n    [paginator]=\\\"true\\\" [rows]=\\\"20\\\">\\n    <ng-template pTemplate=\\\"caption\\\">\\n      旅游价值评估\\n    </ng-template>\\n    <ng-template pTemplate=\\\"colgroup\\\" let-columns>\\n      <colgroup>\\n        <col style=\\\"width:125px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n        <col style=\\\"width:85px\\\">\\n      </colgroup>\\n    </ng-template>\\n    <ng-template pTemplate=\\\"header\\\">\\n\\n      <tr>\\n        <th rowspan=\\\"2\\\">利益相关者身份</th>\\n        <th rowspan=\\\"2\\\">非遗旅游价值</th>\\n        <th rowspan=\\\"2\\\">认同感系数</th>\\n        <th rowspan=\\\"2\\\">认知情况系数</th>\\n        <th rowspan=\\\"2\\\">项目自身价值系数</th>\\n        <th rowspan=\\\"2\\\">项目自身基本情况系数</th>\\n        <th rowspan=\\\"2\\\">项目资源开发条件与现状系数</th>\\n        <th colspan=\\\"3\\\">认同感</th>\\n        <th colspan=\\\"4\\\">认知情况</th>\\n        <th colspan=\\\"8\\\">项目自身价值</th>\\n        <th colspan=\\\"6\\\">项目自身基本情况</th>\\n        <th colspan=\\\"5\\\">项目资源开发条件与现状</th>\\n      </tr>\\n      <tr>\\n        <th rowspan=\\\"1\\\">重要性</th>\\n        <th rowspan=\\\"1\\\">民族自豪感</th>\\n        <th rowspan=\\\"1\\\">政府保护的必要性</th>\\n        <th rowspan=\\\"1\\\">资源特征</th>\\n        <th rowspan=\\\"1\\\">技艺涉及范围</th>\\n        <th rowspan=\\\"1\\\">技艺传承方式</th>\\n        <th rowspan=\\\"1\\\">技艺传承难度</th>\\n        <th rowspan=\\\"1\\\">艺术价值</th>\\n        <th rowspan=\\\"1\\\">文化价值</th>\\n        <th rowspan=\\\"1\\\">经济价值</th>\\n        <th rowspan=\\\"1\\\">历史价值</th>\\n        <th rowspan=\\\"1\\\">教育价值</th>\\n        <th rowspan=\\\"1\\\">社会价值</th>\\n        <th rowspan=\\\"1\\\">科学价值</th>\\n        <th rowspan=\\\"1\\\">文化生态环境价值</th>\\n        <th rowspan=\\\"1\\\">品质情况</th>\\n        <th rowspan=\\\"1\\\">珍稀性</th>\\n        <th rowspan=\\\"1\\\">原生态程度</th>\\n        <th rowspan=\\\"1\\\">知名度</th>\\n        <th rowspan=\\\"1\\\">个性</th>\\n        <th rowspan=\\\"1\\\">时间跨度</th>\\n        <th rowspan=\\\"1\\\">区域经济水平</th>\\n        <th rowspan=\\\"1\\\">旅游市场情况</th>\\n        <th rowspan=\\\"1\\\">资源开发基础</th>\\n        <th rowspan=\\\"1\\\">资源开发现状</th>\\n        <th rowspan=\\\"1\\\">企业介入可能性</th>\\n      </tr>\\n    </ng-template>\\n\\n    <ng-template pTemplate=\\\"body\\\" let-rowData>\\n      <tr [pSelectableRow]=\\\"rowData\\\">\\n        <td>{{rowData.evaluatorTypeId | evaluatortype}}</td>\\n        <td>{{rowData.evaluationValue | number : '1.2-2'}}</td>\\n        <td>{{rowData.agreementFactor}}</td>\\n        <td>{{rowData.cognitionFactor}}</td>\\n        <td>{{rowData.projectValueFactor}}</td>\\n        <td>{{rowData.projectBasicInfoFactor}}</td>\\n        <td>{{rowData.projectConditionStatusFactor}}</td>\\n        <td>{{rowData.importanceValue | evaluationoption}}</td>\\n        <td>{{rowData.nationalPrideValue | evaluationoption}}</td>\\n        <td>{{rowData.govProtectionValue | evaluationoption}}</td>\\n        <td>{{rowData.resourceCharacteristicsValue | evaluationoption}}</td>\\n        <td>{{rowData.skillScopeValue | evaluationoption}}</td>\\n        <td>{{rowData.skillInheritanceMethodValue | evaluationoption}}</td>\\n        <td>{{rowData.skillInheritanceDifficultyValue | evaluationoption}}</td>\\n        <td>{{rowData.artValue | evaluationoption}}</td>\\n        <td>{{rowData.cultureValue | evaluationoption}}</td>\\n        <td>{{rowData.economyValue | evaluationoption}}</td>\\n        <td>{{rowData.historyValue | evaluationoption}}</td>\\n        <td>{{rowData.educationValue | evaluationoption}}</td>\\n        <td>{{rowData.societyValue | evaluationoption}}</td>\\n        <td>{{rowData.scienceValue | evaluationoption}}</td>\\n        <td>{{rowData.ecologicalEnvironmentValue | evaluationoption}}</td>\\n        <td>{{rowData.qualityValue | evaluationoption}}</td>\\n        <td>{{rowData.rarenessValue | evaluationoption}}</td>\\n        <td>{{rowData.ecologyValue | evaluationoption}}</td>\\n        <td>{{rowData.popularValue | evaluationoption}}</td>\\n        <td>{{rowData.personalityValue | evaluationoption}}</td>\\n        <td>{{rowData.timeSpanValue | evaluationoption}}</td>\\n        <td>{{rowData.nationalEcomonicValue | evaluationoption}}</td>\\n        <td>{{rowData.marketStatusValue | evaluationoption}}</td>\\n        <td>{{rowData.basicResourceDevelopmentValue | evaluationoption}}</td>\\n        <td>{{rowData.basicResourceValue | evaluationoption}}</td>\\n        <td>{{rowData.introductionProbabilityValue | evaluationoption}}</td>\\n      </tr>\\n    </ng-template>\\n\\n    <ng-template pTemplate=\\\"summary\\\" let-rowData>\\n      <div style=\\\"text-align:left\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-plus\\\" (click)=\\\"showDialogToAdd()\\\" label=\\\"添加\\\"></button>\\n      </div>\\n    </ng-template>\\n\\n    <!--\\n      <ng-template pTemplate=\\\"footer\\\">\\n          <tr>\\n              <td colspan=\\\"3\\\">Totals</td>\\n              <td>$506,202</td>\\n              <td>$531,020</td>\\n          </tr>\\n      </ng-template>\\n      -->\\n  </p-table>\\n\\n  <p-dialog header=\\\"非遗旅游价值评估系数\\\" appendTo=\\\"body\\\" [(visible)]=\\\"displayParameters\\\" [responsive]=\\\"true\\\" showEffect=\\\"fade\\\"\\n    [modal]=\\\"true\\\" [width]=\\\"600\\\">\\n    <div class=\\\"ui-g ui-fluid\\\">\\n      <label for=\\\"vin\\\">全局系数，如更改需对旅游评估价值进行重新更新计算。</label>\\n    </div>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"param1\\\">\\n      <div class=\\\"ui-g-3\\\">\\n        <label for=\\\"vin\\\">系数1</label>\\n      </div>\\n      <div class=\\\"ui-g-4\\\">\\n        <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"param1.parameterValue\\\" />\\n      </div>\\n      <div class=\\\"ui-g-3\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"saveparam1()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </div>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"param2\\\">\\n      <div class=\\\"ui-g-3\\\">\\n        <label for=\\\"vin\\\">系数2</label>\\n      </div>\\n      <div class=\\\"ui-g-4\\\">\\n        <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"param2.parameterValue\\\" />\\n      </div>\\n      <div class=\\\"ui-g-3\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"saveparam2()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </div>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"param3\\\">\\n      <div class=\\\"ui-g-3\\\">\\n        <label for=\\\"vin\\\">系数3</label>\\n      </div>\\n      <div class=\\\"ui-g-4\\\">\\n        <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"param3.parameterValue\\\" />\\n      </div>\\n      <div class=\\\"ui-g-3\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"saveparam3()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </div>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"param4\\\">\\n      <div class=\\\"ui-g-3\\\">\\n        <label for=\\\"vin\\\">系数4</label>\\n      </div>\\n      <div class=\\\"ui-g-4\\\">\\n        <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"param4.parameterValue\\\" />\\n      </div>\\n      <div class=\\\"ui-g-3\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"saveparam4()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </div>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"param5\\\">\\n      <div class=\\\"ui-g-3\\\">\\n        <label for=\\\"vin\\\">系数5</label>\\n      </div>\\n      <div class=\\\"ui-g-4\\\">\\n        <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"param5.parameterValue\\\" />\\n      </div>\\n      <div class=\\\"ui-g-3\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"saveparam5()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </div>\\n  </p-dialog>\\n\\n  <p-dialog header=\\\"非遗旅游价值评估\\\" appendTo=\\\"body\\\" [(visible)]=\\\"displayDialog\\\" [responsive]=\\\"true\\\" showEffect=\\\"fade\\\" [modal]=\\\"true\\\"\\n    [width]=\\\"600\\\">\\n    <p-confirmDialog appendTo=\\\"body\\\"></p-confirmDialog>\\n    <div class=\\\"ui-g ui-fluid\\\" *ngIf=\\\"evaluation\\\">\\n\\n      <p-fieldset legend=\\\"旅游评估\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">利益相关者身份</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalTypes\\\" [(ngModel)]=\\\"evaluation.evaluatorTypeId\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"vin\\\">认同感系数</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <input pInputText id=\\\"agreementFactor\\\" [(ngModel)]=\\\"evaluation.agreementFactor\\\" />\\n        </div>\\n\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"vin\\\">认知情况系数</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <input pInputText id=\\\"cognitionFactor\\\" [(ngModel)]=\\\"evaluation.cognitionFactor\\\" />\\n        </div>\\n\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"vin\\\">项目自身价值系数</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <input pInputText id=\\\"projectValueFactor\\\" [(ngModel)]=\\\"evaluation.projectValueFactor\\\" />\\n        </div>\\n\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"vin\\\">项目自身基本情况系数</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <input pInputText id=\\\"projectBasicInfoFactor\\\" [(ngModel)]=\\\"evaluation.projectBasicInfoFactor\\\" />\\n        </div>\\n\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"vin\\\">项目资源开发条件与现状系数</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <input pInputText id=\\\"projectConditionStatusFactor\\\" [(ngModel)]=\\\"evaluation.projectConditionStatusFactor\\\" />\\n        </div>\\n      </p-fieldset>\\n\\n      <p-fieldset legend=\\\"认同感\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">重要性</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.importanceValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">民族自豪感</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.nationalPrideValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">政府保护的必要性</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.govProtectionValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n      </p-fieldset>\\n\\n      <p-fieldset legend=\\\"认知情况\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">资源特征</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.resourceCharacteristicsValue\\\"\\n            placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">技艺涉及范围</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.skillScopeValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">技艺传承方式</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.skillInheritanceMethodValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">技艺传承难度</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.skillInheritanceDifficultyValue\\\"\\n            placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n      </p-fieldset>\\n\\n      <p-fieldset legend=\\\"项目自身价值\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">艺术价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.artValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">文化价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.cultureValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">经济价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.economyValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">历史价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.historyValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">教育价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.educationValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">社会价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.societyValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">科学价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.scienceValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">文化生态环境价值</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.ecologicalEnvironmentValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n      </p-fieldset>\\n\\n      <p-fieldset legend=\\\"项目自身基本情况\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">品质情况</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.qualityValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">珍稀性</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.rarenessValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">原生态程度</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.ecologyValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">知名度</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.popularValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">个性</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.personalityValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">时间跨度</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.timeSpanValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n      </p-fieldset>\\n\\n      <p-fieldset legend=\\\"项目资源开发条件与现状\\\">\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"importance\\\">区域经济水平</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.nationalEcomonicValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"b\\\">旅游市场情况</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.marketStatusValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">资源开发基础</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.basicResourceDevelopmentValue\\\"\\n            placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">资源开发现状</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.basicResourceValue\\\" placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n        <div class=\\\"ui-g-7\\\">\\n          <label for=\\\"c\\\">企业介入可能性</label>\\n        </div>\\n        <div class=\\\"ui-g-3\\\">\\n          <p-dropdown [options]=\\\"availableEvalOptions\\\" [(ngModel)]=\\\"evaluation.introductionProbabilityValue\\\"\\n            placeholder=\\\"Select an option\\\"></p-dropdown>\\n        </div>\\n      </p-fieldset>\\n\\n    </div>\\n    <p-footer>\\n      <div class=\\\"ui-dialog-buttonpane ui-helper-clearfix\\\">\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-close\\\" (click)=\\\"delete()\\\" label=\\\"删除\\\"></button>\\n        <button type=\\\"button\\\" pButton icon=\\\"fa fa-check\\\" (click)=\\\"save()\\\" label=\\\"保存\\\"></button>\\n      </div>\\n    </p-footer>\\n  </p-dialog>\\n\\n\\n</div>\"","module.exports = \".spacer {\\n  flex: 1 1 auto; }\\n\\n.basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\\ntable td,\\ntable th {\\n  min-width: 200px;\\n  min-height: 10em;\\n  border: 1px solid #000; }\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IHeritage, IHeritageEvaluation, IEvaluationOption, IEvaluatorType, IEvaluationParameter } from '../_models';\r\nimport { HeritageService, UserService, HeritageEvaluationService, EvaluationOptionService, EvaluatorTypeService, EvaluationParameterService } from '../_services';\r\nimport { Global } from '../_shared';\r\nimport { SelectItem, ConfirmationService } from 'primeng/api';\r\n\r\n@Component({\r\n  selector: 'app-heritage-evaluation',\r\n  templateUrl: './heritage-evaluation.component.html',\r\n  styleUrls: ['./heritage-evaluation.component.scss']\r\n})\r\nexport class HeritageEvaluationComponent implements OnInit {\r\n\r\n  heritage: IHeritage;\r\n  param: any;\r\n\r\n  evaluations: IHeritageEvaluation[];\r\n  selectedEvaluation: IHeritageEvaluation;\r\n  evaluation: IHeritageEvaluation;\r\n  newEvaluation: boolean;\r\n  displayDialog: boolean;\r\n  availableEvalOptions: SelectItem[];\r\n  availableEvalTypes: SelectItem[];\r\n  currentUserId: number;\r\n  defaultEvalOption: SelectItem;\r\n  defaultEvalType: SelectItem;\r\n\r\n  displayParameters: boolean;\r\n  param1: IEvaluationParameter;\r\n  param2: IEvaluationParameter;\r\n  param3: IEvaluationParameter;\r\n  param4: IEvaluationParameter;\r\n  param5: IEvaluationParameter;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n    private heritageService: HeritageService,\r\n    private userService: UserService,\r\n    private heritageEvaluationService: HeritageEvaluationService,\r\n    private evaluationOptionService: EvaluationOptionService,\r\n    private toastr: ToastrService,\r\n    private evaluatorTypeSerice: EvaluatorTypeService,\r\n    private confirmationService: ConfirmationService,\r\n    private evalParameterService: EvaluationParameterService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.populateEvaluationOptions();\r\n    this.populateEvaluatorTypes();\r\n\r\n    this.currentUserId = this.userService.currentUserId();\r\n\r\n    this.route.params.subscribe(params => {\r\n      this.param = params['id'];\r\n      // check if ID exists in route & call update or add methods accordingly\r\n      if (this.param && this.param != null && this.param != undefined) {\r\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\r\n          result => {\r\n            this.heritage = result;\r\n            this.heritageEvaluationService.getHeritageEvaluations(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + 'getHeritageEvaluation/' + this.heritage.id)\r\n              .subscribe(\r\n                evals => {\r\n                  this.evaluations = evals;\r\n                }\r\n              )\r\n          }\r\n        )\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  showDialogToAdd() {\r\n    this.newEvaluation = true;\r\n    this.evaluation = {\r\n      id: 0,\r\n      heritageId: this.heritage.id,\r\n      evaluatorTypeId: 5,\r\n      evaluationValue: 0.0,\r\n      agreementFactor: 0.2215,\r\n      cognitionFactor: 0.2019,\r\n      projectValueFactor: 0.1884,\r\n      projectBasicInfoFactor: 0.1830,\r\n      projectConditionStatusFactor: 0.20519,\r\n      importanceValue: 5,\r\n      nationalPrideValue: 5,\r\n      govProtectionValue: 5,\r\n      resourceCharacteristicsValue: 5,\r\n      skillScopeValue: 5,\r\n      skillInheritanceMethodValue: 5,\r\n      skillInheritanceDifficultyValue: 5,\r\n      artValue: 5,\r\n      cultureValue: 5,\r\n      economyValue: 5,\r\n      historyValue: 5,\r\n      educationValue: 5,\r\n      societyValue: 5,\r\n      scienceValue: 5,\r\n      ecologicalEnvironmentValue: 5,\r\n      qualityValue: 5,\r\n      rarenessValue: 5,\r\n      ecologyValue: 5,\r\n      popularValue: 5,\r\n      personalityValue: 5,\r\n      timeSpanValue: 5,\r\n      nationalEcomonicValue: 5,\r\n      marketStatusValue: 5,\r\n      basicResourceDevelopmentValue: 5,\r\n      basicResourceValue: 5,\r\n      introductionProbabilityValue: 5,\r\n      createdUserId: this.currentUserId,\r\n      createdUserName: '',\r\n      createdOn: undefined,\r\n      modifiedUserId: this.currentUserId,\r\n      modifiedUserName: '',\r\n      modifiedOn: undefined\r\n    };\r\n    this.displayDialog = true;\r\n\r\n  }\r\n\r\n  save() {\r\n\r\n    if (!this.userService.canEdit()) {\r\n      this.toastr.error(\"您没有对非物质文化遗产进行评估的权限。\", \"权限验证失败\")\r\n      return;\r\n    }\r\n\r\n    if (this.newEvaluation) {\r\n      this.heritageEvaluationService.addHeritageEvaluation(Global.BASE_HERITAGE_EVALUATION_ENDPOINT, this.evaluation)\r\n        .subscribe(\r\n          data => {\r\n            this.evaluation = data;\r\n            this.toastr.success(\"非物质文化遗产评估添加成功。\", \"操作成功\");\r\n            this.heritageEvaluationService.getHeritageEvaluations(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + 'getHeritageEvaluation/' + this.heritage.id)\r\n              .subscribe(\r\n                evals => {\r\n                  this.evaluations = evals;\r\n                }\r\n              )\r\n          },\r\n          error => {\r\n            this.toastr.error(\"非物质文化遗产评估添加失败。\", \"操作失败\")\r\n          }\r\n        );\r\n    }\r\n    else {\r\n      this.heritageEvaluationService.updateHeritageEvaluation(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + this.evaluation.id, this.evaluation)\r\n        .subscribe(\r\n          data => {\r\n            this.evaluation = data;\r\n            this.toastr.success(\"非物质文化遗产评估修改成功。\", \"操作成功\");\r\n            this.heritageEvaluationService.getHeritageEvaluations(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + 'getHeritageEvaluation/' + this.heritage.id)\r\n              .subscribe(\r\n                evals => {\r\n                  this.evaluations = evals;\r\n                }\r\n              )\r\n          },\r\n          error => {\r\n            this.toastr.error(\"非物质文化遗产评估修改失败。\", \"操作失败\")\r\n          }\r\n        );\r\n    }\r\n\r\n    this.displayDialog = false;\r\n  }\r\n\r\n  delete() {\r\n\r\n    if (!this.userService.canEdit()) {\r\n      this.toastr.error(\"您没有删除非物质文化遗产评估的权限。\", \"权限验证失败\")\r\n      return;\r\n    }\r\n\r\n    if (this.evaluation.id == 0) {\r\n      this.displayDialog = false;\r\n      return;\r\n    }\r\n\r\n    this.confirmationService.confirm({\r\n      message: '您确定要删除所选择的为物质文化遗产评估吗？',\r\n      header: '确认删除',\r\n      icon: 'pi pi-info-circle',\r\n      accept: () => {\r\n        this.heritageEvaluationService.deleteHeritageEvaluation(Global.BASE_HERITAGE_EVALUATION_ENDPOINT, this.evaluation.id)\r\n          .subscribe(\r\n            data => {\r\n              this.toastr.success(\"非物质文化遗产评估删除成功。\", \"操作成功\");\r\n              this.heritageEvaluationService.getHeritageEvaluations(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + 'getHeritageEvaluation/' + this.heritage.id)\r\n                .subscribe(\r\n                  evals => {\r\n                    this.evaluations = evals;\r\n                  }\r\n                )\r\n            },\r\n            error => {\r\n              this.toastr.error(\"非物质文化遗产评估删除失败。\", \"操作失败\")\r\n            }\r\n          );\r\n        this.displayDialog = false;\r\n      },\r\n      reject: () => { }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  onRowSelect(event) {\r\n\r\n    if (!this.userService.canEdit()) {\r\n      this.toastr.error(\"您没有修改非物质文化遗产评估的权限。\", \"权限验证失败\")\r\n      return;\r\n    }\r\n\r\n    this.newEvaluation = false;\r\n    this.evaluation = this.cloneEvaluation(event.data);\r\n    this.displayDialog = true;\r\n  }\r\n\r\n  cloneEvaluation(c: any): any {\r\n    let evaluation = {\r\n      id: 0,\r\n      heritageId: this.heritage.id,\r\n      evaluatorTypeId: -1,\r\n      evaluationValue: 0.0,\r\n      agreementFactor: 0.2,\r\n      cognitionFactor: 0.2,\r\n      projectValueFactor: 0.2,\r\n      projectBasicInfoFactor: 0.2,\r\n      projectConditionStatusFactor: 0.2,\r\n      importanceValue: -1,\r\n      nationalPrideValue: -1,\r\n      govProtectionValue: -1,\r\n      resourceCharacteristicsValue: -1,\r\n      skillScopeValue: -1,\r\n      skillInheritanceMethodValue: -1,\r\n      skillInheritanceDifficultyValue: -1,\r\n      artValue: -1,\r\n      cultureValue: -1,\r\n      economyValue: -1,\r\n      historyValue: -1,\r\n      educationValue: -1,\r\n      societyValue: -1,\r\n      scienceValue: -1,\r\n      ecologicalEnvironmentValue: -1,\r\n      qualityValue: -1,\r\n      rarenessValue: -1,\r\n      ecologyValue: -1,\r\n      popularValue: -1,\r\n      personalityValue: -1,\r\n      timeSpanValue: -1,\r\n      nationalEcomonicValue: -1,\r\n      marketStatusValue: -1,\r\n      basicResourceDevelopmentValue: -1,\r\n      basicResourceValue: -1,\r\n      introductionProbabilityValue: -1,\r\n      createdUserId: this.currentUserId,\r\n      createdUserName: '',\r\n      createdOn: undefined,\r\n      codifiedUserId: this.currentUserId,\r\n      modifiedUserName: '',\r\n      modifiedOn: undefined\r\n    };\r\n\r\n    for (let prop in c) {\r\n      evaluation[prop] = c[prop];\r\n    }\r\n    return evaluation;\r\n  }\r\n\r\n  populateEvaluationOptions() {\r\n    this.availableEvalOptions = [];\r\n    this.evaluationOptionService.getEvaluationOptions(Global.BASE_EVALUATION_OPTION_ENDPOINT + 'getAllEvaluationOption')\r\n      .subscribe(\r\n        data => {\r\n          var options = data;\r\n          for (let i = 0; i < options.length; i++) {\r\n            this.availableEvalOptions.push({ label: options[i].option, value: options[i].id });\r\n          }\r\n          this.defaultEvalOption = this.availableEvalOptions[0].value;\r\n        }\r\n      )\r\n  }\r\n\r\n  populateEvaluatorTypes() {\r\n    this.availableEvalTypes = [];\r\n    this.evaluatorTypeSerice.getEvaluatorTypes(Global.BASE_EVALUATOR_TYPE_ENDPOINT + 'getAllEvaluatorType')\r\n      .subscribe(\r\n        result => {\r\n          var types = result;\r\n          for (let j = 0; j < types.length; j++) {\r\n            this.availableEvalTypes.push({ label: types[j].type, value: types[j].id });\r\n          }\r\n          this.defaultEvalType = this.availableEvalTypes[0].value;\r\n        }\r\n      )\r\n  }\r\n\r\n  evaluateheritage() {\r\n\r\n    if (!this.userService.canEdit()) {\r\n      this.toastr.error(\"您没有计算非物质文化遗产旅游价值的权限。\", \"权限验证失败\");\r\n      return;\r\n    }\r\n\r\n    this.heritageEvaluationService.evaluateHeritage(Global.BASE_HERITAGE_EVALUATION_ENDPOINT + 'evaluateHeritage/' + this.heritage.id)\r\n      .subscribe(\r\n        res => {\r\n          this.heritage = res;\r\n          this.toastr.success(\"非物质文化遗产旅游价值计算成功。\", \"操作成功\");\r\n        },\r\n        error => {\r\n          this.toastr.error(\"非物质文化遗产旅游价值计算失败。\", \"操作失败\");\r\n        }\r\n      );\r\n  }\r\n\r\n  saveparam1() {\r\n    this.evalParameterService.updateEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '1', this.param1)\r\n    .subscribe(\r\n      data => {\r\n        this.param1 = data;\r\n        this.displayParameters = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  saveparam2() {\r\n    this.evalParameterService.updateEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '2', this.param2)\r\n    .subscribe(\r\n      data => {\r\n        this.param2 = data;\r\n        this.displayParameters = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  saveparam3() {\r\n    this.evalParameterService.updateEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '3', this.param3)\r\n    .subscribe(\r\n      data => {\r\n        this.param3 = data;\r\n        this.displayParameters = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  saveparam4() {\r\n    this.evalParameterService.updateEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '4', this.param4)\r\n    .subscribe(\r\n      data => {\r\n        this.param4 = data;\r\n        this.displayParameters = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  saveparam5() {\r\n    this.evalParameterService.updateEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '5', this.param5)\r\n    .subscribe(\r\n      data => {\r\n        this.param5 = data;\r\n        this.displayParameters = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  showParameters() {\r\n    this.evalParameterService.getEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '1')\r\n      .subscribe(\r\n        dataParam1 => {\r\n          this.param1 = dataParam1;\r\n          this.evalParameterService.getEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '2')\r\n            .subscribe(\r\n              dataParam2 => {\r\n                this.param2 = dataParam2;\r\n                this.evalParameterService.getEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '3')\r\n                  .subscribe(\r\n                    dataParam3 => {\r\n                      this.param3 = dataParam3;\r\n                      this.evalParameterService.getEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '4')\r\n                        .subscribe(\r\n                          dataParam4 => {\r\n                            this.param4 = dataParam4;\r\n                            this.evalParameterService.getEvaluationParameter(Global.BASE_EVALUATION_PARAMETER_ENDPOINT + '5')\r\n                              .subscribe(\r\n                                dataParam5 => {\r\n                                  this.param5 = dataParam5;\r\n                                  this.displayParameters = true;\r\n                                }\r\n                              )\r\n                          }\r\n                        )\r\n                    }\r\n                  )\r\n              }\r\n            )\r\n        }\r\n      )\r\n  }\r\n\r\n}\r\n\r\n","import { Routes } from '@angular/router';\r\nimport { HeritageEvaluationComponent } from './heritage-evaluation.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageEvaluationRoutes: Routes = [\r\n    { path: 'heritageevaluation/:id', component: HeritageEvaluationComponent, canActivate: [AuthGuard] }\r\n  ];","export * from './heritage-evaluation.component';\r\nexport * from './heritage-evaluation.route';","module.exports = \"  \\n  <!--\\n  <div class=\\\"spinner\\\" *ngIf=\\\"loadingState; else userlist\\\">\\n    <mat-spinner></mat-spinner>\\n  </div>\\n  -->\\n\\n  <div class=\\\"tblcontainer mat-elevation-z8\\\">\\n  \\n    <div class=\\\"form\\\">\\n      <mat-form-field floatPlaceholder=\\\"never\\\" color=\\\"accent\\\">\\n        <input matInput #filter placeholder=\\\"Filter heritages\\\">\\n      </mat-form-field>\\n    </div>\\n  \\n    <mat-table #table [dataSource]=\\\"dataSource\\\" matSort class=\\\"mat-cell\\\">\\n  \\n      <!--- Note that these columns can be defined in any order.\\n            The actual rendered columns are set as a property on the row definition\\\" -->\\n  \\n      <!-- ID Column -->\\n      <ng-container matColumnDef=\\\"id\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>编号</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\" >{{row.id}}</mat-cell>\\n      </ng-container>\\n  \\n      <ng-container matColumnDef=\\\"name\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>名称</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.name}}</mat-cell>\\n      </ng-container>\\n  \\n      <ng-container matColumnDef=\\\"registrationDistrict\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>申报地区或单位</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.registrationDistrict}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"registrationYear\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>申报年份</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.registrationYear}}</mat-cell>\\n      </ng-container>\\n  \\n      <ng-container matColumnDef=\\\"province\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>所属省份</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.province}}</mat-cell>\\n      </ng-container>\\n  \\n      <ng-container matColumnDef=\\\"typeofProject\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>项目类型</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.typeofProject}}</mat-cell>\\n      </ng-container>\\n  \\n      <ng-container matColumnDef=\\\"batchNo\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>批次</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.batchNo}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"inheritors\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>传承人</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.inheritors}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"projectOverview\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>项目简介</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.projectOverview}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"history\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>历史沿革</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.history}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"currentStatus\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>现状</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.currentStatus}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"presentValue\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>价值</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.presentValue}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"endangeredStatus\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>濒危情况</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.endangeredStatus}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"masterpiece\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>代表作品</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.masterpiece}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismStatus\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>旅游开放现状</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismStatus}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismMarketCharacteristics\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>旅游市场特点</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismMarketCharacteristics}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismProduct\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>配套旅游产品</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismProduct}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismPrice\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>旅游价格</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismPrice}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismDevelopmentModel\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>旅游开发模式</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismDevelopmentModel}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"tourismBenefit\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>旅游效益</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.tourismBenefit}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"createdBy\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>创建用户</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.createdBy}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"createdOn\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>创建日期</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.createdOn}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"modifiedBy\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>编辑用户</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.modifiedBy}}</mat-cell>\\n      </ng-container>\\n\\n      <ng-container matColumnDef=\\\"modifiedOn\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header>编辑日期</mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let row\\\"> {{row.modifiedOn}}</mat-cell>\\n      </ng-container>\\n  \\n      <!-- actions -->\\n      <ng-container matColumnDef=\\\"actions\\\">\\n        <mat-header-cell *matHeaderCellDef>\\n          <button mat-icon-button color=\\\"primary\\\" [routerLink]=\\\"['/heritagedetail']\\\">\\n            <mat-icon aria-label=\\\"Example icon-button with a heart icon\\\">add</mat-icon>\\n          </button>\\n          <button mat-icon-button (click)=\\\"refresh()\\\">\\n            <mat-icon>refresh</mat-icon>\\n          </button>\\n        </mat-header-cell>\\n  \\n        <mat-cell *matCellDef=\\\"let row;\\\">\\n          <button mat-icon-button color=\\\"accent\\\" [routerLink]=\\\"['/heritagedetail', row.id]\\\">\\n            <mat-icon aria-label=\\\"Edit\\\">edit</mat-icon>\\n          </button>\\n\\n          <button mat-icon-button color=\\\"accent\\\" [routerLink]=\\\"['/heritagenav', row.id]\\\">\\n            <mat-icon aria-label=\\\"Explore\\\">explore</mat-icon>\\n          </button>\\n\\n          <button mat-icon-button color=\\\"accent\\\" [routerLink]=\\\"['/heritagedecomment', row.id]\\\">\\n            <mat-icon aria-label=\\\"Comment\\\">comment</mat-icon>\\n          </button>\\n  \\n          <button mat-icon-button color=\\\"accent\\\" (click)=\\\"deleteItem(row.id, row.name)\\\">\\n            <mat-icon aria-label=\\\"Delete\\\">delete</mat-icon>\\n          </button>\\n        </mat-cell>\\n      </ng-container>\\n       \\n      <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\n      <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n    </mat-table>\\n  \\n    <div class=\\\"no-results\\\" [style.display]=\\\"dataSource.renderedData.length == 0 ? '' : 'none'\\\">\\n      No results\\n    </div>\\n  \\n    <mat-paginator #paginator\\n                   [length]=\\\"dataSource.filteredData.length\\\"\\n                   [pageIndex]=\\\"0\\\"\\n                   [pageSize]=\\\"10\\\"\\n                   [pageSizeOptions]=\\\"[5, 10, 25, 100]\\\">\\n    </mat-paginator>\\n  </div>\\n  \"","module.exports = \"/* Structure */\\n.container {\\n  display: flex;\\n  flex-direction: column; }\\n/* Toolbar */\\n.spacer {\\n  flex: 1 1 auto; }\\n/* Filter */\\n.form {\\n  min-height: 56px;\\n  max-height: 56px;\\n  display: flex;\\n  align-items: center;\\n  padding: 8px 24px 0;\\n  font-size: 20px;\\n  justify-content: space-between;\\n  border-bottom: 1px solid transparent; }\\n.mat-form-field {\\n  font-size: 14px;\\n  flex-grow: 1;\\n  margin-top: 8px; }\\n/* Mat table */\\n.no-results {\\n  display: flex;\\n  justify-content: center;\\n  padding: 14px;\\n  font-size: 14px;\\n  font-style: italic; }\\n.mat-cell:nth-child(1),\\n.mat-header-cell:nth-child(1) {\\n  flex: 0 0 6%; }\\n.mat-cell:nth-child(2),\\n.mat-header-cell:nth-child(2) {\\n  flex: 0 0 30%; }\\n.mat-cell:nth-child(3),\\n.mat-header-cell:nth-child(3) {\\n  flex: 0 0 6%; }\\n.mat-cell:nth-child(7),\\n.mat-header-cell:nth-child(7) {\\n  flex: 0 0 7%; }\\n\"","import { Component, ViewChild, OnInit, ElementRef } from '@angular/core';\nimport { HeritageService } from '../_services';\nimport { HttpClient } from '@angular/common/http';\nimport { MatPaginator, MatSort, MatDialog } from '@angular/material';\nimport { IHeritage } from '../_models';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { DataSource } from '@angular/cdk/collections';\nimport 'rxjs/add/observable/merge';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport { ToastrService } from 'ngx-toastr';\nimport { Global } from '../_shared';\nimport { HeritageDeleteDialogComponent } from '../_dialogs';\n\n\n@Component({\n  selector: 'app-heritage-list',\n  templateUrl: './heritage-list.component.html',\n  styleUrls: ['./heritage-list.component.scss']\n})\nexport class HeritageListComponent implements OnInit {\n  displayedColumns = ['id', 'name', 'registrationDistrict', 'registrationYear', 'province', 'typeofProject', 'inheritors', 'presentValue', 'createdOn', 'actions'];\n  //heritageDatabase: HeritageService;\n  dataSource: HeritageDataSource;\n  index: number;\n  id: number;\n  loadingState: boolean;\n  heritages: IHeritage[];\n\n  constructor(public httpClient: HttpClient,\n    public _heritageService: HeritageService,\n    private toastr: ToastrService,\n    public dialog: MatDialog) { }\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild('filter') filter: ElementRef;\n\n  ngOnInit() {\n    this.loadingState = true;\n    this.loadData();\n  }\n\n  refresh() {\n    this.loadingState = true;\n    this.loadData();\n  }\n\n  deleteItem(id: number, name: string) {\n    this.id = id;\n    const dialogRef = this.dialog.open(HeritageDeleteDialogComponent, {\n      data: { id: id, name: name }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === 1) {\n        const foundIndex = this._heritageService.dataChange.value.findIndex(x => x.id === this.id);\n        // for delete we use splice in order to remove single object from DataService\n        this._heritageService.dataChange.value.splice(foundIndex, 1);\n        this.refreshTable();\n      }\n    });\n  }\n\n\n\n  // If you don't need a filter or a pagination this can be simplified, you just use code from else block\n  private refreshTable() {\n\n    // if there's a paginator active we're using it for refresh\n    if (this.dataSource._paginator.hasNextPage()) {\n      this.dataSource._paginator.nextPage();\n      this.dataSource._paginator.previousPage();\n      // in case we're on last page this if will tick\n    } else if (this.dataSource._paginator.hasPreviousPage()) {\n      this.dataSource._paginator.previousPage();\n      this.dataSource._paginator.nextPage();\n      // in all other cases including active filter we do it like this\n    } else {\n      this.dataSource.filter = '';\n      this.dataSource.filter = this.filter.nativeElement.value;\n    }\n\n  }\n\n  public loadData() {\n\n    this.loadingState = false;\n    this._heritageService = new HeritageService(this.httpClient);\n    this.dataSource = new HeritageDataSource(this._heritageService, this.paginator, this.sort);\n    Observable.fromEvent(this.filter.nativeElement, 'keyup')\n      .debounceTime(150)\n      .distinctUntilChanged()\n      .subscribe(() => {\n        if (!this.dataSource) {\n          return;\n        }\n        this.dataSource.filter = this.filter.nativeElement.value;\n      });\n  }\n\n}\n\n\nexport class HeritageDataSource extends DataSource<IHeritage> {\n  _filterChange = new BehaviorSubject('');\n\n  get filter(): string {\n    return this._filterChange.value;\n  }\n\n  set filter(filter: string) {\n    this._filterChange.next(filter);\n  }\n\n  filteredData: IHeritage[] = [];\n  renderedData: IHeritage[] = [];\n\n  constructor(public _heritageService: HeritageService,\n    public _paginator: MatPaginator,\n    public _sort: MatSort) {\n    super();\n    // Reset to the first page when the user changes the filter.\n    this._filterChange.subscribe(() => this._paginator.pageIndex = 0);\n  }\n\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\n  connect(): Observable<IHeritage[]> {\n    // Listen for any changes in the base data, sorting, filtering, or pagination\n    const displayDataChanges = [\n      this._heritageService.dataChange,\n      this._sort.sortChange,\n      this._filterChange,\n      this._paginator.page\n    ];\n\n    this._heritageService.getAllHeritage(Global.BASE_HERITAGE_ENDPOINT + 'getAllHeritage');\n\n    return Observable.merge(...displayDataChanges).map(() => {\n      // Filter data\n      this.filteredData = this._heritageService.data.slice().filter((heritage: IHeritage) => {\n        const searchStr = (heritage.id + heritage.name + heritage.registrationDistrict + heritage.registrationYear).toLowerCase();\n        return searchStr.indexOf(this.filter.toLowerCase()) !== -1;\n      });\n\n      // Sort filtered data\n      const sortedData = this.sortData(this.filteredData.slice());\n\n      // Grab the page's slice of the filtered sorted data.\n      const startIndex = this._paginator.pageIndex * this._paginator.pageSize;\n      this.renderedData = sortedData.splice(startIndex, this._paginator.pageSize);\n      return this.renderedData;\n    });\n  }\n  disconnect() {\n  }\n\n\n\n  /** Returns a sorted copy of the database data. */\n  sortData(data: IHeritage[]): IHeritage[] {\n    if (!this._sort.active || this._sort.direction === '') {\n      return data;\n    }\n\n    return data.sort((a, b) => {\n      let propertyA: number | string = '';\n      let propertyB: number | string = '';\n\n      switch (this._sort.active) {\n        case 'id': [propertyA, propertyB] = [a.id, b.id]; break;\n        case 'name': [propertyA, propertyB] = [a.name, b.name]; break;\n        case 'registrationDistrict': [propertyA, propertyB] = [a.registrationDistrict, b.registrationDistrict]; break;\n        case 'registrationYear': [propertyA, propertyB] = [a.registrationYear, b.registrationYear]; break;\n        case 'province': [propertyA, propertyB] = [a.province, b.province]; break;\n        case 'inheritors': [propertyA, propertyB] = [a.inheritors, b.inheritors]; break;\n      }\n\n      const valueA = isNaN(+propertyA) ? propertyA : +propertyA;\n      const valueB = isNaN(+propertyB) ? propertyB : +propertyB;\n\n      return (valueA < valueB ? -1 : 1) * (this._sort.direction === 'asc' ? 1 : -1);\n    });\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HeritageListComponent } from './heritage-list.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageListRoutes: Routes = [\r\n    { path: 'heritagelist', component: HeritageListComponent, canActivate: [AuthGuard]}\r\n  ];","export * from './heritage-list.component';\r\nexport * from './heritage-list.route';","module.exports = \"<div class=\\\"basic-container\\\" *ngIf=\\\"heritage\\\">\\n\\n  <mat-toolbar>\\n    <span>多模态智能旅游价值评估、旅游活化与利益相关者博弈研究: {{ heritage.name }} </span>\\n    <span class=\\\"spacer\\\"></span>\\n    <button type=\\\"button\\\" mat-button class=\\\"form-save\\\" routerLink=\\\"/heritagelist\\\">返回</button>\\n  </mat-toolbar>\\n\\n  <mat-grid-list cols=\\\"3\\\" rowHeight=\\\"2:2\\\">\\n    <mat-grid-tile>\\n      <div>\\n        <h2>非遗旅游价值评估子系统</h2>\\n        <p>非遗旅游价值=系数1*消费者评估价值+系数2*传承人评估价值+系数3*政府评估价值+系数4*旅游企业评估价值+系数5*非遗专家评估价值。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageevaluation', heritage.id]\\\" role=\\\"button\\\">旅游价值评估\\n            &raquo;</a></p>\\n      </div>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <div>\\n        <h2>非遗利益相关者博弈子系统</h2>\\n        <p>在传统技艺类非物质文化遗产的旅游活化的过程中，涉及的关键利益主体包括传承人、旅游企业、专家、政府以及旅游消费者，不同的利益主体由于利益诉求不同，相互之间形成了复杂的多方利益博弈网络。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageanalysis', heritage.id]\\\" role=\\\"button\\\">利益相关者博弈 &raquo;</a></p>\\n      </div>\\n    </mat-grid-tile>\\n\\n    <mat-grid-tile>\\n      <div>\\n        <h2>非遗活化子系统</h2>\\n        <p>活化模式是基于非遗旅游价值，即上述模型中的因变量提出的。因变量即非遗旅游价值的取值范围能否设成可输入的字段，比如非遗旅游价值的值为3-3.5，选择博物馆展示这种活化模式，但是3和3.5这两个数字由用户手动输入。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageeactivation', heritage.id]\\\" role=\\\"button\\\">活化 &raquo;</a></p>\\n      </div>\\n    </mat-grid-tile>\\n  </mat-grid-list>\\n</div>\\n\\n<!--\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-4\\\">\\n        <h2>非遗旅游价值评估子系统</h2>\\n        <p>非遗旅游价值=系数1*消费者评估价值+系数2*传承人评估价值+系数3*政府评估价值+系数4*旅游企业评估价值+系数5*非遗专家评估价值。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageevaluation', heritage.id]\\\" role=\\\"button\\\">旅游价值评估\\n            &raquo;</a></p>\\n      </div>\\n      <div class=\\\"col-md-4\\\">\\n        <h2>非遗利益相关者博弈子系统</h2>\\n        <p>在传统技艺类非物质文化遗产的旅游活化的过程中，涉及的关键利益主体包括传承人、旅游企业、专家、政府以及旅游消费者，不同的利益主体由于利益诉求不同，相互之间形成了复杂的多方利益博弈网络。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageanalysis', heritage.id]\\\" role=\\\"button\\\">利益相关者博弈 &raquo;</a></p>\\n      </div>\\n      <div class=\\\"col-md-4\\\">\\n        <h2>非遗活化子系统</h2>\\n        <p>活化模式是基于非遗旅游价值，即上述模型中的因变量提出的。因变量即非遗旅游价值的取值范围能否设成可输入的字段，比如非遗旅游价值的值为3-3.5，选择博物馆展示这种活化模式，但是3和3.5这两个数字由用户手动输入。</p>\\n        <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritageeactivation', heritage.id]\\\" role=\\\"button\\\">活化 &raquo;</a></p>\\n      </div>\\n    </div>\\n\\n  </div>\\n  -->\"","module.exports = \".spacer {\\n  flex: 1 1 auto; }\\n\\n.example-headers-align .mat-expansion-panel-header-title,\\n.example-headers-align .mat-expansion-panel-header-description {\\n  flex-basis: 0; }\\n\\n.example-headers-align .mat-expansion-panel-header-description {\\n  justify-content: space-between;\\n  align-items: center; }\\n\\n.basic-container {\\n  padding-left: 15%;\\n  padding-right: 15%;\\n  padding-top: 1%;\\n  padding-bottom: 2%; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { IHeritage } from '../_models';\nimport { HeritageService } from '../_services';\nimport { Global } from '../_shared';\n\n@Component({\n  selector: 'app-heritage-nav',\n  templateUrl: './heritage-nav.component.html',\n  styleUrls: ['./heritage-nav.component.scss']\n})\nexport class HeritageNavComponent implements OnInit {\n\n  heritage: IHeritage;\n  param:any;\n\n  constructor(private route: ActivatedRoute,\n    private heritageService: HeritageService) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.param = params['id'];\n      // check if ID exists in route & call update or add methods accordingly\n      if (this.param && this.param != null && this.param != undefined) {\n        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(\n          result => {\n            this.heritage = result;\n          }\n        )\n      }\n    });\n  }\n\n}\n","import { Routes } from '@angular/router';\r\nimport { HeritageNavComponent } from './heritage-nav.component';\r\nimport { AuthGuard } from '../_guards';\r\n\r\n// Route Configuration\r\nexport const heritageNavRoutes: Routes = [\r\n    { path: 'heritagenav/:id', component: HeritageNavComponent, canActivate: [AuthGuard] }\r\n  ];","export * from './login.component';","module.exports = \"<mat-card class=\\\"login-card\\\">\\n    <alert></alert>\\n    <mat-card-content>\\n        <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"username\\\">用户名</label>\\n                <input type=\\\"text\\\" formControlName=\\\"username\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.username.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.username.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.username.errors.required\\\">请提供用户名</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"password\\\">密码</label>\\n                <input type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.password.errors.required\\\">请提供密码</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">登录</button>\\n                <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n                <a [routerLink]=\\\"['/register']\\\" class=\\\"btn btn-link\\\">注册</a>\\n            </div>\\n        </form>\\n    </mat-card-content>\\n</mat-card>\"","module.exports = \".login-card {\\n  max-width: 600px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 100px;\\n  margin-bottom: 100px; }\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport { Global } from '../_shared';\nimport { AlertService, AuthenticationService } from '../_services';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup;\n  loading = false;\n  submitted = false;\n  returnUrl: string;\n\n  constructor(\n      private formBuilder: FormBuilder,\n      private route: ActivatedRoute,\n      private router: Router,\n      private authenticationService: AuthenticationService,\n      private alertService: AlertService) {}\n\n  ngOnInit() {\n      this.loginForm = this.formBuilder.group({\n        username: ['', Validators.required],\n        password: ['', Validators.required]\n      });\n\n      // reset login status\n      this.authenticationService.logout();\n\n      // get return url from route parameters or default to '/'\n      this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n  }\n\n  // convenience getter for easy access to form fields\n  get f() { return this.loginForm.controls; }\n\n  onSubmit() {\n      this.submitted = true;\n\n      // stop here if form is invalid\n      if (this.loginForm.invalid) {\n          return;\n      }\n\n      this.loading = true;\n      this.authenticationService.login( Global.BASE_USER_ENDPOINT +'authenticate', this.f.username.value, this.f.password.value)\n          .pipe(first())\n          .subscribe(\n              data => {\n                  this.router.navigate([this.returnUrl]);\n              },\n              error => {\n                  this.alertService.error(error);\n                  this.loading = false;\n              });\n  }\n\n  getUrl() {\n    return \"url('../../assets/images/background.jpg')\";\n  }\n\n}\n","export * from './register.component';","module.exports = \"<mat-card class=\\\"register-card\\\">\\n    <alert></alert>\\n    <mat-card-content>\\n        <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"firstName\\\">名</label>\\n                <input type=\\\"text\\\" formControlName=\\\"firstName\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.firstName.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.firstName.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.firstName.errors.required\\\">请提供名</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"lastName\\\">姓</label>\\n                <input type=\\\"text\\\" formControlName=\\\"lastName\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.lastName.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.lastName.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.lastName.errors.required\\\">请提供姓</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"username\\\">用户名</label>\\n                <input type=\\\"text\\\" formControlName=\\\"username\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.username.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.username.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.username.errors.required\\\">请提供用户名</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <label for=\\\"password\\\">密码</label>\\n                <input type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\" />\\n                <div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"invalid-feedback\\\">\\n                    <div *ngIf=\\\"f.password.errors.required\\\">请提供密码</div>\\n                    <div *ngIf=\\\"f.password.errors.minlength\\\">Password must be at least 6 characters</div>\\n                </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n                <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">注册</button>\\n                <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n                <a [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link\\\">取消</a>\\n            </div>\\n        </form>\\n    </mat-card-content>\\n</mat-card>\"","module.exports = \".register-card {\\n  max-width: 600px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 100px;\\n  margin-bottom: 100px; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport { Global } from '../_shared';\nimport { AlertService, UserService } from '../_services';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  registerForm: FormGroup;\n  loading = false;\n  submitted = false;\n  constructor(\n      private formBuilder: FormBuilder,\n      private router: Router,\n      private userService: UserService,\n      private alertService: AlertService) { }\n\n  ngOnInit() {\n      this.registerForm = this.formBuilder.group({\n        firstName: ['', Validators.required],\n        lastName: ['', Validators.required],\n        username: ['', Validators.required],\n        password: ['', [Validators.required, Validators.minLength(6)]]\n      });\n  }\n\n  // convenience getter for easy access to form fields\n  get f() { return this.registerForm.controls; }\n\n  onSubmit() {\n      this.submitted = true;\n\n      // stop here if form is invalid\n      if (this.registerForm.invalid) {\n          return;\n      }\n\n      this.loading = true;\n      this.userService.register(Global.BASE_USER_ENDPOINT +'register', this.registerForm.value)\n            .pipe(first())\n            .subscribe(\n                data => {\n                    this.alertService.success('用户注册成功', true);\n                    this.router.navigate(['/login']);\n                },\n                error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n  }\n\n}\n","module.exports = \"\\n<div class=\\\"tblcontainer mat-elevation-z8\\\">\\n\\n  <div class=\\\"form\\\">\\n    <mat-form-field floatPlaceholder=\\\"never\\\" color=\\\"accent\\\">\\n      <input matInput #filter placeholder=\\\"Filter users\\\">\\n    </mat-form-field>\\n  </div>\\n\\n  <mat-table #table [dataSource]=\\\"dataSource\\\" matSort class=\\\"mat-cell\\\">\\n\\n    <!--- Note that these columns can be defined in any order.\\n          The actual rendered columns are set as a property on the row definition\\\" -->\\n\\n    <!-- ID Column -->\\n    <ng-container matColumnDef=\\\"id\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>编号</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\" >{{row.id}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"userName\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>用户名</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.userName}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"firstName\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>名</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.firstName}}</mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"lastName\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>姓</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\"> {{row.lastName}}</mat-cell>\\n    </ng-container>\\n    \\n    <ng-container matColumnDef=\\\"isReadOnly\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>只读</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n          <mat-checkbox [disabled]=\\\"true\\\" [checked]=\\\"row.isReadOnly\\\"></mat-checkbox>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"canComment\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>评论</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n        <mat-checkbox [disabled]=\\\"true\\\" [checked]=\\\"row.canComment\\\"></mat-checkbox>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"isContributer\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>编辑</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n          <mat-checkbox [disabled]=\\\"true\\\" [checked]=\\\"row.isContributer\\\"></mat-checkbox>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"isAdmin\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header>管理</mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let row\\\">\\n          <mat-checkbox [disabled]=\\\"true\\\" [checked]=\\\"row.isAdmin\\\"></mat-checkbox>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <!-- actions -->\\n    <ng-container matColumnDef=\\\"actions\\\">\\n      <mat-header-cell *matHeaderCellDef>\\n        <button mat-icon-button color=\\\"primary\\\" (click)=\\\"addNew()\\\">\\n          <mat-icon aria-label=\\\"Example icon-button with a heart icon\\\">add</mat-icon>\\n        </button>\\n        <button mat-icon-button (click)=\\\"refresh()\\\">\\n          <mat-icon>refresh</mat-icon>\\n        </button>\\n      </mat-header-cell>\\n\\n      <mat-cell *matCellDef=\\\"let row;\\\">\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"startEdit(row.id, row.userName, row.firstName, row.lastName, row.isReadOnly, row.canComment, row.isContributer, row.isAdmin)\\\">\\n          <mat-icon aria-label=\\\"Edit\\\">edit</mat-icon>\\n        </button>\\n\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"deleteItem(row.id, row.userName, row.firstName, row.lastName, row.isReadOnly, row.canComment, row.isContributer, row.isAdmin)\\\">\\n          <mat-icon aria-label=\\\"Delete\\\">delete</mat-icon>\\n        </button>\\n      </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n  </mat-table>\\n\\n\\n  <div class=\\\"no-results\\\" [style.display]=\\\"dataSource.renderedData.length == 0 ? '' : 'none'\\\">\\n    No results\\n  </div>\\n\\n  <mat-paginator #paginator\\n                 [length]=\\\"dataSource.filteredData.length\\\"\\n                 [pageIndex]=\\\"0\\\"\\n                 [pageSize]=\\\"10\\\"\\n                 [pageSizeOptions]=\\\"[5, 10, 25, 100]\\\">\\n  </mat-paginator>\\n</div>\\n\"","module.exports = \".spinner {\\n  top: 45%;\\n  left: 47%;\\n  position: fixed; }\\n\\n.contactlist-container, #paginator {\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 300px;\\n  max-width: 1200px;\\n  max-height: 700px;\\n  overflow: auto;\\n  margin: 0 auto; }\\n\\n/* Toolbar */\\n\\n.spacer {\\n  flex: 1 1 auto; }\\n\"","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog, MatPaginator, MatSort, MatTableDataSource} from '@angular/material';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DataSource } from '@angular/cdk/collections';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { AddDialogComponent, EditDialogComponent, DeleteDialogComponent} from '../_dialogs';\r\nimport { UserService } from '../_services';\r\nimport { Global } from '../_shared';\r\nimport { IUser } from '../_models';\r\n\r\n@Component({\r\n  selector: 'app-user-list',\r\n  templateUrl: './user-list.component.html',\r\n  styleUrls: ['./user-list.component.scss']\r\n})\r\nexport class UserListComponent implements OnInit {\r\n  loadingState: boolean;\r\n  displayedColumns = ['userName', 'firstName', 'lastName', 'isReadOnly', 'canComment', 'isContributer', 'isAdmin', 'actions'];\r\n  userService: UserService | null;\r\n  dataSource: UserDataSource | null;\r\n  index: number;\r\n  id: number;\r\n\r\n  constructor(public httpClient: HttpClient,\r\n              public dialog: MatDialog,\r\n              public _userService: UserService) {}\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  @ViewChild('filter') filter: ElementRef;\r\n\r\n  ngOnInit() {\r\n    this.loadingState = true;\r\n    this.loadData();\r\n  }\r\n\r\n  refresh() {\r\n    this.loadingState = true;\r\n    this.loadData();\r\n  }\r\n\r\n  \r\n  addNew(user: IUser) {\r\n    const dialogRef = this.dialog.open(AddDialogComponent, {\r\n      data: {user: user }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        // After dialog is closed we're doing frontend updates\r\n        // For add we're just pushing a new row inside DataService\r\n        this.userService.dataChange.value.push(dialogRef.componentInstance.newUser);\r\n        this.refreshTable();\r\n      }\r\n    });\r\n  }\r\n\r\n  startEdit(id: number, userName: string, firstName: string, lastName: string, isReadOnly: boolean, canComment: boolean, isContributer: boolean, isAdmin: boolean) {\r\n    this.id = id;\r\n    // index row is used just for debugging proposes and can be removed\r\n    console.log(this.id);\r\n    const dialogRef = this.dialog.open(EditDialogComponent, {\r\n      data: {id: id, userName: userName, firstName: firstName, lastName: lastName, isReadOnly: isReadOnly, canComment: canComment, isContributer: isContributer, isAdmin: isAdmin}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        // When using an edit things are little different, firstly we find record inside DataService by id\r\n        const foundIndex = this.userService.dataChange.value.findIndex(x => x.id === this.id);\r\n        // Then you update that record using data from dialogData (values you enetered)\r\n        this.userService.dataChange.value[foundIndex] = dialogRef.componentInstance.user;\r\n        // And lastly refresh table\r\n        this.refreshTable();\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteItem(id: number, userName: string, firstName: string, lastName: string, isReadOnly: boolean, canComment: boolean, isContributer: boolean, isAdmin: boolean) {\r\n    this.id = id;\r\n    const dialogRef = this.dialog.open(DeleteDialogComponent, {\r\n      data: {id: id, userName: userName, firstName: firstName, lastName: lastName, isReadOnly: isReadOnly, canComment: canComment, isContributer: isContributer, isAdmin: isAdmin}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result === 1) {\r\n        const foundIndex = this.userService.dataChange.value.findIndex(x => x.id === this.id);\r\n        // for delete we use splice in order to remove single object from DataService\r\n        this.userService.dataChange.value.splice(foundIndex, 1);\r\n        this.refreshTable();\r\n      }\r\n    });\r\n  }\r\n  \r\n  // If you don't need a filter or a pagination this can be simplified, you just use code from else block\r\n  private refreshTable() {\r\n    // if there's a paginator active we're using it for refresh\r\n    if (this.dataSource._paginator.hasNextPage()) {\r\n      this.dataSource._paginator.nextPage();\r\n      this.dataSource._paginator.previousPage();\r\n      // in case we're on last page this if will tick\r\n    } else if (this.dataSource._paginator.hasPreviousPage()) {\r\n      this.dataSource._paginator.previousPage();\r\n      this.dataSource._paginator.nextPage();\r\n      // in all other cases including active filter we do it like this\r\n    } else {\r\n      this.dataSource.filter = '';\r\n      this.dataSource.filter = this.filter.nativeElement.value;\r\n    }\r\n  }\r\n\r\n  public loadData() {\r\n    this.loadingState = false;\r\n    this.userService = new UserService(this.httpClient);\r\n    this.dataSource = new UserDataSource(this.userService, this.paginator, this.sort);\r\n    Observable.fromEvent(this.filter.nativeElement, 'keyup')\r\n      .debounceTime(150)\r\n      .distinctUntilChanged()\r\n      .subscribe(() => {\r\n        if (!this.dataSource) {\r\n          return;\r\n        }\r\n        this.dataSource.filter = this.filter.nativeElement.value;\r\n      });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class UserDataSource extends DataSource<IUser> {\r\n  _filterChange = new BehaviorSubject('');\r\n\r\n  get filter(): string {\r\n    return this._filterChange.value;\r\n  }\r\n\r\n  set filter(filter: string) {\r\n    this._filterChange.next(filter);\r\n  }\r\n\r\n  filteredData: IUser[] = [];\r\n  renderedData: IUser[] = [];\r\n\r\n  constructor(public _userDatabase: UserService,\r\n              public _paginator: MatPaginator,\r\n              public _sort: MatSort) {\r\n    super();\r\n    // Reset to the first page when the user changes the filter.\r\n    this._filterChange.subscribe(() => this._paginator.pageIndex = 0);\r\n  }\r\n\r\n  /** Connect function called by the table to retrieve one stream containing the data to render. */\r\n  connect(): Observable<IUser[]> {\r\n    // Listen for any changes in the base data, sorting, filtering, or pagination\r\n    const displayDataChanges = [\r\n      this._userDatabase.dataChange,\r\n      this._sort.sortChange,\r\n      this._filterChange,\r\n      this._paginator.page\r\n    ];\r\n\r\n    this._userDatabase.getAllUsers(Global.BASE_USER_ENDPOINT + 'getAllUser');\r\n\r\n      return Observable.merge(...displayDataChanges).map(() => {\r\n      // Filter data\r\n      this.filteredData = this._userDatabase.data.slice().filter((user: IUser) => {\r\n        const searchStr = (user.id.toString() + user.userName).toLowerCase();\r\n        return searchStr.indexOf(this.filter.toLowerCase()) !== -1;\r\n      });\r\n\r\n      // Sort filtered data\r\n      const sortedData = this.sortData(this.filteredData.slice());\r\n\r\n      // Grab the page's slice of the filtered sorted data.\r\n      const startIndex = this._paginator.pageIndex * this._paginator.pageSize;\r\n      this.renderedData = sortedData.splice(startIndex, this._paginator.pageSize);\r\n      return this.renderedData;\r\n      });\r\n    }\r\n  disconnect() {\r\n  }\r\n\r\n\r\n\r\n  /** Returns a sorted copy of the database data. */\r\n  sortData(data: IUser[]): IUser[] {\r\n    if (!this._sort.active || this._sort.direction === '') {\r\n      return data;\r\n    }\r\n\r\n    return data.sort((a, b) => {\r\n      let propertyA: number | string = '';\r\n      let propertyB: number | string = '';\r\n\r\n      switch (this._sort.active) {\r\n        case 'id': [propertyA, propertyB] = [a.id, b.id]; break;\r\n        case 'userName': [propertyA, propertyB] = [a.userName, b.userName]; break;  \r\n      }\r\n\r\n      const valueA = isNaN(+propertyA) ? propertyA : +propertyA;\r\n      const valueB = isNaN(+propertyB) ? propertyB : +propertyB;\r\n\r\n      return (valueA < valueB ? -1 : 1) * (this._sort.direction === 'asc' ? 1 : -1);\r\n    });\r\n  }\r\n}\r\n","export * from './welcome.component';","module.exports = \"    <!-- Main jumbotron for a primary marketing message or call to action -->\\n    <div class=\\\"container\\\">\\n        <mat-card class=\\\"welcome-picture-card\\\">           \\n            <img mat-card-image src=\\\"../../assets/images/background.jpg\\\" alt=\\\"Heritage Photo\\\">\\n        </mat-card>\\n      </div>\\n  \\n      <div class=\\\"container\\\">\\n        <!-- Example row of columns -->\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-4\\\">\\n            <h2>非物质文化遗产</h2>\\n            <p>请在这里提供对非物质文化遗产的定义</p>\\n            <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritagedetail']\\\" role=\\\"button\\\">新建 &raquo;</a></p>\\n          </div>\\n          <div class=\\\"col-md-4\\\">\\n            <h2>非遗列表</h2>\\n            <p>非遗列表提供对系统中所有非物质文化遗产的浏览，评论，添加，修改及删除等基本功能。另外也提供了旅游价值评估，利益相关者博弈以及非遗活化3个子系统的入口。</p>\\n            <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/heritagelist']\\\" role=\\\"button\\\">浏览列表 &raquo;</a></p>\\n         </div>\\n          <div class=\\\"col-md-4\\\" *ngIf = \\\"userService.canEdit()\\\">\\n            <h2>活化模式列表</h2>\\n            <p>活化模式列表提供对系统中的活化模式进行浏览，添加，修改及删除等基本功能。</p>\\n            <p><a class=\\\"btn btn-secondary\\\" [routerLink]=\\\"['/activationmodelist']\\\" role=\\\"button\\\">浏览列表 &raquo;</a></p>\\n          </div>\\n        </div>\\n       \\n      </div> <!-- /container -->\\n      \\n\"","module.exports = \".welcome-picture-card {\\n  max-width: 1200px; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { first } from 'rxjs/operators';\n\nimport { IUser } from '../_models';\nimport { UserService } from '../_services';\n\n@Component({\n  selector: 'app-welcome',\n  templateUrl: './welcome.component.html',\n  styleUrls: ['./welcome.component.scss']\n})\nexport class WelcomeComponent implements OnInit {\n  currentUser: IUser;\n  users: IUser[] = [];\n\n  constructor(private userService: UserService) {\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n   }\n\n  ngOnInit() {}\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:4000'\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}