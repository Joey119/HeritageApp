<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>herritage-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">herritage-app documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>HeritageAnalysisComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/heritage-analysis/heritage-analysis.component.ts</code>
</p>



    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-heritage-analysis</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./heritage-analysis.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./heritage-analysis.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#bestRoute">bestRoute</a>
                            </li>
                            <li>
                                <a href="#decisionTree">decisionTree</a>
                            </li>
                            <li>
                                <a href="#expandingTree">expandingTree</a>
                            </li>
                            <li>
                                <a href="#heritage">heritage</a>
                            </li>
                            <li>
                                <a href="#heritageGameAnalysis">heritageGameAnalysis</a>
                            </li>
                            <li>
                                <a href="#param">param</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#analyse">analyse</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#expandRecursive">expandRecursive</a>
                            </li>
                            <li>
                                <a href="#loadTree">loadTree</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onSubmit">onSubmit</a>
                            </li>
                            <li>
                                <a href="#showError">showError</a>
                            </li>
                            <li>
                                <a href="#showSuccess">showSuccess</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(route: <a href="https://angular.io/api/router/ActivatedRoute" target="_blank">ActivatedRoute</a>, heritageService: <a href="../injectables/HeritageService.html">HeritageService</a>, heritageGameAnalysisService: <a href="../injectables/HeritageGameAnalysisService.html">HeritageGameAnalysisService</a>, userService: <a href="../injectables/UserService.html">UserService</a>, toastr: ToastrService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:25</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/router/ActivatedRoute" target="_blank" >ActivatedRoute</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>heritageService</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/HeritageService.html" target="_self" >HeritageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>heritageGameAnalysisService</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/HeritageGameAnalysisService.html" target="_self" >HeritageGameAnalysisService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                    <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>toastr</td>
                                                  
                                                        <td>
                                                                    <code>ToastrService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="analyse"></a>
                        <span class="name">
                            <b>
                            analyse
                            </b>
                            <a href="#analyse"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>analyse()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="161" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:161</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="expandRecursive"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            expandRecursive
                            </b>
                            <a href="#expandRecursive"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                            <span class="modifier-icon icon ion-ios-reset"></span>
                        <code>expandRecursive(node: TreeNode, isExpand: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="340" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:340</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>node</td>
                                                        <td>
                                                                    <code>TreeNode</code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                                <tr>
                                                        <td>isExpand</td>
                                                        <td>
                                                                    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                                        </td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadTree"></a>
                        <span class="name">
                            <b>
                            loadTree
                            </b>
                            <a href="#loadTree"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>loadTree()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="183" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:183</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="ngOnInit"></a>
                        <span class="name">
                            <b>
                            ngOnInit
                            </b>
                            <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>ngOnInit()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:34</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onSubmit"></a>
                        <span class="name">
                            <b>
                            onSubmit
                            </b>
                            <a href="#onSubmit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>onSubmit()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="113" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:113</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showError"></a>
                        <span class="name">
                            <b>
                            showError
                            </b>
                            <a href="#showError"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>showError()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="179" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:179</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showSuccess"></a>
                        <span class="name">
                            <b>
                            showSuccess
                            </b>
                            <a href="#showSuccess"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>showSuccess()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="175" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:175</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="bestRoute"></a>
                        <span class="name">
                            <b>
                            bestRoute
                            </b>
                            <a href="#bestRoute"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>bestRoute:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="decisionTree"></a>
                        <span class="name">
                            <b>
                            decisionTree
                            </b>
                            <a href="#decisionTree"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>decisionTree:     <code>TreeNode[]</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>TreeNode[]</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:25</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="expandingTree"></a>
                        <span class="name">
                            <b>
                            expandingTree
                            </b>
                            <a href="#expandingTree"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>expandingTree:     <code>Tree</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Tree</code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <b>Decorators : </b>
                            <br />
                            <code>
                                @ViewChild(&#x27;expandingTree&#x27;)<br />
                            </code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:24</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heritage"></a>
                        <span class="name">
                            <b>
                            heritage
                            </b>
                            <a href="#heritage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>heritage:     <code><a href="../interfaces/IHeritage.html" target="_self" >IHeritage</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../interfaces/IHeritage.html" target="_self" >IHeritage</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:17</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="heritageGameAnalysis"></a>
                        <span class="name">
                            <b>
                            heritageGameAnalysis
                            </b>
                            <a href="#heritageGameAnalysis"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>heritageGameAnalysis:     <code><a href="../interfaces/IHeritageGameAnalysis.html" target="_self" >IHeritageGameAnalysis</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="../interfaces/IHeritageGameAnalysis.html" target="_self" >IHeritageGameAnalysis</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:18</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="param"></a>
                        <span class="name">
                            <b>
                            param
                            </b>
                            <a href="#param"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>param:     <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/heritage-analysis/heritage-analysis.component.ts:19</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, ViewChild } from &#x27;@angular/core&#x27;;
import { ActivatedRoute } from &quot;@angular/router&quot;;
import { Tree } from &#x27;primeng/tree&#x27;;
import { TreeNode } from &#x27;primeng/api&#x27;;
import { ToastrService } from &#x27;ngx-toastr&#x27;;
import { IHeritage, IHeritageGameAnalysis } from &#x27;../_models&#x27;;
import { HeritageService, UserService, HeritageGameAnalysisService } from &#x27;../_services&#x27;;
import { Global } from &#x27;../_shared&#x27;;

@Component({
  selector: &#x27;app-heritage-analysis&#x27;,
  templateUrl: &#x27;./heritage-analysis.component.html&#x27;,
  styleUrls: [&#x27;./heritage-analysis.component.scss&#x27;]
})
export class HeritageAnalysisComponent implements OnInit {

  heritage: IHeritage;
  heritageGameAnalysis: IHeritageGameAnalysis;
  param: any;
  bestRoute: string;


  @ViewChild(&#x27;expandingTree&#x27;)
  expandingTree: Tree;
  decisionTree: TreeNode[];


  constructor(private route: ActivatedRoute,
    private heritageService: HeritageService,
    private heritageGameAnalysisService: HeritageGameAnalysisService,
    private userService: UserService,
    private toastr: ToastrService) { }

  ngOnInit() {
    this.route.params.subscribe(params &#x3D;&gt; {
      this.param &#x3D; params[&#x27;id&#x27;];
      // check if ID exists in route &amp; call update or add methods accordingly
      if (this.param &amp;&amp; this.param !&#x3D; null &amp;&amp; this.param !&#x3D; undefined) {
        this.heritageService.getHeritage(Global.BASE_HERITAGE_ENDPOINT + this.param).subscribe(
          result &#x3D;&gt; {
            this.heritage &#x3D; result;

            if (this.heritage.heritageGameAnalysisId &amp;&amp; this.heritage.heritageGameAnalysisId !&#x3D; null &amp;&amp; this.heritage.heritageGameAnalysisId !&#x3D; undefined) {
              this.heritageGameAnalysisService.getHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + this.heritage.heritageGameAnalysisId).subscribe(
                data &#x3D;&gt; {
                  this.heritageGameAnalysis &#x3D; data;
                  this.loadTree();
                }
              )
            }
            else {
              this.heritageGameAnalysis &#x3D; {
                id: 0,
                heritageId: this.heritage.id,
                ciA: undefined,
                ciB: undefined,
                ii: undefined,
                piA: undefined,
                piB: undefined,
                vi5A: undefined,
                vi5B: undefined,
                vi4A: undefined,
                vi4B: undefined,
                vi3A: undefined,
                vi3B: undefined,
                vi1: undefined,
                ai4: undefined,
                ai3: undefined,
                ai2: undefined,
                aij: undefined,
                ai1: undefined,

                route1: &#x27;&#x27;,
                route2: &#x27;&#x27;,
                route3: &#x27;&#x27;,
                route4: &#x27;&#x27;,
                route5: &#x27;&#x27;,
                route6: &#x27;&#x27;,
                route7: &#x27;&#x27;,
                route8: &#x27;&#x27;,
                route9: &#x27;&#x27;,
                route10: &#x27;&#x27;,
                route11: &#x27;&#x27;,
                route12: &#x27;&#x27;,
                route13: &#x27;&#x27;,
                route14: &#x27;&#x27;,
                route15: &#x27;&#x27;,
                route16: &#x27;&#x27;,
                route17: &#x27;&#x27;,
                route18: &#x27;&#x27;,
                route19: &#x27;&#x27;,
                route20: &#x27;&#x27;,
                route21: &#x27;&#x27;,
                route22: &#x27;&#x27;,
                route23: &#x27;&#x27;,
                route24: &#x27;&#x27;,
                createdUserId: 0,
                createdUserName: &#x27;&#x27;,
                createdOn: undefined,
                modifiedUserId: 0,
                modifiedUserName: &#x27;&#x27;,
                modifiedOn: undefined
              }
              this.loadTree();
            }
          }
        )
      }
    });

  }

  onSubmit() {

    if (!this.userService.canEdit())
    {
      this.toastr.error(&quot;您没有添加或修改非物质文化遗产的权限。&quot;,&quot;权限验证失败&quot;)
      return;
    }

    var userId &#x3D; this.userService.currentUserId();
    if (this.heritageGameAnalysis.id !&#x3D; 0) {
      this.heritageGameAnalysis.modifiedUserId &#x3D; userId;
      this.heritageGameAnalysisService.updateHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + this.heritageGameAnalysis.id, this.heritageGameAnalysis)
        .subscribe(
          data &#x3D;&gt; {
            this.heritageGameAnalysis &#x3D; data;
            this.loadTree();
            this.showSuccess();
          },
          error &#x3D;&gt; {
            this.showError();
          }
        );
    }
    else {
      this.heritageGameAnalysis.createdUserId &#x3D; userId;
      this.heritageGameAnalysis.modifiedUserId &#x3D; userId;
      this.heritageGameAnalysisService.addHeritageGameAnalysis(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT, this.heritageGameAnalysis)
        .subscribe(
          data &#x3D;&gt; {
            this.heritageGameAnalysis &#x3D; data;
            this.heritage.heritageGameAnalysisId &#x3D; this.heritageGameAnalysis.id;
            this.heritageService.updateHeritage(Global.BASE_HERITAGE_ENDPOINT + this.heritage.id, this.heritage)
              .subscribe(
                result &#x3D;&gt; {
                  this.heritage &#x3D; result;
                  this.loadTree();
                  this.showSuccess();
                }
              )
          },
          error &#x3D;&gt; {
            this.showError();
          }
        );
    }

  }

  analyse() {

    if (this.heritage.heritageGameAnalysisId &amp;&amp; this.heritage.heritageGameAnalysisId !&#x3D; null &amp;&amp; this.heritage.heritageGameAnalysisId !&#x3D; undefined) {
      this.heritageGameAnalysisService.getHeritageAnalysisBestRoute(Global.BASE_HERITAGE_GAME_ANALYSIS_ENDPOINT + &#x27;getHeritageAnalysisBestRoute/&#x27; + this.heritage.heritageGameAnalysisId).subscribe(
        res &#x3D;&gt; {
          this.bestRoute &#x3D; &quot;最优路径为: &quot; + &quot;R&quot; + res.id + &quot;: { &quot; + res.routeValue + &quot; }&quot;;          
        }
      );
    }
    else {
      this.toastr.error(&#x27;请先进行利益相关者博弈计算并保存。&#x27;, &#x27;分析失败&#x27;);
    }
  }

  showSuccess() {
    this.toastr.success(&#x27;利益相关者博弈计算及保存成功。&#x27;, &#x27;操作成功&#x27;);
  }

  showError() {
    this.toastr.error(&#x27;利益相关者博弈计算及保存失败。&#x27;, &#x27;操作失败&#x27;);
  }

  loadTree() {
    this.decisionTree &#x3D; [
      {
        &quot;label&quot;: &quot;传承人&quot;,
        &quot;children&quot;: [
          {
            &quot;label&quot;: &quot;专家&quot;,
            &quot;children&quot;: [{
              &quot;label&quot;: &quot;政府&quot;,
              &quot;children&quot;: [{
                &quot;label&quot;: &quot;消费者&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;R1 { &quot; + this.heritageGameAnalysis.route1 + &quot; }&quot;
                },
                {
                  &quot;label&quot;: &quot;R2 { &quot; + this.heritageGameAnalysis.route2 + &quot; }&quot;
                }]
              },
              {
                &quot;label&quot;: &quot;消费者&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;R3 { &quot; + this.heritageGameAnalysis.route3 + &quot; }&quot;
                },
                {
                  &quot;label&quot;: &quot;R4 { &quot; + this.heritageGameAnalysis.route4 + &quot; }&quot;
                }]
              }]
            },
            {
              &quot;label&quot;: &quot;政府&quot;,
              &quot;children&quot;: [{
                &quot;label&quot;: &quot;消费者&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;R5 { &quot; + this.heritageGameAnalysis.route5 + &quot; }&quot;
                },
                {
                  &quot;label&quot;: &quot;R6 { &quot; + this.heritageGameAnalysis.route6 + &quot; }&quot;
                }]
              },
              {
                &quot;label&quot;: &quot;消费者&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;R7 { &quot; + this.heritageGameAnalysis.route7 + &quot; }&quot;
                },
                {
                  &quot;label&quot;: &quot;R8 { &quot; + this.heritageGameAnalysis.route8 + &quot; }&quot;
                }]
              }]
            }]
          },
          {
            &quot;label&quot;: &quot;企业&quot;,
            &quot;children&quot;: [{
              &quot;label&quot;: &quot;专家&quot;,
              &quot;children&quot;: [{
                &quot;label&quot;: &quot;政府&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R9 { &quot; + this.heritageGameAnalysis.route9 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R10 { &quot; + this.heritageGameAnalysis.route10 + &quot; }&quot;
                  }]
                },
                {
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R11 { &quot; + this.heritageGameAnalysis.route11 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R12 { &quot; + this.heritageGameAnalysis.route12 + &quot; }&quot;
                  }]
                }]
              },
              {
                &quot;label&quot;: &quot;政府&quot;,
                &quot;data&quot;: &quot;Home Folder&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R13 { &quot; + this.heritageGameAnalysis.route13 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R14 { &quot; + this.heritageGameAnalysis.route14 + &quot; }&quot;
                  }]
                },
                {
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R15 { &quot; + this.heritageGameAnalysis.route15 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R16 { &quot; + this.heritageGameAnalysis.route16 + &quot; }&quot;
                  }]
                }]
              }]
            },
            {
              &quot;label&quot;: &quot;专家&quot;,
              &quot;data&quot;: &quot;De Niro Movies&quot;,
              &quot;children&quot;: [{
                &quot;label&quot;: &quot;政府&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R17 { &quot; + this.heritageGameAnalysis.route17 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R18 { &quot; + this.heritageGameAnalysis.route18 + &quot; }&quot;
                  }]
                },
                {
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R19 { &quot; + this.heritageGameAnalysis.route19 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R20 { &quot; + this.heritageGameAnalysis.route20 + &quot; }&quot;
                  }]
                }]
              },
              {
                &quot;label&quot;: &quot;政府&quot;,
                &quot;data&quot;: &quot;Home Folder&quot;,
                &quot;children&quot;: [{
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R21 { &quot; + this.heritageGameAnalysis.route21 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R22 { &quot; + this.heritageGameAnalysis.route22 + &quot; }&quot;
                  }]
                },
                {
                  &quot;label&quot;: &quot;消费者&quot;,
                  &quot;children&quot;: [{
                    &quot;label&quot;: &quot;R23 { &quot; + this.heritageGameAnalysis.route23 + &quot; }&quot;
                  },
                  {
                    &quot;label&quot;: &quot;R24 { &quot; + this.heritageGameAnalysis.route24 + &quot; }&quot;
                  }]
                }]
              }]
            }]
          }

        ]
      }

    ]

    this.decisionTree.forEach(node &#x3D;&gt; {
      this.expandRecursive(node, true);
    });
  }

  private expandRecursive(node: TreeNode, isExpand: boolean) {
    node.expanded &#x3D; isExpand;
    if (node.children) {
      node.children.forEach(childNode &#x3D;&gt; {
        this.expandRecursive(childNode, isExpand);
      });
    }
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;basic-container&quot; *ngIf&#x3D;&quot;heritage&quot;&gt;

  &lt;div *ngIf&#x3D;&quot;heritageGameAnalysis&quot;&gt;

    &lt;form class&#x3D;&quot;analysis-form&quot; (ngSubmit)&#x3D;&quot;onSubmit()&quot; #heritageGameAnalysisForm&#x3D;&quot;ngForm&quot; name&#x3D;&quot;heritageGameAnalysis&quot;&gt;

      &lt;mat-toolbar&gt;
        &lt;span&gt;非遗利益相关者博弈: {{ heritage.name }} &lt;/span&gt;
        &lt;span class&#x3D;&quot;spacer&quot;&gt;&lt;/span&gt;
        &lt;button mat-button class&#x3D;&quot;form-save&quot;&gt;博弈并保存&lt;/button&gt;
        &lt;button type&#x3D;&quot;button&quot; mat-button class&#x3D;&quot;form-save&quot; [routerLink]&#x3D;&quot;[&#x27;/heritagenav&#x27;, heritage.id]&quot;&gt;返回&lt;/button&gt;
      &lt;/mat-toolbar&gt;

      &lt;mat-grid-list cols&#x3D;&quot;10&quot; rowHeight&#x3D;&quot;50px&quot;&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          参数
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          参数值
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          路径i的取值
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          对参数值的分析
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          Ci
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;CiA&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ciA&quot; name&#x3D;&quot;ciA&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &lt;&#x3D; 8 &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
            与传承人单一开发相比，传承人选择合作开发时，由于可能实现规模化生产而降低产品开发成本。即一般应有：ciA&gt;ciB
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;CiB&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ciB&quot; name&#x3D;&quot;ciB&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &gt; 8
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          Ii
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Ii&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ii&quot; name&#x3D;&quot;ii&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;9,10,…16
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          当传承人对非遗产品的评估价值较高时，与企业合作开发时可能会要求企业支付知识产权使用费。
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          Pi
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;PiA&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.piA&quot; name&#x3D;&quot;piA&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &lt;&#x3D; 8 &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
            与传承人单一开发相比，传承人选择合作开发时，由于有其他利益相关者的参与和支持，营销力度更大，宣传范围更广，因而更有可能采取高价策略，以高价售出非遗产品。即一般应有：piA &lt; piB &lt;/mat-grid-tile&gt;
              &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
              &lt;mat-form-field&gt;
                &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;PiB&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.piB&quot; name&#x3D;&quot;piB&quot;&gt;
              &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &gt; 8
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          Vi5
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi5A&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi5A&quot; name&#x3D;&quot;vi5A&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,5,6,9,10,13,14,17,18,21,22
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          当非遗产品开发获政府支持时，消费者出于对政府及其价值判断的信赖，对该非遗产品的价值认可度通常会更高。即一般应有：vi5A &gt; vi5B
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi5B&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi5B&quot; name&#x3D;&quot;vi5B&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;3,4,7,8,11,12,15,16,19,20,23,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          Vi4
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi4A&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi4A&quot; name&#x3D;&quot;vi4A&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,3,4,9,10,11,12,17,18,19,20
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          当非遗产品开发能吸引专家参与时，政府出于对专家的专业水平的信任，对该非遗产品的价值认可度通常会更高。即一般应有：vi4A &gt; vi4B
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi4B&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi4B&quot; name&#x3D;&quot;vi4B&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;5,6,7,8,13,14,15,16,21,22,23,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          Vi3
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi3A&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi3A&quot; name&#x3D;&quot;vi3A&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &lt;&#x3D; 8 &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
            与传承人单一开发相比，当传承人选择合作开发模式时，专家更倾向于认为该非遗产品更有开发价值。即一般应有：vi3A &lt; vi3B &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot;
              [rowspan]&#x3D;&quot;1&quot;&gt;
              &lt;mat-form-field&gt;
                &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi3B&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi3B&quot; name&#x3D;&quot;vi3B&quot;&gt;
              &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&gt;8
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          Vi1
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;Vi1&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.vi1&quot; name&#x3D;&quot;vi1&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,…,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          所有利益相关者中，传承人对非遗产品的情况最为了解，掌握的信息最为完全，因而其对非遗产品的价值判断一般也保持稳定
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          ai4
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;ai4&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ai4&quot; name&#x3D;&quot;ai4&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,5,6,9,10,13,14,17,18,21,22
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          政府选择支持非遗产品开发时，政府分担开发成本的比例为ai4；不支持时，该比例为0
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;0&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;3,4,7,8,11,12,15,16,19,20,23,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          ai3
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;ai3&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ai3&quot; name&#x3D;&quot;ai3&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,3,4,9,10,11,12,17,18,19,20
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          专家选择参与非遗产品开发时，专家分担开发成本的比例为ai3；不参与时，该比例为0
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;0&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;5,6,7,8,13,14,15,16,21,22,23,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          ai2
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;ai2&quot; [(ngModel)]&#x3D;&quot;heritageGameAnalysis.ai2&quot; name&#x3D;&quot;ai2&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;9,10,…,16
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          企业选择对非遗产品开发进行投资时，企业分担开发成本的比例为ai2；不投资时，该比例为0
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;0&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,…,8,17,18,…24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          ai1
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;1-(ai2+ai3+ai4)&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i&#x3D;1,2,…,24
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          其他利益相关者分担成本后的产品开发成本均由传承人来承担
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          bij (j!&#x3D;1)
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;0&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &lt;&#x3D; 8 &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
            在传承人单一开发模式下，其他利益相关者不能获得对产品销售收入的分成，即bij&#x3D;0；在合作开发模式下，其他利益相关者对销售收入的分成比例与其成本分担比例基本一致，即bij&#x3D;aij
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;aij&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &gt; 8
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;1&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
          bi1
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;1&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &lt;&#x3D; 8 &lt;/mat-grid-tile&gt; &lt;mat-grid-tile [colspan]&#x3D;&quot;4&quot; [rowspan]&#x3D;&quot;2&quot;&gt;
            在传承人单一开发模式下，传承人可获得非遗产品的全部销售收入，即bi1&#x3D;1；在合作开发模式下，传承人对销售收入的分成比例与其成本分担比例基本一致，即bi1&#x3D;ai1
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;2&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          &lt;mat-form-field&gt;
            &lt;input class&#x3D;&quot;parameter-field&quot; matInput placeholder&#x3D;&quot;ai1&quot; [readonly]&#x3D;&quot;true&quot;&gt;
          &lt;/mat-form-field&gt;
        &lt;/mat-grid-tile&gt;
        &lt;mat-grid-tile [colspan]&#x3D;&quot;3&quot; [rowspan]&#x3D;&quot;1&quot;&gt;
          i &gt; 8
        &lt;/mat-grid-tile&gt;
      &lt;/mat-grid-list&gt;
    &lt;/form&gt;
    &lt;mat-card class&#x3D;&quot;analysis-tree&quot;&gt;
      &lt;mat-card-header&gt;
        &lt;mat-card-title&gt;利益相关者博弈最优路径分析 &lt;/mat-card-title&gt;
        &lt;br&gt;
        &lt;p&gt;结果: {{ bestRoute }}&lt;/p&gt;
      &lt;/mat-card-header&gt;
      &lt;mat-card-actions&gt;
        &lt;button mat-raised-button (click)&#x3D;&quot;analyse()&quot; &gt;分析&lt;/button&gt;
      &lt;/mat-card-actions&gt;
      &lt;mat-card-content&gt;
        &lt;h3&gt;Game Playing Analysis&lt;/h3&gt;
        &lt;p-tree [value]&#x3D;&quot;decisionTree&quot; layout&#x3D;&quot;horizontal&quot; selectionMode&#x3D;&quot;single&quot;&gt;&lt;/p-tree&gt;
      &lt;/mat-card-content&gt;
    &lt;/mat-card&gt;

  &lt;/div&gt;
&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./heritage-analysis.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">.spacer {
    -webkit-box-flex: 1;
    -ms-flex: 1 1 auto;
    flex: 1 1 auto;
}

.parameter-field {
    min-width: 40px;
    max-width: 80px;
}

mat-grid-tile {
    border: solid 1px;
}

.basic-container {
    padding-left: 15%;
    padding-right: 15%;
    padding-top: 1%;
    padding-bottom: 2%;  
  }
  

</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="basic-container" *ngIf="heritage">  <div *ngIf="heritageGameAnalysis">    <form class="analysis-form" (ngSubmit)="onSubmit()" #heritageGameAnalysisForm="ngForm" name="heritageGameAnalysis">      <mat-toolbar>        <span>非遗利益相关者博弈: {{ heritage.name }} </span>        <span class="spacer"></span>        <button mat-button class="form-save">博弈并保存</button>        <button type="button" mat-button class="form-save" [routerLink]="[\'/heritagenav\', heritage.id]">返回</button>      </mat-toolbar>      <mat-grid-list cols="10" rowHeight="50px">        <mat-grid-tile [colspan]="1" [rowspan]="1">          参数        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          参数值        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          路径i的取值        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="1">          对参数值的分析        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          Ci        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="CiA" [(ngModel)]="heritageGameAnalysis.ciA" name="ciA">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]="4" [rowspan]="2">            与传承人单一开发相比，传承人选择合作开发时，由于可能实现规模化生产而降低产品开发成本。即一般应有：ciA>ciB        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="CiB" [(ngModel)]="heritageGameAnalysis.ciB" name="ciB">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i > 8        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="1">          Ii        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Ii" [(ngModel)]="heritageGameAnalysis.ii" name="ii">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=9,10,…16        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="1">          当传承人对非遗产品的评估价值较高时，与企业合作开发时可能会要求企业支付知识产权使用费。        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          Pi        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="PiA" [(ngModel)]="heritageGameAnalysis.piA" name="piA">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]="4" [rowspan]="2">            与传承人单一开发相比，传承人选择合作开发时，由于有其他利益相关者的参与和支持，营销力度更大，宣传范围更广，因而更有可能采取高价策略，以高价售出非遗产品。即一般应有：piA < piB </mat-grid-tile>              <mat-grid-tile [colspan]="2" [rowspan]="1">              <mat-form-field>                <input class="parameter-field" matInput placeholder="PiB" [(ngModel)]="heritageGameAnalysis.piB" name="piB">              </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i > 8        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          Vi5        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi5A" [(ngModel)]="heritageGameAnalysis.vi5A" name="vi5A">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,5,6,9,10,13,14,17,18,21,22        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="2">          当非遗产品开发获政府支持时，消费者出于对政府及其价值判断的信赖，对该非遗产品的价值认可度通常会更高。即一般应有：vi5A > vi5B        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi5B" [(ngModel)]="heritageGameAnalysis.vi5B" name="vi5B">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=3,4,7,8,11,12,15,16,19,20,23,24        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          Vi4        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi4A" [(ngModel)]="heritageGameAnalysis.vi4A" name="vi4A">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,3,4,9,10,11,12,17,18,19,20        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="2">          当非遗产品开发能吸引专家参与时，政府出于对专家的专业水平的信任，对该非遗产品的价值认可度通常会更高。即一般应有：vi4A > vi4B        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi4B" [(ngModel)]="heritageGameAnalysis.vi4B" name="vi4B">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=5,6,7,8,13,14,15,16,21,22,23,24        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          Vi3        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi3A" [(ngModel)]="heritageGameAnalysis.vi3A" name="vi3A">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]="4" [rowspan]="2">            与传承人单一开发相比，当传承人选择合作开发模式时，专家更倾向于认为该非遗产品更有开发价值。即一般应有：vi3A < vi3B </mat-grid-tile> <mat-grid-tile [colspan]="2"              [rowspan]="1">              <mat-form-field>                <input class="parameter-field" matInput placeholder="Vi3B" [(ngModel)]="heritageGameAnalysis.vi3B" name="vi3B">              </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i>8        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="1">          Vi1        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="Vi1" [(ngModel)]="heritageGameAnalysis.vi1" name="vi1">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,…,24        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="1">          所有利益相关者中，传承人对非遗产品的情况最为了解，掌握的信息最为完全，因而其对非遗产品的价值判断一般也保持稳定        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          ai4        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="ai4" [(ngModel)]="heritageGameAnalysis.ai4" name="ai4">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,5,6,9,10,13,14,17,18,21,22        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="2">          政府选择支持非遗产品开发时，政府分担开发成本的比例为ai4；不支持时，该比例为0        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="0" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=3,4,7,8,11,12,15,16,19,20,23,24        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          ai3        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="ai3" [(ngModel)]="heritageGameAnalysis.ai3" name="ai3">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,3,4,9,10,11,12,17,18,19,20        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="2">          专家选择参与非遗产品开发时，专家分担开发成本的比例为ai3；不参与时，该比例为0        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="0" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=5,6,7,8,13,14,15,16,21,22,23,24        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          ai2        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="ai2" [(ngModel)]="heritageGameAnalysis.ai2" name="ai2">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=9,10,…,16        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="2">          企业选择对非遗产品开发进行投资时，企业分担开发成本的比例为ai2；不投资时，该比例为0        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="0" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,…,8,17,18,…24        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="1">          ai1        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="1-(ai2+ai3+ai4)" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i=1,2,…,24        </mat-grid-tile>        <mat-grid-tile [colspan]="4" [rowspan]="1">          其他利益相关者分担成本后的产品开发成本均由传承人来承担        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          bij (j!=1)        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="0" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]="4" [rowspan]="2">            在传承人单一开发模式下，其他利益相关者不能获得对产品销售收入的分成，即bij=0；在合作开发模式下，其他利益相关者对销售收入的分成比例与其成本分担比例基本一致，即bij=aij        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="aij" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i > 8        </mat-grid-tile>        <mat-grid-tile [colspan]="1" [rowspan]="2">          bi1        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="1" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i <= 8 </mat-grid-tile> <mat-grid-tile [colspan]="4" [rowspan]="2">            在传承人单一开发模式下，传承人可获得非遗产品的全部销售收入，即bi1=1；在合作开发模式下，传承人对销售收入的分成比例与其成本分担比例基本一致，即bi1=ai1        </mat-grid-tile>        <mat-grid-tile [colspan]="2" [rowspan]="1">          <mat-form-field>            <input class="parameter-field" matInput placeholder="ai1" [readonly]="true">          </mat-form-field>        </mat-grid-tile>        <mat-grid-tile [colspan]="3" [rowspan]="1">          i > 8        </mat-grid-tile>      </mat-grid-list>    </form>    <mat-card class="analysis-tree">      <mat-card-header>        <mat-card-title>利益相关者博弈最优路径分析 </mat-card-title>        <br>        <p>结果: {{ bestRoute }}</p>      </mat-card-header>      <mat-card-actions>        <button mat-raised-button (click)="analyse()" >分析</button>      </mat-card-actions>      <mat-card-content>        <h3>Game Playing Analysis</h3>        <p-tree [value]="decisionTree" layout="horizontal" selectionMode="single"></p-tree>      </mat-card-content>    </mat-card>  </div></div></div>'
    var COMPONENTS = [{'name': 'AboutUsComponent', 'selector': 'app-about-us'},{'name': 'ActivationModeAddDialogComponent', 'selector': 'activation-mode-add.dialog'},{'name': 'ActivationModeDeleteDialogComponent', 'selector': 'activation-mode-delete.dialog'},{'name': 'ActivationModeEditDialogComponent', 'selector': 'app-baza.dialog'},{'name': 'ActivationModeListComponent', 'selector': 'app-activation-mode-list'},{'name': 'AddDialogComponent', 'selector': 'app-add.dialog'},{'name': 'AlertComponent', 'selector': 'alert'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'AppHeaderComponent', 'selector': 'app-header'},{'name': 'AppLayoutComponent', 'selector': 'app-app-layout'},{'name': 'CommentBoxComponent', 'selector': 'comment-box'},{'name': 'CommentComponent', 'selector': 'app-comment'},{'name': 'CommentFormComponent', 'selector': 'comment-form'},{'name': 'CommentListComponent', 'selector': 'comment-list'},{'name': 'DeleteDialogComponent', 'selector': 'app-delete.dialog'},{'name': 'EditDialogComponent', 'selector': 'app-baza.dialog'},{'name': 'FileManagerComponent', 'selector': 'app-file-manager'},{'name': 'HeritageActivationComponent', 'selector': 'app-heritage-activation'},{'name': 'HeritageAnalysisComponent', 'selector': 'app-heritage-analysis'},{'name': 'HeritageDeleteDialogComponent', 'selector': 'heritage-delete.dialog'},{'name': 'HeritageDetailComponent', 'selector': 'app-heritage-detail'},{'name': 'HeritageEvaluationComponent', 'selector': 'app-heritage-evaluation'},{'name': 'HeritageListComponent', 'selector': 'app-heritage-list'},{'name': 'HeritageNavComponent', 'selector': 'app-heritage-nav'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'SiteFooterComponent', 'selector': 'site-footer'},{'name': 'SiteHeaderComponent', 'selector': 'site-header'},{'name': 'SiteLayoutComponent', 'selector': 'app-site-layout'},{'name': 'UserListComponent', 'selector': 'app-user-list'},{'name': 'WelcomeComponent', 'selector': 'app-welcome'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'HeritageAnalysisComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'HeritageAnalysisComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
